var ZC=Object.create;var Wl=Object.defineProperty,YC=Object.defineProperties,QC=Object.getOwnPropertyDescriptor,XC=Object.getOwnPropertyDescriptors,KC=Object.getOwnPropertyNames,rc=Object.getOwnPropertySymbols,JC=Object.getPrototypeOf,Gl=Object.prototype.hasOwnProperty,gm=Object.prototype.propertyIsEnumerable;var mm=(t,e,n)=>e in t?Wl(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,w=(t,e)=>{for(var n in e||={})Gl.call(e,n)&&mm(t,n,e[n]);if(rc)for(var n of rc(e))gm.call(e,n)&&mm(t,n,e[n]);return t},V=(t,e)=>YC(t,XC(e));var Br=(t,e)=>{var n={};for(var r in t)Gl.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&rc)for(var r of rc(t))e.indexOf(r)<0&&gm.call(t,r)&&(n[r]=t[r]);return n};var pn=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var eD=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of KC(e))!Gl.call(t,o)&&o!==n&&Wl(t,o,{get:()=>e[o],enumerable:!(r=QC(e,o))||r.enumerable});return t};var vm=(t,e,n)=>(n=t!=null?ZC(JC(t)):{},eD(e||!t||!t.__esModule?Wl(n,"default",{value:t,enumerable:!0}):n,t));var z=(t,e,n)=>new Promise((r,o)=>{var i=c=>{try{a(n.next(c))}catch(u){o(u)}},s=c=>{try{a(n.throw(c))}catch(u){o(u)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(i,s);a((n=n.apply(t,e)).next())});var fx=pn((aU,Ia)=>{"use strict";function N1(t){if(Array.isArray(t))return t}Ia.exports=N1,Ia.exports.__esModule=!0,Ia.exports.default=Ia.exports});var px=pn((cU,Aa)=>{"use strict";function O1(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,o,i,s,a=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(l){u=!0,o=l}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw o}}return a}}Aa.exports=O1,Aa.exports.__esModule=!0,Aa.exports.default=Aa.exports});var mx=pn((uU,Ma)=>{"use strict";function k1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Ma.exports=k1,Ma.exports.__esModule=!0,Ma.exports.default=Ma.exports});var vx=pn((lU,Na)=>{"use strict";var gx=mx();function R1(t,e){if(t){if(typeof t=="string")return gx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gx(t,e)}}Na.exports=R1,Na.exports.__esModule=!0,Na.exports.default=Na.exports});var yx=pn((dU,Oa)=>{"use strict";function F1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}Oa.exports=F1,Oa.exports.__esModule=!0,Oa.exports.default=Oa.exports});var _x=pn((hU,ka)=>{"use strict";var P1=fx(),V1=px(),L1=vx(),j1=yx();function B1(t,e){return P1(t)||V1(t,e)||L1(t,e)||j1()}ka.exports=B1,ka.exports.__esModule=!0,ka.exports.default=ka.exports});var xx=pn((fU,Ra)=>{"use strict";function U1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Ra.exports=U1,Ra.exports.__esModule=!0,Ra.exports.default=Ra.exports});var wp=pn((pU,kr)=>{"use strict";function xp(t){"@babel/helpers - typeof";return kr.exports=xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kr.exports.__esModule=!0,kr.exports.default=kr.exports,xp(t)}kr.exports=xp,kr.exports.__esModule=!0,kr.exports.default=kr.exports});var bx=pn((mU,Fa)=>{"use strict";var wx=wp().default;function q1(t,e){if(wx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(wx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}Fa.exports=q1,Fa.exports.__esModule=!0,Fa.exports.default=Fa.exports});var Cx=pn((gU,Pa)=>{"use strict";var $1=wp().default,H1=bx();function W1(t){var e=H1(t,"string");return $1(e)=="symbol"?e:String(e)}Pa.exports=W1,Pa.exports.__esModule=!0,Pa.exports.default=Pa.exports});var Sx=pn((vU,Va)=>{"use strict";var G1=Cx();function Dx(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,G1(r.key),r)}}function z1(t,e,n){return e&&Dx(t.prototype,e),n&&Dx(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}Va.exports=z1,Va.exports.__esModule=!0,Va.exports.default=Va.exports});var bp=pn((zu,Tx)=>{"use strict";(function(t,e){typeof zu=="object"&&typeof Tx<"u"?e(zu,_x(),xx(),Sx()):typeof define=="function"&&define.amd?define(["exports","@babel/runtime/helpers/slicedToArray","@babel/runtime/helpers/classCallCheck","@babel/runtime/helpers/createClass"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(t.automationEvents={},t._slicedToArray,t._classCallCheck,t._createClass))})(zu,function(t,e,n,r){"use strict";var o=function(S,A,T){return{endTime:A,insertTime:T,type:"exponentialRampToValue",value:S}},i=function(S,A,T){return{endTime:A,insertTime:T,type:"linearRampToValue",value:S}},s=function(S,A){return{startTime:A,type:"setValue",value:S}},a=function(S,A,T){return{duration:T,startTime:A,type:"setValueCurve",values:S}},c=function(S,A,T){var L=T.startTime,O=T.target,U=T.timeConstant;return O+(A-O)*Math.exp((L-S)/U)},u=function(S){return S.type==="exponentialRampToValue"},l=function(S){return S.type==="linearRampToValue"},d=function(S){return u(S)||l(S)},h=function(S){return S.type==="setValue"},f=function(S){return S.type==="setValueCurve"},p=function E(S,A,T,L){var O=S[A];return O===void 0?L:d(O)||h(O)?O.value:f(O)?O.values[O.values.length-1]:c(T,E(S,A-1,O.startTime,L),O)},g=function(S,A,T,L,O){return T===void 0?[L.insertTime,O]:d(T)?[T.endTime,T.value]:h(T)?[T.startTime,T.value]:f(T)?[T.startTime+T.duration,T.values[T.values.length-1]]:[T.startTime,p(S,A-1,T.startTime,O)]},m=function(S){return S.type==="cancelAndHold"},v=function(S){return S.type==="cancelScheduledValues"},D=function(S){return m(S)||v(S)?S.cancelTime:u(S)||l(S)?S.endTime:S.startTime},I=function(S,A,T,L){var O=L.endTime,U=L.value;return T===U?U:0<T&&0<U||T<0&&U<0?T*Math.pow(U/T,(S-A)/(O-A)):0},M=function(S,A,T,L){var O=L.endTime,U=L.value;return T+(S-A)/(O-A)*(U-T)},C=function(S,A){var T=Math.floor(A),L=Math.ceil(A);return T===L?S[T]:(1-(A-T))*S[T]+(1-(L-A))*S[L]},b=function(S,A){var T=A.duration,L=A.startTime,O=A.values,U=(S-L)/T*(O.length-1);return C(O,U)},x=function(S){return S.type==="setTarget"},_=function(E){function S(A){n(this,S),this._automationEvents=[],this._currenTime=0,this._defaultValue=A}return r(S,[{key:E,value:function(){return this._automationEvents[Symbol.iterator]()}},{key:"add",value:function(T){var L=D(T);if(m(T)||v(T)){var O=this._automationEvents.findIndex(function(Y){return v(T)&&f(Y)?Y.startTime+Y.duration>=L:D(Y)>=L}),U=this._automationEvents[O];if(O!==-1&&(this._automationEvents=this._automationEvents.slice(0,O)),m(T)){var P=this._automationEvents[this._automationEvents.length-1];if(U!==void 0&&d(U)){if(P!==void 0&&x(P))throw new Error("The internal list is malformed.");var Ce=P===void 0?U.insertTime:f(P)?P.startTime+P.duration:D(P),ke=P===void 0?this._defaultValue:f(P)?P.values[P.values.length-1]:P.value,gt=u(U)?I(L,Ce,ke,U):M(L,Ce,ke,U),wt=u(U)?o(gt,L,this._currenTime):i(gt,L,this._currenTime);this._automationEvents.push(wt)}if(P!==void 0&&x(P)&&this._automationEvents.push(s(this.getValue(L),L)),P!==void 0&&f(P)&&P.startTime+P.duration>L){var ye=L-P.startTime,ne=(P.values.length-1)/P.duration,hn=Math.max(2,1+Math.ceil(ye*ne)),nr=ye/(hn-1)*ne,Z=P.values.slice(0,hn);if(nr<1)for(var tn=1;tn<hn;tn+=1){var Sr=nr*tn%1;Z[tn]=P.values[tn-1]*(1-Sr)+P.values[tn]*Sr}this._automationEvents[this._automationEvents.length-1]=a(Z,P.startTime,ye)}}}else{var Pn=this._automationEvents.findIndex(function(Y){return D(Y)>L}),rr=Pn===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[Pn-1];if(rr!==void 0&&f(rr)&&D(rr)+rr.duration>L)return!1;var q=u(T)?o(T.value,T.endTime,this._currenTime):l(T)?i(T.value,L,this._currenTime):T;if(Pn===-1)this._automationEvents.push(q);else{if(f(T)&&L+T.duration>D(this._automationEvents[Pn]))return!1;this._automationEvents.splice(Pn,0,q)}}return!0}},{key:"flush",value:function(T){var L=this._automationEvents.findIndex(function(P){return D(P)>T});if(L>1){var O=this._automationEvents.slice(L-1),U=O[0];x(U)&&O.unshift(s(p(this._automationEvents,L-2,U.startTime,this._defaultValue),U.startTime)),this._automationEvents=O}}},{key:"getValue",value:function(T){if(this._automationEvents.length===0)return this._defaultValue;var L=this._automationEvents.findIndex(function(Z){return D(Z)>T}),O=this._automationEvents[L],U=(L===-1?this._automationEvents.length:L)-1,P=this._automationEvents[U];if(P!==void 0&&x(P)&&(O===void 0||!d(O)||O.insertTime>T))return c(T,p(this._automationEvents,U-1,P.startTime,this._defaultValue),P);if(P!==void 0&&h(P)&&(O===void 0||!d(O)))return P.value;if(P!==void 0&&f(P)&&(O===void 0||!d(O)||P.startTime+P.duration>T))return T<P.startTime+P.duration?b(T,P):P.values[P.values.length-1];if(P!==void 0&&d(P)&&(O===void 0||!d(O)))return P.value;if(O!==void 0&&u(O)){var Ce=g(this._automationEvents,U,P,O,this._defaultValue),ke=e(Ce,2),gt=ke[0],wt=ke[1];return I(T,gt,wt,O)}if(O!==void 0&&l(O)){var ye=g(this._automationEvents,U,P,O,this._defaultValue),ne=e(ye,2),hn=ne[0],nr=ne[1];return M(T,hn,nr,O)}return this._defaultValue}}]),S}(Symbol.iterator),R=function(S){return{cancelTime:S,type:"cancelAndHold"}},H=function(S){return{cancelTime:S,type:"cancelScheduledValues"}},k=function(S,A){return{endTime:A,type:"exponentialRampToValue",value:S}},N=function(S,A){return{endTime:A,type:"linearRampToValue",value:S}},W=function(S,A,T){return{startTime:A,target:S,timeConstant:T,type:"setTarget"}};t.AutomationEventList=_,t.createCancelAndHoldAutomationEvent=R,t.createCancelScheduledValuesAutomationEvent=H,t.createExponentialRampToValueAutomationEvent=k,t.createLinearRampToValueAutomationEvent=N,t.createSetTargetAutomationEvent=W,t.createSetValueAutomationEvent=s,t.createSetValueCurveAutomationEvent=a})});var ym=null;var zl=1;function nn(t){let e=ym;return ym=t,e}var _m={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function tD(t){if(!(Ql(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===zl)){if(!t.producerMustRecompute(t)&&!Zl(t)){t.dirty=!1,t.lastCleanEpoch=zl;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=zl}}function xm(t){return t&&(t.nextProducerIndex=0),nn(t)}function wm(t,e){if(nn(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Ql(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Yl(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Zl(t){oc(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(tD(n),r!==n.version))return!0}return!1}function bm(t){if(oc(t),Ql(t))for(let e=0;e<t.producerNode.length;e++)Yl(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Yl(t,e){if(nD(t),oc(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)Yl(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],o=t.liveConsumerNode[e];oc(o),o.producerIndexOfThis[r]=e}}function Ql(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function oc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function nD(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function rD(){throw new Error}var oD=rD;function Cm(t){oD=t}function K(t){return typeof t=="function"}function Qo(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var ic=Qo(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,o)=>`${o+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function po(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Xe=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let i of n)i.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(K(r))try{r()}catch(i){e=i instanceof ic?i.errors:[i]}let{_finalizers:o}=this;if(o){this._finalizers=null;for(let i of o)try{Dm(i)}catch(s){e=e??[],s instanceof ic?e=[...e,...s.errors]:e.push(s)}}if(e)throw new ic(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Dm(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&po(n,e)}remove(e){let{_finalizers:n}=this;n&&po(n,e),e instanceof t&&e._removeParent(this)}};Xe.EMPTY=(()=>{let t=new Xe;return t.closed=!0,t})();var Xl=Xe.EMPTY;function sc(t){return t instanceof Xe||t&&"closed"in t&&K(t.remove)&&K(t.add)&&K(t.unsubscribe)}function Dm(t){K(t)?t():t.unsubscribe()}var Vn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Xo={setTimeout(t,e,...n){let{delegate:r}=Xo;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Xo;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function ac(t){Xo.setTimeout(()=>{let{onUnhandledError:e}=Vn;if(e)e(t);else throw t})}function Os(){}var Sm=(()=>Kl("C",void 0,void 0))();function Tm(t){return Kl("E",void 0,t)}function Em(t){return Kl("N",t,void 0)}function Kl(t,e,n){return{kind:t,value:e,error:n}}var mo=null;function Ko(t){if(Vn.useDeprecatedSynchronousErrorHandling){let e=!mo;if(e&&(mo={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=mo;if(mo=null,n)throw r}}else t()}function Im(t){Vn.useDeprecatedSynchronousErrorHandling&&mo&&(mo.errorThrown=!0,mo.error=t)}var go=class extends Xe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,sc(e)&&e.add(this)):this.destination=aD}static create(e,n,r){return new Jo(e,n,r)}next(e){this.isStopped?ed(Em(e),this):this._next(e)}error(e){this.isStopped?ed(Tm(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?ed(Sm,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},iD=Function.prototype.bind;function Jl(t,e){return iD.call(t,e)}var td=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){cc(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){cc(r)}else cc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){cc(n)}}},Jo=class extends go{constructor(e,n,r){super();let o;if(K(e)||!e)o={next:e??void 0,error:n??void 0,complete:r??void 0};else{let i;this&&Vn.useDeprecatedNextContext?(i=Object.create(e),i.unsubscribe=()=>this.unsubscribe(),o={next:e.next&&Jl(e.next,i),error:e.error&&Jl(e.error,i),complete:e.complete&&Jl(e.complete,i)}):o=e}this.destination=new td(o)}};function cc(t){Vn.useDeprecatedSynchronousErrorHandling?Im(t):ac(t)}function sD(t){throw t}function ed(t,e){let{onStoppedNotification:n}=Vn;n&&Xo.setTimeout(()=>n(t,e))}var aD={closed:!0,next:Os,error:sD,complete:Os};var ei=(()=>typeof Symbol=="function"&&Symbol.observable||"@@observable")();function rn(t){return t}function nd(...t){return rd(t)}function rd(t){return t.length===0?rn:t.length===1?t[0]:function(n){return t.reduce((r,o)=>o(r),n)}}var Ee=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,o){let i=uD(n)?n:new Jo(n,r,o);return Ko(()=>{let{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Am(r),new r((o,i)=>{let s=new Jo({next:a=>{try{n(a)}catch(c){i(c),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[ei](){return this}pipe(...n){return rd(n)(this)}toPromise(n){return n=Am(n),new n((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return t.create=e=>new t(e),t})();function Am(t){var e;return(e=t??Vn.Promise)!==null&&e!==void 0?e:Promise}function cD(t){return t&&K(t.next)&&K(t.error)&&K(t.complete)}function uD(t){return t&&t instanceof go||cD(t)&&sc(t)}function od(t){return K(t?.lift)}function me(t){return e=>{if(od(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ge(t,e,n,r,o){return new id(t,e,n,r,o)}var id=class extends go{constructor(e,n,r,o,i,s){super(e),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=o?function(a){try{o(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function ti(){return me((t,e)=>{let n=null;t._refCount++;let r=ge(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let o=t._connection,i=n;n=null,o&&(!i||o===i)&&o.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var ni=class extends Ee{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,od(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Xe;let n=this.getSubject();e.add(this.source.subscribe(ge(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Xe.EMPTY)}return e}refCount(){return ti()(this)}};var Mm=Qo(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var on=(()=>{class t extends Ee{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new uc(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Mm}next(n){Ko(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Ko(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Ko(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:o,observers:i}=this;return r||o?Xl:(this.currentObservers=null,i.push(n),new Xe(()=>{this.currentObservers=null,po(i,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:o,isStopped:i}=this;r?n.error(o):i&&n.complete()}asObservable(){let n=new Ee;return n.source=this,n}}return t.create=(e,n)=>new uc(e,n),t})(),uc=class extends on{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Xl}};var bt=class extends on{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var sd={now(){return(sd.delegate||Date).now()},delegate:void 0};var lc=class extends Xe{constructor(e,n){super()}schedule(e,n=0){return this}};var ks={setInterval(t,e,...n){let{delegate:r}=ks;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=ks;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var dc=class extends lc{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let o=this.id,i=this.scheduler;return o!=null&&(this.id=this.recycleAsyncId(i,o,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(i,this.id,n),this}requestAsyncId(e,n,r=0){return ks.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&ks.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,o;try{this.work(e)}catch(i){r=!0,o=i||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,po(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var ri=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};ri.now=sd.now;var hc=class extends ri{constructor(e,n=ri.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Nm=new hc(dc);var mn=new Ee(t=>t.complete());function Om(t){return t&&K(t.schedule)}function km(t){return t[t.length-1]}function Rm(t){return K(km(t))?t.pop():void 0}function Ur(t){return Om(km(t))?t.pop():void 0}function Mt(t,e,n,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(i=(o<3?s(i):o>3?s(e,n,i):s(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i}function ve(t,e,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?i(l.value):o(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}function Fm(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function vo(t){return this instanceof vo?(this.v=t,this):new vo(t)}function Pm(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),o,i=[];return o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o;function s(h){r[h]&&(o[h]=function(f){return new Promise(function(p,g){i.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{c(r[h](f))}catch(p){d(i[0][3],p)}}function c(h){h.value instanceof vo?Promise.resolve(h.value.v).then(u,l):d(i[0][2],h)}function u(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),i.shift(),i.length&&a(i[0][0],i[0][1])}}function Vm(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Fm=="function"?Fm(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(s){return new Promise(function(a,c){s=t[i](s),o(a,c,s.done,s.value)})}}function o(i,s,a,c){Promise.resolve(c).then(function(u){i({value:u,done:a})},s)}}var oi=t=>t&&typeof t.length=="number"&&typeof t!="function";function fc(t){return K(t?.then)}function pc(t){return K(t[ei])}function mc(t){return Symbol.asyncIterator&&K(t?.[Symbol.asyncIterator])}function gc(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function lD(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var vc=lD();function yc(t){return K(t?.[vc])}function _c(t){return Pm(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:o}=yield vo(n.read());if(o)return yield vo(void 0);yield yield vo(r)}}finally{n.releaseLock()}})}function xc(t){return K(t?.getReader)}function ot(t){if(t instanceof Ee)return t;if(t!=null){if(pc(t))return dD(t);if(oi(t))return hD(t);if(fc(t))return fD(t);if(mc(t))return Lm(t);if(yc(t))return pD(t);if(xc(t))return mD(t)}throw gc(t)}function dD(t){return new Ee(e=>{let n=t[ei]();if(K(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function hD(t){return new Ee(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function fD(t){return new Ee(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,ac)})}function pD(t){return new Ee(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Lm(t){return new Ee(e=>{gD(t,e).catch(n=>e.error(n))})}function mD(t){return Lm(_c(t))}function gD(t,e){var n,r,o,i;return ve(this,void 0,void 0,function*(){try{for(n=Vm(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=n.return)&&(yield i.call(n))}finally{if(o)throw o.error}}e.complete()})}function Ht(t,e,n,r=0,o=!1){let i=e.schedule(function(){n(),o?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(i),!o)return i}function wc(t,e=0){return me((n,r)=>{n.subscribe(ge(r,o=>Ht(r,t,()=>r.next(o),e),()=>Ht(r,t,()=>r.complete(),e),o=>Ht(r,t,()=>r.error(o),e)))})}function bc(t,e=0){return me((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function jm(t,e){return ot(t).pipe(bc(e),wc(e))}function Bm(t,e){return ot(t).pipe(bc(e),wc(e))}function Um(t,e){return new Ee(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function qm(t,e){return new Ee(n=>{let r;return Ht(n,e,()=>{r=t[vc](),Ht(n,e,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){n.error(s);return}i?n.complete():n.next(o)},0,!0)}),()=>K(r?.return)&&r.return()})}function Cc(t,e){if(!t)throw new Error("Iterable cannot be null");return new Ee(n=>{Ht(n,e,()=>{let r=t[Symbol.asyncIterator]();Ht(n,e,()=>{r.next().then(o=>{o.done?n.complete():n.next(o.value)})},0,!0)})})}function $m(t,e){return Cc(_c(t),e)}function Hm(t,e){if(t!=null){if(pc(t))return jm(t,e);if(oi(t))return Um(t,e);if(fc(t))return Bm(t,e);if(mc(t))return Cc(t,e);if(yc(t))return qm(t,e);if(xc(t))return $m(t,e)}throw gc(t)}function Ke(t,e){return e?Hm(t,e):ot(t)}function se(...t){let e=Ur(t);return Ke(t,e)}function ii(t,e){let n=K(t)?t:()=>t,r=o=>o.error(n());return new Ee(e?o=>e.schedule(r,0,o):r)}function ad(t){return!!t&&(t instanceof Ee||K(t.lift)&&K(t.subscribe))}var Tr=Qo(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function xe(t,e){return me((n,r)=>{let o=0;n.subscribe(ge(r,i=>{r.next(t.call(e,i,o++))}))})}var{isArray:vD}=Array;function yD(t,e){return vD(e)?t(...e):t(e)}function Dc(t){return xe(e=>yD(t,e))}var{isArray:_D}=Array,{getPrototypeOf:xD,prototype:wD,keys:bD}=Object;function Wm(t){if(t.length===1){let e=t[0];if(_D(e))return{args:e,keys:null};if(CD(e)){let n=bD(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function CD(t){return t&&typeof t=="object"&&xD(t)===wD}function Gm(t,e){return t.reduce((n,r,o)=>(n[r]=e[o],n),{})}function Rs(...t){let e=Ur(t),n=Rm(t),{args:r,keys:o}=Wm(t);if(r.length===0)return Ke([],e);let i=new Ee(DD(r,e,o?s=>Gm(o,s):rn));return n?i.pipe(Dc(n)):i}function DD(t,e,n=rn){return r=>{zm(e,()=>{let{length:o}=t,i=new Array(o),s=o,a=o;for(let c=0;c<o;c++)zm(e,()=>{let u=Ke(t[c],e),l=!1;u.subscribe(ge(r,d=>{i[c]=d,l||(l=!0,a--),a||r.next(n(i.slice()))},()=>{--s||r.complete()}))},r)},r)}}function zm(t,e,n){t?Ht(n,t,e):e()}function Zm(t,e,n,r,o,i,s,a){let c=[],u=0,l=0,d=!1,h=()=>{d&&!c.length&&!u&&e.complete()},f=g=>u<r?p(g):c.push(g),p=g=>{i&&e.next(g),u++;let m=!1;ot(n(g,l++)).subscribe(ge(e,v=>{o?.(v),i?f(v):e.next(v)},()=>{m=!0},void 0,()=>{if(m)try{for(u--;c.length&&u<r;){let v=c.shift();s?Ht(e,s,()=>p(v)):p(v)}h()}catch(v){e.error(v)}}))};return t.subscribe(ge(e,f,()=>{d=!0,h()})),()=>{a?.()}}function We(t,e,n=1/0){return K(e)?We((r,o)=>xe((i,s)=>e(r,i,o,s))(ot(t(r,o))),n):(typeof e=="number"&&(n=e),me((r,o)=>Zm(r,o,t,n)))}function si(t=1/0){return We(rn,t)}function Ym(){return si(1)}function ai(...t){return Ym()(Ke(t,Ur(t)))}function Sc(t){return new Ee(e=>{ot(t()).subscribe(e)})}var SD=["addListener","removeListener"],TD=["addEventListener","removeEventListener"],ED=["on","off"];function Fs(t,e,n,r){if(K(n)&&(r=n,n=void 0),r)return Fs(t,e,n).pipe(Dc(r));let[o,i]=MD(t)?TD.map(s=>a=>t[s](e,a,n)):ID(t)?SD.map(Qm(t,e)):AD(t)?ED.map(Qm(t,e)):[];if(!o&&oi(t))return We(s=>Fs(s,e,n))(ot(t));if(!o)throw new TypeError("Invalid event target");return new Ee(s=>{let a=(...c)=>s.next(1<c.length?c:c[0]);return o(a),()=>i(a)})}function Qm(t,e){return n=>r=>t[n](e,r)}function ID(t){return K(t.addListener)&&K(t.removeListener)}function AD(t){return K(t.on)&&K(t.off)}function MD(t){return K(t.addEventListener)&&K(t.removeEventListener)}function gn(t,e){return me((n,r)=>{let o=0;n.subscribe(ge(r,i=>t.call(e,i,o++)&&r.next(i)))})}function qr(t){return me((e,n)=>{let r=null,o=!1,i;r=e.subscribe(ge(n,void 0,void 0,s=>{i=ot(t(s,qr(t)(e))),r?(r.unsubscribe(),r=null,i.subscribe(n)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(n))})}function Xm(t,e,n,r,o){return(i,s)=>{let a=n,c=e,u=0;i.subscribe(ge(s,l=>{let d=u++;c=a?t(c,l,d):(a=!0,l),r&&s.next(c)},o&&(()=>{a&&s.next(c),s.complete()})))}}function yo(t,e){return K(e)?We(t,e,1):We(t,1)}function cd(t,e=Nm){return me((n,r)=>{let o=null,i=null,s=null,a=()=>{if(o){o.unsubscribe(),o=null;let u=i;i=null,r.next(u)}};function c(){let u=s+t,l=e.now();if(l<u){o=this.schedule(void 0,u-l),r.add(o);return}a()}n.subscribe(ge(r,u=>{i=u,s=e.now(),o||(o=e.schedule(c,t),r.add(o))},()=>{a(),r.complete()},void 0,()=>{i=o=null}))})}function $r(t){return me((e,n)=>{let r=!1;e.subscribe(ge(n,o=>{r=!0,n.next(o)},()=>{r||n.next(t),n.complete()}))})}function Er(t){return t<=0?()=>mn:me((e,n)=>{let r=0;e.subscribe(ge(n,o=>{++r<=t&&(n.next(o),t<=r&&n.complete())}))})}function ud(t){return xe(()=>t)}function Tc(t=ND){return me((e,n)=>{let r=!1;e.subscribe(ge(n,o=>{r=!0,n.next(o)},()=>r?n.complete():n.error(t())))})}function ND(){return new Tr}function Ps(t){return me((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function or(t,e){let n=arguments.length>=2;return r=>r.pipe(t?gn((o,i)=>t(o,i,r)):rn,Er(1),n?$r(e):Tc(()=>new Tr))}function ci(t){return t<=0?()=>mn:me((e,n)=>{let r=[];e.subscribe(ge(n,o=>{r.push(o),t<r.length&&r.shift()},()=>{for(let o of r)n.next(o);n.complete()},void 0,()=>{r=null}))})}function ld(t,e){let n=arguments.length>=2;return r=>r.pipe(t?gn((o,i)=>t(o,i,r)):rn,ci(1),n?$r(e):Tc(()=>new Tr))}function dd(t,e){return me(Xm(t,e,arguments.length>=2,!0))}function hd(...t){let e=Ur(t);return me((n,r)=>{(e?ai(t,n,e):ai(t,n)).subscribe(r)})}function vn(t,e){return me((n,r)=>{let o=null,i=0,s=!1,a=()=>s&&!o&&r.complete();n.subscribe(ge(r,c=>{o?.unsubscribe();let u=0,l=i++;ot(t(c,l)).subscribe(o=ge(r,d=>r.next(e?e(c,d,l,u++):d),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function fd(t){return me((e,n)=>{ot(t).subscribe(ge(n,()=>n.complete(),Os)),!n.closed&&e.subscribe(n)})}function Ge(t,e,n){let r=K(t)||e||n?{next:t,error:e,complete:n}:t;return r?me((o,i)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;o.subscribe(ge(i,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),i.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),i.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),i.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):rn}function Re(t){for(let e in t)if(t[e]===Re)return e;throw Error("Could not find renamed property on target object.")}function Nt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Nt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function Km(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var OD=Re({__forward_ref__:Re});function yh(t){return t.__forward_ref__=yh,t.toString=function(){return Nt(this())},t}function _n(t){return Pg(t)?t():t}function Pg(t){return typeof t=="function"&&t.hasOwnProperty(OD)&&t.__forward_ref__===yh}function Vg(t){return t&&!!t.\u0275providers}var kD="https://g.co/ng/security#xss",X=class extends Error{constructor(e,n){super(_h(e,n)),this.code=e}};function _h(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var RD=Re({\u0275cmp:Re}),FD=Re({\u0275dir:Re}),PD=Re({\u0275pipe:Re}),VD=Re({\u0275mod:Re}),Pc=Re({\u0275fac:Re}),Vs=Re({__NG_ELEMENT_ID__:Re}),Jm=Re({__NG_ENV_ID__:Re});function xh(t){return typeof t=="string"?t:t==null?"":String(t)}function LD(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():xh(t)}function jD(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new X(-200,`Circular dependency in DI detected for ${t}${n}`)}function wh(t,e){let n=e?` in ${e}`:"";throw new X(-201,!1)}function BD(t,e){t==null&&UD(e,t,null,"!=")}function UD(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(r==null?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}function ee(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Wt(t){return{providers:t.providers||[],imports:t.imports||[]}}function eu(t){return eg(t,jg)||eg(t,Bg)}function Lg(t){return eu(t)!==null}function eg(t,e){return t.hasOwnProperty(e)?t[e]:null}function qD(t){let e=t&&(t[jg]||t[Bg]);return e||null}function tg(t){return t&&(t.hasOwnProperty(ng)||t.hasOwnProperty($D))?t[ng]:null}var jg=Re({\u0275prov:Re}),ng=Re({\u0275inj:Re}),Bg=Re({ngInjectableDef:Re}),$D=Re({ngInjectorDef:Re}),ue=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ue||{}),Td;function Ug(){return Td}function yn(t){let e=Td;return Td=t,e}function qg(t,e,n){let r=eu(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&ue.Optional)return null;if(e!==void 0)return e;wh(Nt(t),"Injector")}var sn=globalThis;var ae=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=ee({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};var HD={},js=HD,Ed="__NG_DI_FLAG__",Vc="ngTempTokenPath",WD="ngTokenPath",GD=/\n/gm,zD="\u0275",rg="__source",fi;function ZD(){return fi}function Hr(t){let e=fi;return fi=t,e}function YD(t,e=ue.Default){if(fi===void 0)throw new X(-203,!1);return fi===null?qg(t,void 0,e):fi.get(t,e&ue.Optional?null:void 0,e)}function J(t,e=ue.Default){return(Ug()||YD)(_n(t),e)}function $(t,e=ue.Default){return J(t,tu(e))}function tu(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Id(t){let e=[];for(let n=0;n<t.length;n++){let r=_n(t[n]);if(Array.isArray(r)){if(r.length===0)throw new X(900,!1);let o,i=ue.Default;for(let s=0;s<r.length;s++){let a=r[s],c=QD(a);typeof c=="number"?c===-1?o=a.token:i|=c:o=a}e.push(J(o,i))}else e.push(J(r))}return e}function $g(t,e){return t[Ed]=e,t.prototype[Ed]=e,t}function QD(t){return t[Ed]}function XD(t,e,n,r){let o=t[Vc];throw e[rg]&&o.unshift(e[rg]),t.message=KD(`
`+t.message,o,n,r),t[WD]=o,t[Vc]=null,t}function KD(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==zD?t.slice(2):t;let o=Nt(e);if(Array.isArray(e))o=e.map(Nt).join(" -> ");else if(typeof e=="object"){let i=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];i.push(s+":"+(typeof a=="string"?JSON.stringify(a):Nt(a)))}o=`{${i.join(", ")}}`}return`${n}${r?"("+r+")":""}[${o}]: ${t.replace(GD,`
  `)}`}function Qs(t){return{toString:t}.toString()}var Hg=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Hg||{}),cr=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(cr||{}),Bs={},jn=[];function Wg(t,e,n){let r=t.length;for(;;){let o=t.indexOf(e,n);if(o===-1)return o;if(o===0||t.charCodeAt(o-1)<=32){let i=e.length;if(o+i===r||t.charCodeAt(o+i)<=32)return o}n=o+1}}function Ad(t,e,n){let r=0;for(;r<n.length;){let o=n[r];if(typeof o=="number"){if(o!==0)break;r++;let i=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,i)}else{let i=o,s=n[++r];eS(i)?t.setProperty(e,i,s):t.setAttribute(e,i,s),r++}}return r}function JD(t){return t===3||t===4||t===6}function eS(t){return t.charCodeAt(0)===64}function bh(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let o=e[r];typeof o=="number"?n=o:n===0||(n===-1||n===2?og(t,n,o,null,e[++r]):og(t,n,o,null,null))}}return t}function og(t,e,n,r,o){let i=0,s=t.length;if(e===-1)s=-1;else for(;i<t.length;){let a=t[i++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=i-1;break}}}for(;i<t.length;){let a=t[i];if(typeof a=="number")break;if(a===n){if(r===null){o!==null&&(t[i+1]=o);return}else if(r===t[i+1]){t[i+2]=o;return}}i++,r!==null&&i++,o!==null&&i++}s!==-1&&(t.splice(s,0,e),i=s+1),t.splice(i++,0,n),r!==null&&t.splice(i++,0,r),o!==null&&t.splice(i++,0,o)}var Gg="ng-template";function tS(t,e,n){let r=0,o=!0;for(;r<t.length;){let i=t[r++];if(typeof i=="string"&&o){let s=t[r++];if(n&&i==="class"&&Wg(s.toLowerCase(),e,0)!==-1)return!0}else if(i===1){for(;r<t.length&&typeof(i=t[r++])=="string";)if(i.toLowerCase()===e)return!0;return!1}else typeof i=="number"&&(o=!1)}return!1}function zg(t){return t.type===4&&t.value!==Gg}function nS(t,e,n){let r=t.type===4&&!n?Gg:t.value;return e===r}function rS(t,e,n){let r=4,o=t.attrs||[],i=sS(o),s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!Ln(r)&&!Ln(c))return!1;if(s&&Ln(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!nS(t,c,n)||c===""&&e.length===1){if(Ln(r))return!1;s=!0}}else{let u=r&8?c:e[++a];if(r&8&&t.attrs!==null){if(!tS(t.attrs,u,n)){if(Ln(r))return!1;s=!0}continue}let l=r&8?"class":c,d=oS(l,o,zg(t),n);if(d===-1){if(Ln(r))return!1;s=!0;continue}if(u!==""){let h;d>i?h="":h=o[d+1].toLowerCase();let f=r&8?h:null;if(f&&Wg(f,u,0)!==-1||r&2&&u!==h){if(Ln(r))return!1;s=!0}}}}return Ln(r)||s}function Ln(t){return(t&1)===0}function oS(t,e,n,r){if(e===null)return-1;let o=0;if(r||!n){let i=!1;for(;o<e.length;){let s=e[o];if(s===t)return o;if(s===3||s===6)i=!0;else if(s===1||s===2){let a=e[++o];for(;typeof a=="string";)a=e[++o];continue}else{if(s===4)break;if(s===0){o+=4;continue}}o+=i?1:2}return-1}else return aS(e,t)}function Zg(t,e,n=!1){for(let r=0;r<e.length;r++)if(rS(t,e[r],n))return!0;return!1}function iS(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if(!(n&1))return e[n+1]}return null}function sS(t){for(let e=0;e<t.length;e++){let n=t[e];if(JD(n))return e}return t.length}function aS(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function cS(t,e){e:for(let n=0;n<e.length;n++){let r=e[n];if(t.length===r.length){for(let o=0;o<t.length;o++)if(t[o]!==r[o])continue e;return!0}}return!1}function ig(t,e){return t?":not("+e.trim()+")":e}function uS(t){let e=t[0],n=1,r=2,o="",i=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?o+="."+s:r&4&&(o+=" "+s);else o!==""&&!Ln(s)&&(e+=ig(i,o),o=""),r=s,i=i||!Ln(r);n++}return o!==""&&(e+=ig(i,o)),e}function lS(t){return t.map(uS).join(",")}function dS(t){let e=[],n=[],r=1,o=2;for(;r<t.length;){let i=t[r];if(typeof i=="string")o===2?i!==""&&e.push(i,t[++r]):o===8&&n.push(i);else{if(!Ln(o))break;o=i}r++}return{attrs:e,classes:n}}function ze(t){return Qs(()=>{let e=Jg(t),n=V(w({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Hg.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||cr.Emulated,styles:t.styles||jn,_:null,schemas:t.schemas||null,tView:null,id:""});ev(n);let r=t.dependencies;return n.directiveDefs=ag(r,!1),n.pipeDefs=ag(r,!0),n.id=pS(n),n})}function hS(t){return Gr(t)||Yg(t)}function fS(t){return t!==null}function Gt(t){return Qs(()=>({type:t.type,bootstrap:t.bootstrap||jn,declarations:t.declarations||jn,imports:t.imports||jn,exports:t.exports||jn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function sg(t,e){if(t==null)return Bs;let n={};for(let r in t)if(t.hasOwnProperty(r)){let o=t[r],i=o;Array.isArray(o)&&(i=o[1],o=o[0]),n[o]=r,e&&(e[o]=i)}return n}function Di(t){return Qs(()=>{let e=Jg(t);return ev(e),e})}function Gr(t){return t[RD]||null}function Yg(t){return t[FD]||null}function Qg(t){return t[PD]||null}function Xg(t){let e=Gr(t)||Yg(t)||Qg(t);return e!==null?e.standalone:!1}function Kg(t,e){let n=t[VD]||null;if(!n&&e===!0)throw new Error(`Type ${Nt(t)} does not have '\u0275mod' property.`);return n}function Jg(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Bs,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||jn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:sg(t.inputs,e),outputs:sg(t.outputs),debugInfo:null}}function ev(t){t.features?.forEach(e=>e(t))}function ag(t,e){if(!t)return null;let n=e?Qg:hS;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(fS)}function pS(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let o of n)e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483647+1,"c"+e}var Ar=0,he=1,oe=2,it=3,Bn=4,un=5,Us=6,qs=7,Un=8,mi=9,zr=10,st=11,$s=12,cg=13,Si=14,qn=15,Xs=16,ui=17,ar=18,nu=19,tv=20,Wr=21,pd=22,wo=23,ur=25,nv=1;var bo=7,Lc=8,gi=9,an=10,vi=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t[t.HasChildViewsToRefresh=4]="HasChildViewsToRefresh",t}(vi||{});function _o(t){return Array.isArray(t)&&typeof t[nv]=="object"}function $n(t){return Array.isArray(t)&&t[nv]===!0}function Ch(t){return(t.flags&4)!==0}function ru(t){return t.componentOffset>-1}function ou(t){return(t.flags&1)===1}function Ks(t){return!!t.template}function mS(t){return(t[oe]&512)!==0}function yi(t,e){let n=t.hasOwnProperty(Pc);return n?t[Pc]:null}var Md=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Eo(){return rv}function rv(t){return t.type.prototype.ngOnChanges&&(t.setInput=vS),gS}Eo.ngInherit=!0;function gS(){let t=iv(this),e=t?.current;if(e){let n=t.previous;if(n===Bs)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function vS(t,e,n,r){let o=this.declaredInputs[n],i=iv(t)||yS(t,{previous:Bs,current:null}),s=i.current||(i.current={}),a=i.previous,c=a[o];s[o]=new Md(c&&c.currentValue,e,a===Bs),t[r]=e}var ov="__ngSimpleChanges__";function iv(t){return t[ov]||null}function yS(t,e){return t[ov]=e}var ug=null;var ir=function(t,e,n){ug?.(t,e,n)},_S="svg",xS="math",wS=!1;function bS(){return wS}function lr(t){for(;Array.isArray(t);)t=t[Ar];return t}function sv(t,e){return lr(e[t])}function xn(t,e){return lr(e[t.index])}function av(t,e){return t.data[e]}function Io(t,e){let n=e[t];return _o(n)?n:n[Ar]}function CS(t){return(t[oe]&4)===4}function Dh(t){return(t[oe]&128)===128}function DS(t){return $n(t[it])}function _i(t,e){return e==null?null:t[e]}function cv(t){t[ui]=0}function SS(t){t[oe]&1024||(t[oe]|=1024,Dh(t)&&Hs(t))}function TS(t,e){for(;t>0;)e=e[Si],t--;return e}function uv(t){return t[oe]&9216||t[wo]?.dirty}function Nd(t){uv(t)?Hs(t):t[oe]&64&&(bS()?(t[oe]|=1024,Hs(t)):t[zr].changeDetectionScheduler?.notify())}function Hs(t){t[zr].changeDetectionScheduler?.notify();let e=t[it];for(;e!==null&&!($n(e)&&e[oe]&vi.HasChildViewsToRefresh||_o(e)&&e[oe]&8192);){if($n(e))e[oe]|=vi.HasChildViewsToRefresh;else if(e[oe]|=8192,!Dh(e))break;e=e[it]}}function lv(t,e){if((t[oe]&256)===256)throw new X(911,!1);t[Wr]===null&&(t[Wr]=[]),t[Wr].push(e)}function ES(t,e){if(t[Wr]===null)return;let n=t[Wr].indexOf(e);n!==-1&&t[Wr].splice(n,1)}var fe={lFrame:vv(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function IS(){return fe.lFrame.elementDepthCount}function AS(){fe.lFrame.elementDepthCount++}function MS(){fe.lFrame.elementDepthCount--}function dv(){return fe.bindingsEnabled}function hv(){return fe.skipHydrationRootTNode!==null}function NS(t){return fe.skipHydrationRootTNode===t}function OS(){fe.skipHydrationRootTNode=null}function Fe(){return fe.lFrame.lView}function Pt(){return fe.lFrame.tView}function ft(t){return fe.lFrame.contextLView=t,t[Un]}function pt(t){return fe.lFrame.contextLView=null,t}function Hn(){let t=fv();for(;t!==null&&t.type===64;)t=t.parent;return t}function fv(){return fe.lFrame.currentTNode}function kS(){let t=fe.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Ao(t,e){let n=fe.lFrame;n.currentTNode=t,n.isParent=e}function Sh(){return fe.lFrame.isParent}function Th(){fe.lFrame.isParent=!1}function RS(t){return fe.lFrame.bindingIndex=t}function iu(){return fe.lFrame.bindingIndex++}function FS(t){let e=fe.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function PS(){return fe.lFrame.inI18n}function VS(t,e){let n=fe.lFrame;n.bindingIndex=n.bindingRootIndex=t,Od(e)}function LS(){return fe.lFrame.currentDirectiveIndex}function Od(t){fe.lFrame.currentDirectiveIndex=t}function jS(t){let e=fe.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function pv(){return fe.lFrame.currentQueryIndex}function Eh(t){fe.lFrame.currentQueryIndex=t}function BS(t){let e=t[he];return e.type===2?e.declTNode:e.type===1?t[un]:null}function mv(t,e,n){if(n&ue.SkipSelf){let o=e,i=t;for(;o=o.parent,o===null&&!(n&ue.Host);)if(o=BS(i),o===null||(i=i[Si],o.type&10))break;if(o===null)return!1;e=o,t=i}let r=fe.lFrame=gv();return r.currentTNode=e,r.lView=t,!0}function Ih(t){let e=gv(),n=t[he];fe.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function gv(){let t=fe.lFrame,e=t===null?null:t.child;return e===null?vv(t):e}function vv(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function yv(){let t=fe.lFrame;return fe.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var _v=yv;function Ah(){let t=yv();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function US(t){return(fe.lFrame.contextLView=TS(t,fe.lFrame.contextLView))[Un]}function Ti(){return fe.lFrame.selectedIndex}function Co(t){fe.lFrame.selectedIndex=t}function Mh(){let t=fe.lFrame;return av(t.tView,t.selectedIndex)}function qS(){return fe.lFrame.currentNamespace}var xv=!0;function su(){return xv}function au(t){xv=t}function $S(t,e,n){let{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=e.type.prototype;if(r){let s=rv(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}o&&(n.preOrderHooks??=[]).push(0-t,o),i&&((n.preOrderHooks??=[]).push(t,i),(n.preOrderCheckHooks??=[]).push(t,i))}function cu(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let i=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=i;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),l!=null&&(t.destroyHooks??=[]).push(n,l)}}function Mc(t,e,n){wv(t,e,3,n)}function Nc(t,e,n,r){(t[oe]&3)===n&&wv(t,e,n,r)}function md(t,e){let n=t[oe];(n&3)===e&&(n&=16383,n+=1,t[oe]=n)}function wv(t,e,n,r){let o=r!==void 0?t[ui]&65535:0,i=r??-1,s=e.length-1,a=0;for(let c=o;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[ui]+=65536),(a<i||i==-1)&&(HS(t,n,e,c),t[ui]=(t[ui]&4294901760)+c+2),c++}function lg(t,e){ir(4,t,e);let n=nn(null);try{e.call(t)}finally{nn(n),ir(5,t,e)}}function HS(t,e,n,r){let o=n[r]<0,i=n[r+1],s=o?-n[r]:n[r],a=t[s];o?t[oe]>>14<t[ui]>>16&&(t[oe]&3)===e&&(t[oe]+=16384,lg(a,i)):lg(a,i)}var pi=-1,Ws=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function WS(t){return t instanceof Ws}function GS(t){return(t.flags&8)!==0}function zS(t){return(t.flags&16)!==0}function bv(t){return t!==pi}function jc(t){let e=t&32767;return t&32767}function ZS(t){return t>>16}function Bc(t,e){let n=ZS(t),r=e;for(;n>0;)r=r[Si],n--;return r}var kd=!0;function dg(t){let e=kd;return kd=t,e}var YS=256,Cv=YS-1,Dv=5,QS=0,sr={};function XS(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Vs)&&(r=n[Vs]),r==null&&(r=n[Vs]=QS++);let o=r&Cv,i=1<<o;e.data[t+(o>>Dv)]|=i}function Sv(t,e){let n=Tv(t,e);if(n!==-1)return n;let r=e[he];r.firstCreatePass&&(t.injectorIndex=e.length,gd(r.data,t),gd(e,null),gd(r.blueprint,null));let o=Nh(t,e),i=t.injectorIndex;if(bv(o)){let s=jc(o),a=Bc(o,e),c=a[he].data;for(let u=0;u<8;u++)e[i+u]=a[s+u]|c[s+u]}return e[i+8]=o,i}function gd(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Tv(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Nh(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,o=e;for(;o!==null;){if(r=Nv(o),r===null)return pi;if(n++,o=o[Si],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return pi}function KS(t,e,n){XS(t,e,n)}function Ev(t,e,n){if(n&ue.Optional||t!==void 0)return t;wh(e,"NodeInjector")}function Iv(t,e,n,r){if(n&ue.Optional&&r===void 0&&(r=null),!(n&(ue.Self|ue.Host))){let o=t[mi],i=yn(void 0);try{return o?o.get(e,r,n&ue.Optional):qg(e,r,n&ue.Optional)}finally{yn(i)}}return Ev(r,e,n)}function Av(t,e,n,r=ue.Default,o){if(t!==null){if(e[oe]&2048&&!(r&ue.Self)){let s=nT(t,e,n,r,sr);if(s!==sr)return s}let i=Mv(t,e,n,r,sr);if(i!==sr)return i}return Iv(e,n,r,o)}function Mv(t,e,n,r,o){let i=eT(n);if(typeof i=="function"){if(!mv(e,t,r))return r&ue.Host?Ev(o,n,r):Iv(e,n,r,o);try{let s;if(s=i(r),s==null&&!(r&ue.Optional))wh(n);else return s}finally{_v()}}else if(typeof i=="number"){let s=null,a=Tv(t,e),c=pi,u=r&ue.Host?e[qn][un]:null;for((a===-1||r&ue.SkipSelf)&&(c=a===-1?Nh(t,e):e[a+8],c===pi||!fg(r,!1)?a=-1:(s=e[he],a=jc(c),e=Bc(c,e)));a!==-1;){let l=e[he];if(hg(i,a,l.data)){let d=JS(a,e,n,s,r,u);if(d!==sr)return d}c=e[a+8],c!==pi&&fg(r,e[he].data[a+8]===u)&&hg(i,a,e)?(s=l,a=jc(c),e=Bc(c,e)):a=-1}}return o}function JS(t,e,n,r,o,i){let s=e[he],a=s.data[t+8],c=r==null?ru(a)&&kd:r!=s&&(a.type&3)!==0,u=o&ue.Host&&i===a,l=Oc(a,s,n,c,u);return l!==null?xi(e,s,l,a):sr}function Oc(t,e,n,r,o){let i=t.providerIndexes,s=e.data,a=i&1048575,c=t.directiveStart,u=t.directiveEnd,l=i>>20,d=r?a:a+l,h=o?a+l:u;for(let f=d;f<h;f++){let p=s[f];if(f<c&&n===p||f>=c&&p.type===n)return f}if(o){let f=s[c];if(f&&Ks(f)&&f.type===n)return c}return null}function xi(t,e,n,r){let o=t[n],i=e.data;if(WS(o)){let s=o;s.resolving&&jD(LD(i[n]));let a=dg(s.canSeeViewProviders);s.resolving=!0;let c,u=s.injectImpl?yn(s.injectImpl):null,l=mv(t,r,ue.Default);try{o=t[n]=s.factory(void 0,i,t,r),e.firstCreatePass&&n>=r.directiveStart&&$S(n,i[n],e)}finally{u!==null&&yn(u),dg(a),s.resolving=!1,_v()}}return o}function eT(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Vs)?t[Vs]:void 0;return typeof e=="number"?e>=0?e&Cv:tT:e}function hg(t,e,n){let r=1<<t;return!!(n[e+(t>>Dv)]&r)}function fg(t,e){return!(t&ue.Self)&&!(t&ue.Host&&e)}var xo=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return Av(this._tNode,this._lView,e,tu(r),n)}};function tT(){return new xo(Hn(),Fe())}function uu(t){return Qs(()=>{let e=t.prototype.constructor,n=e[Pc]||Rd(e),r=Object.prototype,o=Object.getPrototypeOf(t.prototype).constructor;for(;o&&o!==r;){let i=o[Pc]||Rd(o);if(i&&i!==n)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function Rd(t){return Pg(t)?()=>{let e=Rd(_n(t));return e&&e()}:yi(t)}function nT(t,e,n,r,o){let i=t,s=e;for(;i!==null&&s!==null&&s[oe]&2048&&!(s[oe]&512);){let a=Mv(i,s,n,r|ue.Self,sr);if(a!==sr)return a;let c=i.parent;if(!c){let u=s[tv];if(u){let l=u.get(n,sr,r);if(l!==sr)return l}c=Nv(s),s=s[Si]}i=c}return o}function Nv(t){let e=t[he],n=e.type;return n===2?e.declTNode:n===1?t[un]:null}var Ec="__parameters__";function rT(t){return function(...n){if(t){let r=t(...n);for(let o in r)this[o]=r[o]}}}function Ov(t,e,n){return Qs(()=>{let r=rT(e);function o(...i){if(this instanceof o)return r.apply(this,i),this;let s=new o(...i);return a.annotation=s,a;function a(c,u,l){let d=c.hasOwnProperty(Ec)?c[Ec]:Object.defineProperty(c,Ec,{value:[]})[Ec];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(s),c}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=t,o.annotationCls=o,o})}function oT(t){let e=sn.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function iT(t){return typeof t=="function"}function sT(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let o=t[r],i=e[r];if(n&&(o=n(o),i=n(i)),i!==o)return!1}return!0}function aT(t){return t.flat(Number.POSITIVE_INFINITY)}function Oh(t,e){t.forEach(n=>Array.isArray(n)?Oh(n,e):e(n))}function kv(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Uc(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Rv(t,e){let n=[];for(let r=0;r<t;r++)n.push(e);return n}function cT(t,e,n,r){let o=t.length;if(o==e)t.push(n,r);else if(o===1)t.push(r,t[0]),t[0]=n;else{for(o--,t.push(t[o-1],t[o]);o>e;){let i=o-2;t[o]=t[i],o--}t[e]=n,t[e+1]=r}}function uT(t,e,n){let r=Js(t,e);return r>=0?t[r|1]=n:(r=~r,cT(t,r,e,n)),r}function vd(t,e){let n=Js(t,e);if(n>=0)return t[n|1]}function Js(t,e){return lT(t,e,1)}function lT(t,e,n){let r=0,o=t.length>>n;for(;o!==r;){let i=r+(o-r>>1),s=t[i<<n];if(e===s)return i<<n;s>e?o=i:r=i+1}return~(o<<n)}var lu=$g(Ov("Optional"),8);var kh=$g(Ov("SkipSelf"),4);function dT(t){let e=[],n=new Map;function r(o){let i=n.get(o);if(!i){let s=t(o);n.set(o,i=s.then(mT))}return i}return qc.forEach((o,i)=>{let s=[];o.templateUrl&&s.push(r(o.templateUrl).then(u=>{o.template=u}));let a=typeof o.styles=="string"?[o.styles]:o.styles||[];if(o.styles=a,o.styleUrl&&o.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(o.styleUrls?.length){let u=o.styles.length,l=o.styleUrls;o.styleUrls.forEach((d,h)=>{a.push(""),s.push(r(d).then(f=>{a[u+h]=f,l.splice(l.indexOf(d),1),l.length==0&&(o.styleUrls=void 0)}))})}else o.styleUrl&&s.push(r(o.styleUrl).then(u=>{a.push(u),o.styleUrl=void 0}));let c=Promise.all(s).then(()=>gT(i));e.push(c)}),fT(),Promise.all(e).then(()=>{})}var qc=new Map,hT=new Set;function fT(){let t=qc;return qc=new Map,t}function pT(){return qc.size===0}function mT(t){return typeof t=="string"?t:t.text()}function gT(t){hT.delete(t)}var wi=new ae("ENVIRONMENT_INITIALIZER"),Fv=new ae("INJECTOR",-1),Pv=new ae("INJECTOR_DEF_TYPES"),$c=class{get(e,n=js){if(n===js){let r=new Error(`NullInjectorError: No provider for ${Nt(e)}!`);throw r.name="NullInjectorError",r}return n}};function vT(...t){return{\u0275providers:Vv(!0,t),\u0275fromNgModule:!0}}function Vv(t,...e){let n=[],r=new Set,o,i=s=>{n.push(s)};return Oh(e,s=>{let a=s;Fd(a,i,[],r)&&(o||=[],o.push(a))}),o!==void 0&&Lv(o,i),n}function Lv(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:o}=t[n];Rh(o,i=>{e(i,r)})}}function Fd(t,e,n,r){if(t=_n(t),!t)return!1;let o=null,i=tg(t),s=!i&&Gr(t);if(!i&&!s){let c=t.ngModule;if(i=tg(c),i)o=c;else return!1}else{if(s&&!s.standalone)return!1;o=t}let a=r.has(o);if(s){if(a)return!1;if(r.add(o),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of c)Fd(u,e,n,r)}}else if(i){if(i.imports!=null&&!a){r.add(o);let u;try{Oh(i.imports,l=>{Fd(l,e,n,r)&&(u||=[],u.push(l))})}finally{}u!==void 0&&Lv(u,e)}if(!a){let u=yi(o)||(()=>new o);e({provide:o,useFactory:u,deps:jn},o),e({provide:Pv,useValue:o,multi:!0},o),e({provide:wi,useValue:()=>J(o),multi:!0},o)}let c=i.providers;if(c!=null&&!a){let u=t;Rh(c,l=>{e(l,u)})}}else return!1;return o!==t&&t.providers!==void 0}function Rh(t,e){for(let n of t)Vg(n)&&(n=n.\u0275providers),Array.isArray(n)?Rh(n,e):e(n)}var yT=Re({provide:String,useValue:Re});function jv(t){return t!==null&&typeof t=="object"&&yT in t}function _T(t){return!!(t&&t.useExisting)}function xT(t){return!!(t&&t.useFactory)}function Pd(t){return typeof t=="function"}var du=new ae("Set Injector scope."),kc={},wT={},yd;function Fh(){return yd===void 0&&(yd=new $c),yd}var cn=class{},Gs=class extends cn{get destroyed(){return this._destroyed}constructor(e,n,r,o){super(),this.parent=n,this.source=r,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ld(e,s=>this.processProvider(s)),this.records.set(Fv,li(void 0,this)),o.has("environment")&&this.records.set(cn,li(void 0,this));let i=this.records.get(du);i!=null&&typeof i.value=="string"&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(Pv,jn,ue.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(let n of this._ngOnDestroyHooks)n.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Hr(this),r=yn(void 0),o;try{return e()}finally{Hr(n),yn(r)}}get(e,n=js,r=ue.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Jm))return e[Jm](this);r=tu(r);let o,i=Hr(this),s=yn(void 0);try{if(!(r&ue.SkipSelf)){let c=this.records.get(e);if(c===void 0){let u=ET(e)&&eu(e);u&&this.injectableDefInScope(u)?c=li(Vd(e),kc):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&ue.Self?Fh():this.parent;return n=r&ue.Optional&&n===js?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Vc]=a[Vc]||[]).unshift(Nt(e)),i)throw a;return XD(a,e,"R3InjectorError",this.source)}else throw a}finally{yn(s),Hr(i)}}resolveInjectorInitializers(){let e=Hr(this),n=yn(void 0),r;try{let o=this.get(wi,jn,ue.Self);for(let i of o)i()}finally{Hr(e),yn(n)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Nt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new X(205,!1)}processProvider(e){e=_n(e);let n=Pd(e)?e:_n(e&&e.provide),r=CT(e);if(!Pd(e)&&e.multi===!0){let o=this.records.get(n);o||(o=li(void 0,kc,!0),o.factory=()=>Id(o.multi),this.records.set(n,o)),n=e,o.multi.push(e)}else{let o=this.records.get(n)}this.records.set(n,r)}hydrate(e,n){return n.value===kc&&(n.value=wT,n.value=n.factory()),typeof n.value=="object"&&n.value&&TT(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;let n=_n(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Vd(t){let e=eu(t),n=e!==null?e.factory:yi(t);if(n!==null)return n;if(t instanceof ae)throw new X(204,!1);if(t instanceof Function)return bT(t);throw new X(204,!1)}function bT(t){let e=t.length;if(e>0){let r=Rv(e,"?");throw new X(204,!1)}let n=qD(t);return n!==null?()=>n.factory(t):()=>new t}function CT(t){if(jv(t))return li(void 0,t.useValue);{let e=DT(t);return li(e,kc)}}function DT(t,e,n){let r;if(Pd(t)){let o=_n(t);return yi(o)||Vd(o)}else if(jv(t))r=()=>_n(t.useValue);else if(xT(t))r=()=>t.useFactory(...Id(t.deps||[]));else if(_T(t))r=()=>J(_n(t.useExisting));else{let o=_n(t&&(t.useClass||t.provide));if(ST(t))r=()=>new o(...Id(t.deps));else return yi(o)||Vd(o)}return r}function li(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function ST(t){return!!t.deps}function TT(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function ET(t){return typeof t=="function"||typeof t=="object"&&t instanceof ae}function Ld(t,e){for(let n of t)Array.isArray(n)?Ld(n,e):n&&Vg(n)?Ld(n.\u0275providers,e):e(n)}function Qr(t,e){t instanceof Gs&&t.assertNotDestroyed();let n,r=Hr(t),o=yn(void 0);try{return e()}finally{Hr(r),yn(o)}}function IT(t){if(!Ug()&&!ZD())throw new X(-203,!1)}function pg(t,e=null,n=null,r){let o=Bv(t,e,n,r);return o.resolveInjectorInitializers(),o}function Bv(t,e=null,n=null,r,o=new Set){let i=[n||jn,vT(t)];return r=r||(typeof t=="object"?void 0:Nt(t)),new Gs(i,e||Fh(),r||null,o)}var wn=(()=>{let e=class e{static create(r,o){if(Array.isArray(r))return pg({name:""},o,r,"");{let i=r.name??"";return pg({name:i},r.parent,r.providers,i)}}};e.THROW_IF_NOT_FOUND=js,e.NULL=new $c,e.\u0275prov=ee({token:e,providedIn:"any",factory:()=>J(Fv)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var jd;function Uv(t){jd=t}function AT(){if(jd!==void 0)return jd;if(typeof document<"u")return document;throw new X(210,!1)}var hu=new ae("AppId",{providedIn:"root",factory:()=>MT}),MT="ng",Ph=new ae("Platform Initializer"),Mo=new ae("Platform ID",{providedIn:"platform",factory:()=>"unknown"});var Vh=new ae("CSP nonce",{providedIn:"root",factory:()=>AT().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function qv(t){return t instanceof Function?t():t}function NT(t){return(t??$(wn)).get(Mo)==="browser"}function $v(t){return(t.flags&128)===128}var Ir=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Ir||{}),OT=/^>|^->|<!--|-->|--!>|<!-$/g,kT=/(<|>)/g,RT="\u200B$1\u200B";function FT(t){return t.replace(OT,e=>e.replace(kT,RT))}var Hv=new Map,PT=0;function VT(){return PT++}function LT(t){Hv.set(t[nu],t)}function jT(t){Hv.delete(t[nu])}var mg="__ngContext__";function Zr(t,e){_o(e)?(t[mg]=e[nu],LT(e)):t[mg]=e}var BT;function Lh(t,e){return BT(t,e)}function jh(t){let e=t[it];return $n(e)?e[it]:e}function Wv(t){return zv(t[$s])}function Gv(t){return zv(t[Bn])}function zv(t){for(;t!==null&&!$n(t);)t=t[Bn];return t}function di(t,e,n,r,o){if(r!=null){let i,s=!1;$n(r)?i=r:_o(r)&&(s=!0,r=r[Ar]);let a=lr(r);t===0&&n!==null?o==null?Kv(e,n,a):Hc(e,n,a,o||null,!0):t===1&&n!==null?Hc(e,n,a,o||null,!0):t===2?rE(e,a,s):t===3&&e.destroyNode(a),i!=null&&iE(e,t,i,n,o)}}function UT(t,e){return t.createText(e)}function qT(t,e,n){t.setValue(e,n)}function $T(t,e){return t.createComment(FT(e))}function Zv(t,e,n){return t.createElement(e,n)}function HT(t,e){let n=e[st];ea(t,e,n,2,null,null),e[Ar]=null,e[un]=null}function WT(t,e,n,r,o,i){r[Ar]=o,r[un]=e,ea(t,r,n,1,o,i)}function GT(t,e){ea(t,e,e[st],2,null,null)}function zT(t){let e=t[$s];if(!e)return _d(t[he],t);for(;e;){let n=null;if(_o(e))n=e[$s];else{let r=e[an];r&&(n=r)}if(!n){for(;e&&!e[Bn]&&e!==t;)_o(e)&&_d(e[he],e),e=e[it];e===null&&(e=t),_o(e)&&_d(e[he],e),n=e&&e[Bn]}e=n}}function ZT(t,e,n,r){let o=an+r,i=n.length;r>0&&(n[o-1][Bn]=e),r<i-an?(e[Bn]=n[o],kv(n,an+r,e)):(n.push(e),e[Bn]=null),e[it]=n;let s=e[Xs];s!==null&&n!==s&&YT(s,e);let a=e[ar];a!==null&&a.insertView(t),Nd(e),e[oe]|=128}function YT(t,e){let n=t[gi],o=e[it][it][qn];e[qn]!==o&&(t[oe]|=vi.HasTransplantedViews),n===null?t[gi]=[e]:n.push(e)}function Yv(t,e){let n=t[gi],r=n.indexOf(e),o=e[it];n.splice(r,1)}function Bd(t,e){if(t.length<=an)return;let n=an+e,r=t[n];if(r){let o=r[Xs];o!==null&&o!==t&&Yv(o,r),e>0&&(t[n-1][Bn]=r[Bn]);let i=Uc(t,an+e);HT(r[he],r);let s=i[ar];s!==null&&s.detachView(i[he]),r[it]=null,r[Bn]=null,r[oe]&=-129}return r}function Qv(t,e){if(!(e[oe]&256)){let n=e[st];n.destroyNode&&ea(t,e,n,3,null,null),zT(e)}}function _d(t,e){if(!(e[oe]&256)){e[oe]&=-129,e[oe]|=256,e[wo]&&bm(e[wo]),XT(t,e),QT(t,e),e[he].type===1&&e[st].destroy();let n=e[Xs];if(n!==null&&$n(e[it])){n!==e[it]&&Yv(n,e);let r=e[ar];r!==null&&r.detachView(t)}jT(e)}}function QT(t,e){let n=t.cleanup,r=e[qs];if(n!==null)for(let i=0;i<n.length-1;i+=2)if(typeof n[i]=="string"){let s=n[i+3];s>=0?r[s]():r[-s].unsubscribe(),i+=2}else{let s=r[n[i+1]];n[i].call(s)}r!==null&&(e[qs]=null);let o=e[Wr];if(o!==null){e[Wr]=null;for(let i=0;i<o.length;i++){let s=o[i];s()}}}function XT(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let o=e[n[r]];if(!(o instanceof Ws)){let i=n[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){let a=o[i[s]],c=i[s+1];ir(4,a,c);try{c.call(a)}finally{ir(5,a,c)}}else{ir(4,o,i);try{i.call(o)}finally{ir(5,o,i)}}}}}function Xv(t,e,n){return KT(t,e.parent,n)}function KT(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[Ar];{let{componentOffset:o}=r;if(o>-1){let{encapsulation:i}=t.data[r.directiveStart+o];if(i===cr.None||i===cr.Emulated)return null}return xn(r,n)}}function Hc(t,e,n,r,o){t.insertBefore(e,n,r,o)}function Kv(t,e,n){t.appendChild(e,n)}function gg(t,e,n,r,o){r!==null?Hc(t,e,n,r,o):Kv(t,e,n)}function JT(t,e,n,r){t.removeChild(e,n,r)}function Bh(t,e){return t.parentNode(e)}function eE(t,e){return t.nextSibling(e)}function Jv(t,e,n){return nE(t,e,n)}function tE(t,e,n){return t.type&40?xn(t,n):null}var nE=tE,vg;function fu(t,e,n,r){let o=Xv(t,r,e),i=e[st],s=r.parent||e[un],a=Jv(s,r,e);if(o!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)gg(i,o,n[c],a,!1);else gg(i,o,n,a,!1);vg!==void 0&&vg(i,r,e,n,o)}function Rc(t,e){if(e!==null){let n=e.type;if(n&3)return xn(e,t);if(n&4)return Ud(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Rc(t,r);{let o=t[e.index];return $n(o)?Ud(-1,o):lr(o)}}else{if(n&32)return Lh(e,t)()||lr(t[e.index]);{let r=ey(t,e);if(r!==null){if(Array.isArray(r))return r[0];let o=jh(t[qn]);return Rc(o,r)}else return Rc(t,e.next)}}}return null}function ey(t,e){if(e!==null){let r=t[qn][un],o=e.projection;return r.projection[o]}return null}function Ud(t,e){let n=an+t+1;if(n<e.length){let r=e[n],o=r[he].firstChild;if(o!==null)return Rc(r,o)}return e[bo]}function rE(t,e,n){let r=Bh(t,e);r&&JT(t,r,e,n)}function Uh(t,e,n,r,o,i,s){for(;n!=null;){let a=r[n.index],c=n.type;if(s&&e===0&&(a&&Zr(lr(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)Uh(t,e,n.child,r,o,i,!1),di(e,t,o,a,i);else if(c&32){let u=Lh(n,r),l;for(;l=u();)di(e,t,o,l,i);di(e,t,o,a,i)}else c&16?ty(t,e,r,n,o,i):di(e,t,o,a,i);n=s?n.projectionNext:n.next}}function ea(t,e,n,r,o,i){Uh(n,r,t.firstChild,e,o,i,!1)}function oE(t,e,n){let r=e[st],o=Xv(t,n,e),i=n.parent||e[un],s=Jv(i,n,e);ty(r,0,e,n,o,s)}function ty(t,e,n,r,o,i){let s=n[qn],c=s[un].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let l=c[u];di(e,t,o,l,i)}else{let u=c,l=s[it];$v(r)&&(u.flags|=128),Uh(t,e,u,l,o,i,!0)}}function iE(t,e,n,r,o){let i=n[bo],s=lr(n);i!==s&&di(e,t,r,i,o);for(let a=an;a<n.length;a++){let c=n[a];ea(c[he],c,t,e,r,i)}}function sE(t,e,n,r,o){if(e)o?t.addClass(n,r):t.removeClass(n,r);else{let i=r.indexOf("-")===-1?void 0:Ir.DashCase;o==null?t.removeStyle(n,r,i):(typeof o=="string"&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=Ir.Important),t.setStyle(n,r,o,i))}}function aE(t,e,n){t.setAttribute(e,"style",n)}function ny(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function ry(t,e,n){let{mergedAttrs:r,classes:o,styles:i}=n;r!==null&&Ad(t,e,r),o!==null&&ny(t,e,o),i!==null&&aE(t,e,i)}var qd=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${kD})`}};function qh(t){return t instanceof qd?t.changingThisBreaksApplicationSecurity:t}var $d=class{};var cE="h",uE="b";var lE=(t,e,n)=>null;function $h(t,e,n=!1){return lE(t,e,n)}var Hd=class{},Wc=class{};function dE(t){let e=Error(`No component factory found for ${Nt(t)}.`);return e[hE]=t,e}var hE="ngComponent";var Wd=class{resolveComponentFactory(e){throw dE(e)}},pu=(()=>{let e=class e{};e.NULL=new Wd;let t=e;return t})();function fE(){return Ei(Hn(),Fe())}function Ei(t,e){return new bn(xn(t,e))}var bn=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=fE;let t=e;return t})();function pE(t){return t instanceof bn?t.nativeElement:t}var zs=class{};var mE=(()=>{let e=class e{};e.\u0275prov=ee({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),xd={};function oy(t){return vE(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function gE(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function vE(t){return t!==null&&(typeof t=="function"||typeof t=="object")}var Gd=class{constructor(){}supports(e){return oy(e)}create(e){return new zd(e)}},yE=(t,e)=>e,zd=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||yE}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,o=0,i=null;for(;n||r;){let s=!r||n&&n.currentIndex<yg(r,o,i)?n:r,a=yg(s,o,i),c=s.currentIndex;if(s===r)o--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)o++;else{i||(i=[]);let u=a-o,l=c-o;if(u!=l){for(let h=0;h<u;h++){let f=h<i.length?i[h]:i[h]=0,p=f+h;l<=p&&p<u&&(i[h]=f+1)}let d=s.previousIndex;i[d]=l-u}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!oy(e))throw new X(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,o,i,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)i=e[a],s=this._trackByFn(a,i),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,i,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,i,s,a)),Object.is(n.item,i)||this._addIdentityChange(n,i)),n=n._next}else o=0,gE(e,a=>{s=this._trackByFn(o,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,o),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,o)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,o++}),this.length=o;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,o){let i;return e===null?i=this._itTail:(i=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,i,o)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,o),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,i,o)):e=this._addAfter(new Zd(n,r),i,o)),e}_verifyReinsertion(e,n,r,o){let i=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return i!==null?e=this._reinsertAfter(i,e._prev,o):e.currentIndex!=o&&(e.currentIndex=o,this._addToMoves(e,o)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let o=e._prevRemoved,i=e._nextRemoved;return o===null?this._removalsHead=i:o._nextRemoved=i,i===null?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let o=n===null?this._itHead:n._next;return e._next=o,e._prev=n,o===null?this._itTail=e:o._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Gc),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Gc),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Zd=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Yd=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Gc=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Yd,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,o=this.map.get(r);return o?o.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function yg(t,e,n){let r=t.previousIndex;if(r===null)return r;let o=0;return n&&r<n.length&&(o=n[r]),r+e+o}function _g(){return new Hh([new Gd])}var Hh=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,o){if(o!=null){let i=o.factories.slice();r=r.concat(i)}return new e(r)}static extend(r){return{provide:e,useFactory:o=>e.create(r,o||_g()),deps:[[e,new kh,new lu]]}}find(r){let o=this.factories.find(i=>i.supports(r));if(o!=null)return o;throw new X(901,!1)}};e.\u0275prov=ee({token:e,providedIn:"root",factory:_g});let t=e;return t})();function zc(t,e,n,r,o=!1){for(;n!==null;){let i=e[n.index];i!==null&&r.push(lr(i)),$n(i)&&_E(i,r);let s=n.type;if(s&8)zc(t,e,n.child,r);else if(s&32){let a=Lh(n,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=ey(e,n);if(Array.isArray(a))r.push(...a);else{let c=jh(e[qn]);zc(c[he],c,a,r,!0)}}n=o?n.projectionNext:n.next}return r}function _E(t,e){for(let n=an;n<t.length;n++){let r=t[n],o=r[he].firstChild;o!==null&&zc(r[he],r,o,e)}t[bo]!==t[Ar]&&e.push(t[bo])}var iy=[];function xE(t){return t[wo]??wE(t)}function wE(t){let e=iy.pop()??Object.create(CE);return e.lView=t,e}function bE(t){t.lView[wo]!==t&&(t.lView=null,iy.push(t))}var CE=V(w({},_m),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Hs(t.lView)},consumerOnSignalRead(){this.lView[wo]=this}}),DE="ngOriginalError";function wd(t){return t[DE]}var dr=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&wd(e);for(;n&&wd(n);)n=wd(n);return n||null}},sy=new ae("",{providedIn:"root",factory:()=>$(dr).handleError.bind(void 0)});var ay=!1,SE=new ae("",{providedIn:"root",factory:()=>ay});var Ii={};function Se(t){cy(Pt(),Fe(),Ti()+t,!1)}function cy(t,e,n,r){if(!r)if((e[oe]&3)===3){let i=t.preOrderCheckHooks;i!==null&&Mc(e,i,n)}else{let i=t.preOrderHooks;i!==null&&Nc(e,i,0,n)}Co(n)}function Ot(t,e=ue.Default){let n=Fe();if(n===null)return J(t,e);let r=Hn();return Av(r,n,_n(t),e)}function uy(){let t="invalid";throw new Error(t)}function TE(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let o=n[r];if(o<0)Co(~o);else{let i=o,s=n[++r],a=n[++r];VS(s,i);let c=e[i];a(2,c)}}}finally{Co(-1)}}function mu(t,e,n,r,o,i,s,a,c,u,l){let d=e.blueprint.slice();return d[Ar]=o,d[oe]=r|4|128|8|64,(u!==null||t&&t[oe]&2048)&&(d[oe]|=2048),cv(d),d[it]=d[Si]=t,d[Un]=n,d[zr]=s||t&&t[zr],d[st]=a||t&&t[st],d[mi]=c||t&&t[mi]||null,d[un]=i,d[nu]=VT(),d[Us]=l,d[tv]=u,d[qn]=e.type==2?t[qn]:d,d}function Ai(t,e,n,r,o){let i=t.data[e];if(i===null)i=EE(t,e,n,r,o),PS()&&(i.flags|=32);else if(i.type&64){i.type=n,i.value=r,i.attrs=o;let s=kS();i.injectorIndex=s===null?-1:s.injectorIndex}return Ao(i,!0),i}function EE(t,e,n,r,o){let i=fv(),s=Sh(),a=s?i:i&&i.parent,c=t.data[e]=kE(t,a,n,e,r,o);return t.firstChild===null&&(t.firstChild=c),i!==null&&(s?i.child==null&&c.parent!==null&&(i.child=c):i.next===null&&(i.next=c,c.prev=i)),c}function ly(t,e,n,r){if(n===0)return-1;let o=e.length;for(let i=0;i<n;i++)e.push(r),t.blueprint.push(r),t.data.push(null);return o}function dy(t,e,n,r,o){let i=Ti(),s=r&2;try{Co(-1),s&&e.length>ur&&cy(t,e,ur,!1),ir(s?2:0,o),n(r,o)}finally{Co(i),ir(s?3:1,o)}}function Wh(t,e,n){if(Ch(e)){let r=nn(null);try{let o=e.directiveStart,i=e.directiveEnd;for(let s=o;s<i;s++){let a=t.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{nn(r)}}}function Gh(t,e,n){dv()&&(jE(t,e,n,xn(n,e)),(n.flags&64)===64&&my(t,e,n))}function zh(t,e,n=xn){let r=e.localNames;if(r!==null){let o=e.index+1;for(let i=0;i<r.length;i+=2){let s=r[i+1],a=s===-1?n(e,t):t[s];t[o++]=a}}}function hy(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Zh(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Zh(t,e,n,r,o,i,s,a,c,u,l){let d=ur+r,h=d+o,f=IE(d,h),p=typeof u=="function"?u():u;return f[he]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof i=="function"?i():i,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:l}}function IE(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Ii);return n}function AE(t,e,n,r){let i=r.get(SE,ay)||n===cr.ShadowDom,s=t.selectRootElement(e,i);return ME(s),s}function ME(t){NE(t)}var NE=t=>null;function OE(t,e,n,r){let o=_y(e);o.push(n),t.firstCreatePass&&xy(t).push(r,o.length-1)}function kE(t,e,n,r,o,i){let s=e?e.injectorIndex:-1,a=0;return hv()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function xg(t,e,n,r){for(let o in t)if(t.hasOwnProperty(o)){n=n===null?{}:n;let i=t[o];r===null?wg(n,e,o,i):r.hasOwnProperty(o)&&wg(n,e,r[o],i)}return n}function wg(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function RE(t,e,n){let r=e.directiveStart,o=e.directiveEnd,i=t.data,s=e.attrs,a=[],c=null,u=null;for(let l=r;l<o;l++){let d=i[l],h=n?n.get(d):null,f=h?h.inputs:null,p=h?h.outputs:null;c=xg(d.inputs,l,c,f),u=xg(d.outputs,l,u,p);let g=c!==null&&s!==null&&!zg(e)?QE(c,l,s):null;a.push(g)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}function FE(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function fy(t,e,n,r,o,i,s,a){let c=xn(e,n),u=e.inputs,l;!a&&u!=null&&(l=u[r])?(Qh(t,n,l,r,o),ru(e)&&PE(n,e.index)):e.type&3?(r=FE(r),o=s!=null?s(o,e.value||"",r):o,i.setProperty(c,r,o)):e.type&12}function PE(t,e){let n=Io(e,t);n[oe]&16||(n[oe]|=64)}function Yh(t,e,n,r){if(dv()){let o=r===null?null:{"":-1},i=UE(t,n),s,a;i===null?s=a=null:[s,a]=i,s!==null&&py(t,e,n,s,o,a),o&&qE(n,r,o)}n.mergedAttrs=bh(n.mergedAttrs,n.attrs)}function py(t,e,n,r,o,i){for(let u=0;u<r.length;u++)KS(Sv(n,e),t,r[u].type);HE(n,t.data.length,r.length);for(let u=0;u<r.length;u++){let l=r[u];l.providersResolver&&l.providersResolver(l)}let s=!1,a=!1,c=ly(t,e,r.length,null);for(let u=0;u<r.length;u++){let l=r[u];n.mergedAttrs=bh(n.mergedAttrs,l.hostAttrs),WE(t,n,e,c,l),$E(c,l,o),l.contentQueries!==null&&(n.flags|=4),(l.hostBindings!==null||l.hostAttrs!==null||l.hostVars!==0)&&(n.flags|=64);let d=l.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}RE(t,n,i)}function VE(t,e,n,r,o){let i=o.hostBindings;if(i){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;LE(s)!=a&&s.push(a),s.push(n,r,i)}}function LE(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function jE(t,e,n,r){let o=n.directiveStart,i=n.directiveEnd;ru(n)&&GE(e,n,t.data[o+n.componentOffset]),t.firstCreatePass||Sv(n,e),Zr(r,e);let s=n.initialInputs;for(let a=o;a<i;a++){let c=t.data[a],u=xi(e,t,a,n);if(Zr(u,e),s!==null&&YE(e,a-o,u,c,n,s),Ks(c)){let l=Io(n.index,e);l[Un]=xi(e,t,a,n)}}}function my(t,e,n){let r=n.directiveStart,o=n.directiveEnd,i=n.index,s=LS();try{Co(i);for(let a=r;a<o;a++){let c=t.data[a],u=e[a];Od(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&BE(c,u)}}finally{Co(-1),Od(s)}}function BE(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function UE(t,e){let n=t.directiveRegistry,r=null,o=null;if(n)for(let i=0;i<n.length;i++){let s=n[i];if(Zg(e,s.selectors,!1))if(r||(r=[]),Ks(s))if(s.findHostDirectiveDefs!==null){let a=[];o=o||new Map,s.findHostDirectiveDefs(s,a,o),r.unshift(...a,s);let c=a.length;Qd(t,e,c)}else r.unshift(s),Qd(t,e,0);else o=o||new Map,s.findHostDirectiveDefs?.(s,r,o),r.push(s)}return r===null?null:[r,o]}function Qd(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function qE(t,e,n){if(e){let r=t.localNames=[];for(let o=0;o<e.length;o+=2){let i=n[e[o+1]];if(i==null)throw new X(-301,!1);r.push(e[o],i)}}}function $E(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Ks(e)&&(n[""]=t)}}function HE(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function WE(t,e,n,r,o){t.data[r]=o;let i=o.factory||(o.factory=yi(o.type,!0)),s=new Ws(i,Ks(o),Ot);t.blueprint[r]=s,n[r]=s,VE(t,e,r,ly(t,n,o.hostVars,Ii),o)}function GE(t,e,n){let r=xn(e,t),o=hy(n),i=t[zr].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=gu(t,mu(t,o,null,s,r,e,null,i.createRenderer(r,n),null,null,null));t[e.index]=a}function zE(t,e,n,r,o,i){let s=xn(t,e);ZE(e[st],s,i,t.value,n,r,o)}function ZE(t,e,n,r,o,i,s){if(i==null)t.removeAttribute(e,o,n);else{let a=s==null?xh(i):s(i,r||"",o);t.setAttribute(e,o,a,n)}}function YE(t,e,n,r,o,i){let s=i[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],u=s[a++],l=s[a++];gy(r,n,c,u,l)}}function gy(t,e,n,r,o){let i=nn(null);try{let s=t.inputTransforms;s!==null&&s.hasOwnProperty(r)&&(o=s[r].call(e,o)),t.setInput!==null?t.setInput(e,o,n,r):e[r]=o}finally{nn(i)}}function QE(t,e,n){let r=null,o=0;for(;o<n.length;){let i=n[o];if(i===0){o+=4;continue}else if(i===5){o+=2;continue}if(typeof i=="number")break;if(t.hasOwnProperty(i)){r===null&&(r=[]);let s=t[i];for(let a=0;a<s.length;a+=2)if(s[a]===e){r.push(i,s[a+1],n[o+1]);break}}o+=2}return r}function vy(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function yy(t,e){let n=t.contentQueries;if(n!==null){let r=nn(null);try{for(let o=0;o<n.length;o+=2){let i=n[o],s=n[o+1];if(s!==-1){let a=t.data[s];Eh(i),a.contentQueries(2,e[s],s)}}}finally{nn(r)}}}function gu(t,e){return t[$s]?t[cg][Bn]=e:t[$s]=e,t[cg]=e,e}function Xd(t,e,n){Eh(0);let r=nn(null);try{e(t,n)}finally{nn(r)}}function _y(t){return t[qs]||(t[qs]=[])}function xy(t){return t.cleanup||(t.cleanup=[])}function wy(t,e){let n=t[mi],r=n?n.get(dr,null):null;r&&r.handleError(e)}function Qh(t,e,n,r,o){for(let i=0;i<n.length;){let s=n[i++],a=n[i++],c=e[s],u=t.data[s];gy(u,c,r,a,o)}}function XE(t,e,n){let r=sv(e,t);qT(t[st],r,n)}var KE=100;function JE(t,e=!0){let n=t[zr],r=n.rendererFactory,o=n.afterRenderEventManager,i=!1;i||(r.begin?.(),o?.begin());try{eI(t)}catch(s){throw e&&wy(t,s),s}finally{i||(r.end?.(),n.inlineEffectRunner?.flush(),o?.end())}}function eI(t){Kd(t,0);let e=0;for(;uv(t);){if(e===KE)throw new X(103,!1);e++,Kd(t,1)}}function tI(t,e,n,r){let o=e[oe];if((o&256)===256)return;let i=!1;!i&&e[zr].inlineEffectRunner?.flush(),Ih(e);let s=null,a=null;!i&&nI(t)&&(a=xE(e),s=xm(a));try{cv(e),RS(t.bindingStartIndex),n!==null&&dy(t,e,n,2,r);let c=(o&3)===3;if(!i)if(c){let d=t.preOrderCheckHooks;d!==null&&Mc(e,d,null)}else{let d=t.preOrderHooks;d!==null&&Nc(e,d,0,null),md(e,0)}if(rI(e),by(e,0),t.contentQueries!==null&&yy(t,e),!i)if(c){let d=t.contentCheckHooks;d!==null&&Mc(e,d)}else{let d=t.contentHooks;d!==null&&Nc(e,d,1),md(e,1)}TE(t,e);let u=t.components;u!==null&&Dy(e,u,0);let l=t.viewQuery;if(l!==null&&Xd(2,l,r),!i)if(c){let d=t.viewCheckHooks;d!==null&&Mc(e,d)}else{let d=t.viewHooks;d!==null&&Nc(e,d,2),md(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[pd]){for(let d of e[pd])d();e[pd]=null}i||(e[oe]&=-73)}catch(c){throw Hs(e),c}finally{a!==null&&(wm(a,s),bE(a)),Ah()}}function nI(t){return t.type!==2}function by(t,e){for(let n=Wv(t);n!==null;n=Gv(n)){n[oe]&=~vi.HasChildViewsToRefresh;for(let r=an;r<n.length;r++){let o=n[r];Cy(o,e)}}}function rI(t){for(let e=Wv(t);e!==null;e=Gv(e)){if(!(e[oe]&vi.HasTransplantedViews))continue;let n=e[gi];for(let r=0;r<n.length;r++){let o=n[r],i=o[it];SS(o)}}}function oI(t,e,n){let r=Io(e,t);Cy(r,n)}function Cy(t,e){Dh(t)&&Kd(t,e)}function Kd(t,e){let r=t[he],o=t[oe],i=t[wo],s=!!(e===0&&o&16);if(s||=!!(o&64&&e===0),s||=!!(o&1024),s||=!!(i?.dirty&&Zl(i)),i&&(i.dirty=!1),t[oe]&=-9217,s)tI(r,t,r.template,t[Un]);else if(o&8192){by(t,1);let a=r.components;a!==null&&Dy(t,a,1)}}function Dy(t,e,n){for(let r=0;r<e.length;r++)oI(t,e[r],n)}function Xh(t){for(t[zr].changeDetectionScheduler?.notify();t;){t[oe]|=64;let e=jh(t);if(mS(t)&&!e)return t;t=e}return null}var Do=class{get rootNodes(){let e=this._lView,n=e[he];return zc(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Un]}set context(e){this._lView[Un]=e}get destroyed(){return(this._lView[oe]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[it];if($n(e)){let n=e[Lc],r=n?n.indexOf(this):-1;r>-1&&(Bd(e,r),Uc(n,r))}this._attachedToViewContainer=!1}Qv(this._lView[he],this._lView)}onDestroy(e){lv(this._lView,e)}markForCheck(){Xh(this._cdRefInjectingView||this._lView)}detach(){this._lView[oe]&=-129}reattach(){Nd(this._lView),this._lView[oe]|=128}detectChanges(){this._lView[oe]|=1024,JE(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new X(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,GT(this._lView[he],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new X(902,!1);this._appRef=e,Nd(this._lView)}},Mr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=iI;let t=e;return t})();function iI(t){return sI(Hn(),Fe(),(t&16)===16)}function sI(t,e,n){if(ru(t)&&!n){let r=Io(t.index,e);return new Do(r,r)}else if(t.type&47){let r=e[qn];return new Do(r,e)}return null}var Sy=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=aI,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Jd=class extends Sy{constructor(e){super(),this._lView=e}onDestroy(e){return lv(this._lView,e),()=>ES(this._lView,e)}};function aI(){return new Jd(Fe())}var bg=new Set;function Kh(t){bg.has(t)||(bg.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var eh=class extends on{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let o=e,i=n||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;o=c.next?.bind(c),i=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(i=bd(i),o&&(o=bd(o)),s&&(s=bd(s)));let a=super.subscribe({next:o,error:i,complete:s});return e instanceof Xe&&e.add(a),a}};function bd(t){return e=>{setTimeout(t,void 0,e)}}var Ie=eh;function Cg(...t){}function cI(){let t=typeof sn.requestAnimationFrame=="function",e=sn[t?"requestAnimationFrame":"setTimeout"],n=sn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var Pe=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ie(!1),this.onMicrotaskEmpty=new Ie(!1),this.onStable=new Ie(!1),this.onError=new Ie(!1),typeof Zone>"u")throw new X(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&n,o.shouldCoalesceRunChangeDetection=r,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=cI().nativeRequestAnimationFrame,dI(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new X(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new X(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,o){let i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,e,uI,Cg,Cg);try{return i.runTask(s,n,r)}finally{i.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},uI={};function Jh(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function lI(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(sn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,th(t),t.isCheckStableRunning=!0,Jh(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),th(t))}function dI(t){let e=()=>{lI(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,o,i,s,a)=>{if(hI(a))return n.invokeTask(o,i,s,a);try{return Dg(t),n.invokeTask(o,i,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&i.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Sg(t)}},onInvoke:(n,r,o,i,s,a,c)=>{try{return Dg(t),n.invoke(o,i,s,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),Sg(t)}},onHasTask:(n,r,o,i)=>{n.hasTask(o,i),r===o&&(i.change=="microTask"?(t._hasPendingMicrotasks=i.microTask,th(t),Jh(t)):i.change=="macroTask"&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(n,r,o,i)=>(n.handleError(o,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}function th(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Dg(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Sg(t){t._nesting--,Jh(t)}var nh=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ie,this.onMicrotaskEmpty=new Ie,this.onStable=new Ie,this.onError=new Ie}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,o){return e.apply(n,r)}};function hI(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}function fI(t="zone.js",e){return t==="noop"?new nh:t==="zone.js"?new Pe(e):t}var hi=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(hi||{}),pI={destroy(){}};function ef(t,e){!e&&IT(ef);let n=e?.injector??$(wn);if(!NT(n))return pI;Kh("NgAfterNextRender");let r=n.get(Ty),o=r.handler??=new oh,i=e?.phase??hi.MixedReadWrite,s=()=>{o.unregister(c),a()},a=n.get(Sy).onDestroy(s),c=new rh(n,i,()=>{s(),t()});return o.register(c),{destroy:s}}var rh=class{constructor(e,n,r){this.phase=n,this.callbackFn=r,this.zone=e.get(Pe),this.errorHandler=e.get(dr,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},oh=class{constructor(){this.executingCallbacks=!1,this.buckets={[hi.EarlyRead]:new Set,[hi.Write]:new Set,[hi.MixedReadWrite]:new Set,[hi.Read]:new Set},this.deferredCallbacks=new Set}validateBegin(){if(this.executingCallbacks)throw new X(102,!1)}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},Ty=(()=>{let e=class e{constructor(){this.renderDepth=0,this.handler=null,this.internalCallbacks=[]}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){if(this.renderDepth--,this.renderDepth===0){for(let r of this.internalCallbacks)r();this.internalCallbacks.length=0,this.handler?.execute()}}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=ee({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function mI(t,e){let n=Io(e,t),r=n[he];gI(r,n);let o=n[Ar];o!==null&&n[Us]===null&&(n[Us]=$h(o,n[mi])),tf(r,n,n[Un])}function gI(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function tf(t,e,n){Ih(e);try{let r=t.viewQuery;r!==null&&Xd(1,r,n);let o=t.template;o!==null&&dy(t,e,o,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&yy(t,e),t.staticViewQueries&&Xd(2,t.viewQuery,n);let i=t.components;i!==null&&vI(e,i)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[oe]&=-5,Ah()}}function vI(t,e){for(let n=0;n<e.length;n++)mI(t,e[n])}function Zc(t,e,n){let r=n?t.styles:null,o=n?t.classes:null,i=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")i=a;else if(i==1)o=Km(o,a);else if(i==2){let c=a,u=e[++s];r=Km(r,c+": "+u+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=o:t.classesWithoutHost=o}var Yc=class extends pu{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Gr(e);return new bi(n,this.ngModule)}};function Tg(t){let e=[];for(let n in t)if(t.hasOwnProperty(n)){let r=t[n];e.push({propName:r,templateName:n})}return e}function yI(t){let e=t.toLowerCase();return e==="svg"?_S:e==="math"?xS:null}var ih=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=tu(r);let o=this.injector.get(e,xd,r);return o!==xd||n===xd?o:this.parentInjector.get(e,n,r)}},bi=class extends Wc{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=Tg(e.inputs);if(n!==null)for(let o of r)n.hasOwnProperty(o.propName)&&(o.transform=n[o.propName]);return r}get outputs(){return Tg(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=lS(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,o){o=o||this.ngModule;let i=o instanceof cn?o:o?.injector;i&&this.componentDef.getStandaloneInjector!==null&&(i=this.componentDef.getStandaloneInjector(i)||i);let s=i?new ih(e,i):e,a=s.get(zs,null);if(a===null)throw new X(407,!1);let c=s.get(mE,null),u=s.get(Ty,null),l=s.get($d,null),d={rendererFactory:a,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:u,changeDetectionScheduler:l},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",p=r?AE(h,r,this.componentDef.encapsulation,s):Zv(h,f,yI(f)),g=512;this.componentDef.signals?g|=4096:this.componentDef.onPush||(g|=16);let m=null;p!==null&&(m=$h(p,s,!0));let v=Zh(0,null,null,1,0,null,null,null,null,null,null),D=mu(null,v,null,g,null,null,d,h,s,null,m);Ih(D);let I,M;try{let C=this.componentDef,b,x=null;C.findHostDirectiveDefs?(b=[],x=new Map,C.findHostDirectiveDefs(C,b,x),b.push(C)):b=[C];let _=_I(D,p),R=xI(_,p,C,b,D,d,h);M=av(v,ur),p&&CI(h,C,p,r),n!==void 0&&DI(M,this.ngContentSelectors,n),I=bI(R,C,b,x,D,[SI]),tf(v,D,null)}finally{Ah()}return new sh(this.componentType,I,Ei(M,D),D,M)}},sh=class extends Hd{constructor(e,n,r,o,i){super(),this.location=r,this._rootLView=o,this._tNode=i,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Do(o,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,o;if(r!==null&&(o=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView;Qh(i[he],i,o,e,n),this.previousInputValues.set(e,n);let s=Io(this._tNode.index,i);Xh(s)}}get injector(){return new xo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function _I(t,e){let n=t[he],r=ur;return t[r]=e,Ai(n,r,2,"#host",null)}function xI(t,e,n,r,o,i,s){let a=o[he];wI(r,t,e,s);let c=null;e!==null&&(c=$h(e,o[mi]));let u=i.rendererFactory.createRenderer(e,n),l=16;n.signals?l=4096:n.onPush&&(l=64);let d=mu(o,hy(n),null,l,o[t.index],t,i,u,null,null,c);return a.firstCreatePass&&Qd(a,t,r.length-1),gu(o,d),o[t.index]=d}function wI(t,e,n,r){for(let o of t)e.mergedAttrs=bh(e.mergedAttrs,o.hostAttrs);e.mergedAttrs!==null&&(Zc(e,e.mergedAttrs,!0),n!==null&&ry(r,n,e))}function bI(t,e,n,r,o,i){let s=Hn(),a=o[he],c=xn(s,o);py(a,o,s,n,null,r);for(let l=0;l<n.length;l++){let d=s.directiveStart+l,h=xi(o,a,d,s);Zr(h,o)}my(a,o,s),c&&Zr(c,o);let u=xi(o,a,s.directiveStart+s.componentOffset,s);if(t[Un]=o[Un]=u,i!==null)for(let l of i)l(u,e);return Wh(a,s,t),u}function CI(t,e,n,r){if(r)Ad(t,n,["ng-version","17.0.8"]);else{let{attrs:o,classes:i}=dS(e.selectors[0]);o&&Ad(t,n,o),i&&i.length>0&&ny(t,n,i.join(" "))}}function DI(t,e,n){let r=t.projection=[];for(let o=0;o<e.length;o++){let i=n[o];r.push(i!=null?Array.from(i):null)}}function SI(){let t=Hn();cu(Fe()[he],t)}function ta(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function Mi(t,e,n,r){let o=Fe(),i=iu();if(ta(o,i,e)){let s=Pt(),a=Mh();zE(a,o,t,e,n,r)}return Mi}function TI(t,e,n,r){return ta(t,iu(),n)?e+xh(n)+r:Ii}function Ic(t,e){return t<<17|e<<2}function So(t){return t>>17&32767}function EI(t){return(t&2)==2}function II(t,e){return t&131071|e<<17}function ah(t){return t|2}function Ci(t){return(t&131068)>>2}function Cd(t,e){return t&-131069|e<<2}function AI(t){return(t&1)===1}function ch(t){return t|1}function MI(t,e,n,r,o,i){let s=i?e.classBindings:e.styleBindings,a=So(s),c=Ci(s);t[r]=n;let u=!1,l;if(Array.isArray(n)){let d=n;l=d[1],(l===null||Js(d,l)>0)&&(u=!0)}else l=n;if(o)if(c!==0){let h=So(t[a+1]);t[r+1]=Ic(h,a),h!==0&&(t[h+1]=Cd(t[h+1],r)),t[a+1]=II(t[a+1],r)}else t[r+1]=Ic(a,0),a!==0&&(t[a+1]=Cd(t[a+1],r)),a=r;else t[r+1]=Ic(c,0),a===0?a=r:t[c+1]=Cd(t[c+1],r),c=r;u&&(t[r+1]=ah(t[r+1])),Eg(t,l,r,!0,i),Eg(t,l,r,!1,i),NI(e,l,t,r,i),s=Ic(a,c),i?e.classBindings=s:e.styleBindings=s}function NI(t,e,n,r,o){let i=o?t.residualClasses:t.residualStyles;i!=null&&typeof e=="string"&&Js(i,e)>=0&&(n[r+1]=ch(n[r+1]))}function Eg(t,e,n,r,o){let i=t[n+1],s=e===null,a=r?So(i):Ci(i),c=!1;for(;a!==0&&(c===!1||s);){let u=t[a],l=t[a+1];OI(u,e)&&(c=!0,t[a+1]=r?ch(l):ah(l)),a=r?So(l):Ci(l)}c&&(t[n+1]=r?ah(i):ch(i))}function OI(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Js(t,e)>=0:!1}function _e(t,e,n){let r=Fe(),o=iu();if(ta(r,o,e)){let i=Pt(),s=Mh();fy(i,s,r,t,e,r[st],n,!1)}return _e}function Ig(t,e,n,r,o){let i=e.inputs,s=o?"class":"style";Qh(t,n,i[s],s,r)}function vu(t,e,n){return Ey(t,e,n,!1),vu}function hr(t,e){return Ey(t,e,null,!0),hr}function Ey(t,e,n,r){let o=Fe(),i=Pt(),s=FS(2);if(i.firstUpdatePass&&RI(i,t,s,r),e!==Ii&&ta(o,s,e)){let a=i.data[Ti()];jI(i,a,o,o[st],t,o[s+1]=BI(e,n),r,s)}}function kI(t,e){return e>=t.expandoStartIndex}function RI(t,e,n,r){let o=t.data;if(o[n+1]===null){let i=o[Ti()],s=kI(t,n);UI(i,r)&&e===null&&!s&&(e=!1),e=FI(o,i,e,r),MI(o,i,e,n,s,r)}}function FI(t,e,n,r){let o=jS(t),i=r?e.residualClasses:e.residualStyles;if(o===null)(r?e.classBindings:e.styleBindings)===0&&(n=Dd(null,t,e,n,r),n=Zs(n,e.attrs,r),i=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==o)if(n=Dd(o,t,e,n,r),i===null){let c=PI(t,e,r);c!==void 0&&Array.isArray(c)&&(c=Dd(null,t,e,c[1],r),c=Zs(c,e.attrs,r),VI(t,e,r,c))}else i=LI(t,e,r)}return i!==void 0&&(r?e.residualClasses=i:e.residualStyles=i),n}function PI(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Ci(r)!==0)return t[So(r)]}function VI(t,e,n,r){let o=n?e.classBindings:e.styleBindings;t[So(o)]=r}function LI(t,e,n){let r,o=e.directiveEnd;for(let i=1+e.directiveStylingLast;i<o;i++){let s=t[i].hostAttrs;r=Zs(r,s,n)}return Zs(r,e.attrs,n)}function Dd(t,e,n,r,o){let i=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(i=e[a],r=Zs(r,i.hostAttrs,o),i!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Zs(t,e,n){let r=n?1:2,o=-1;if(e!==null)for(let i=0;i<e.length;i++){let s=e[i];typeof s=="number"?o=s:o===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),uT(t,s,n?!0:e[++i]))}return t===void 0?null:t}function jI(t,e,n,r,o,i,s,a){if(!(e.type&3))return;let c=t.data,u=c[a+1],l=AI(u)?Ag(c,e,n,o,Ci(u),s):void 0;if(!Qc(l)){Qc(i)||EI(u)&&(i=Ag(c,null,n,o,a,s));let d=sv(Ti(),n);sE(r,s,d,o,i)}}function Ag(t,e,n,r,o,i){let s=e===null,a;for(;o>0;){let c=t[o],u=Array.isArray(c),l=u?c[1]:c,d=l===null,h=n[o+1];h===Ii&&(h=d?jn:void 0);let f=d?vd(h,r):l===r?h:void 0;if(u&&!Qc(f)&&(f=vd(c,r)),Qc(f)&&(a=f,s))return a;let p=t[o+1];o=s?So(p):Ci(p)}if(e!==null){let c=i?e.residualClasses:e.residualStyles;c!=null&&(a=vd(c,r))}return a}function Qc(t){return t!==void 0}function BI(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Nt(qh(t)))),t}function UI(t,e){return(t.flags&(e?8:16))!==0}var Nj=new RegExp(`^(\\d+)*(${uE}|${cE})*(.*)`);var qI=(t,e)=>null;function Mg(t,e){return qI(t,e)}function $I(t,e,n,r){let o=e.tView,s=t[oe]&4096?4096:16,a=mu(t,o,n,s,null,e,null,null,null,r?.injector??null,r?.dehydratedView??null),c=t[e.index];a[Xs]=c;let u=t[ar];return u!==null&&(a[ar]=u.createEmbeddedView(o)),tf(o,a,n),a}function Ng(t,e){return!e||e.firstChild===null||$v(t)}function HI(t,e,n,r=!0){let o=e[he];if(ZT(o,e,t,n),r){let s=Ud(n,t),a=e[st],c=Bh(a,t[bo]);c!==null&&WT(o,t[un],a,e,c,s)}let i=e[Us];i!==null&&i.firstChild!==null&&(i.firstChild=null)}var Xr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=WI;let t=e;return t})();function WI(){let t=Hn();return Ay(t,Fe())}var GI=Xr,Iy=class extends GI{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Ei(this._hostTNode,this._hostLView)}get injector(){return new xo(this._hostTNode,this._hostLView)}get parentInjector(){let e=Nh(this._hostTNode,this._hostLView);if(bv(e)){let n=Bc(e,this._hostLView),r=jc(e),o=n[he].data[r+8];return new xo(o,n)}else return new xo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Og(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-an}createEmbeddedView(e,n,r){let o,i;typeof r=="number"?o=r:r!=null&&(o=r.index,i=r.injector);let s=Mg(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},i,s);return this.insertImpl(a,o,Ng(this._hostTNode,s)),a}createComponent(e,n,r,o,i){let s=e&&!iT(e),a;if(s)a=n;else{let p=n||{};a=p.index,r=p.injector,o=p.projectableNodes,i=p.environmentInjector||p.ngModuleRef}let c=s?e:new bi(Gr(e)),u=r||this.parentInjector;if(!i&&c.ngModule==null){let g=(s?u:this.parentInjector).get(cn,null);g&&(i=g)}let l=Gr(c.componentType??{}),d=Mg(this._lContainer,l?.id??null),h=d?.firstChild??null,f=c.create(u,o,h,i);return this.insertImpl(f.hostView,a,Ng(this._hostTNode,d)),f}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let o=e._lView;if(DS(o)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=o[it],u=new Iy(c,c[un],c[it]);u.detach(u.indexOf(e))}}let i=this._adjustIndex(n),s=this._lContainer;return HI(s,o,i,r),e.attachToViewContainerRef(),kv(Sd(s),i,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Og(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Bd(this._lContainer,n);r&&(Uc(Sd(this._lContainer),n),Qv(r[he],r))}detach(e){let n=this._adjustIndex(e,-1),r=Bd(this._lContainer,n);return r&&Uc(Sd(this._lContainer),n)!=null?new Do(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Og(t){return t[Lc]}function Sd(t){return t[Lc]||(t[Lc]=[])}function Ay(t,e){let n,r=e[t.index];return $n(r)?n=r:(n=vy(r,e,null,t),e[t.index]=n,gu(e,n)),ZI(n,e,t,r),new Iy(n,t,e)}function zI(t,e){let n=t[st],r=n.createComment(""),o=xn(e,t),i=Bh(n,o);return Hc(n,i,r,eE(n,o),!1),r}var ZI=XI,YI=(t,e,n)=>!1;function QI(t,e,n){return YI(t,e,n)}function XI(t,e,n,r){if(t[bo])return;let o;n.type&8?o=lr(r):o=zI(e,n),t[bo]=o}function KI(t,e,n,r,o,i,s,a,c){let u=e.consts,l=Ai(e,t,4,s||null,_i(u,a));Yh(e,n,l,_i(u,c)),cu(e,l);let d=l.tView=Zh(2,l,r,o,i,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}function $e(t,e,n,r,o,i,s,a){let c=Fe(),u=Pt(),l=t+ur,d=u.firstCreatePass?KI(l,u,c,e,n,r,o,i,s):u.data[l];Ao(d,!1);let h=JI(u,c,d,t);su()&&fu(u,c,h,d),Zr(h,c);let f=vy(h,c,h,d);return c[l]=f,gu(c,f),QI(f,d,c),ou(d)&&Gh(u,c,d),s!=null&&zh(c,d,a),$e}var JI=eA;function eA(t,e,n,r){return au(!0),e[st].createComment("")}function tA(t,e,n,r,o,i){let s=e.consts,a=_i(s,o),c=Ai(e,t,2,r,a);return Yh(e,n,c,_i(s,i)),c.attrs!==null&&Zc(c,c.attrs,!1),c.mergedAttrs!==null&&Zc(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function Le(t,e,n,r){let o=Fe(),i=Pt(),s=ur+t,a=o[st],c=i.firstCreatePass?tA(s,i,o,e,n,r):i.data[s],u=nA(i,o,c,a,e,t);o[s]=u;let l=ou(c);return Ao(c,!0),ry(a,u,c),(c.flags&32)!==32&&su()&&fu(i,o,u,c),IS()===0&&Zr(u,o),AS(),l&&(Gh(i,o,c),Wh(i,c,o)),r!==null&&zh(o,c),Le}function je(){let t=Hn();Sh()?Th():(t=t.parent,Ao(t,!1));let e=t;NS(e)&&OS(),MS();let n=Pt();return n.firstCreatePass&&(cu(n,t),Ch(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&GS(e)&&Ig(n,e,Fe(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&zS(e)&&Ig(n,e,Fe(),e.stylesWithoutHost,!1),je}function Ct(t,e,n,r){return Le(t,e,n,r),je(),Ct}var nA=(t,e,n,r,o,i)=>(au(!0),Zv(r,o,qS()));function rA(t,e,n,r,o){let i=e.consts,s=_i(i,r),a=Ai(e,t,8,"ng-container",s);s!==null&&Zc(a,s,!0);let c=_i(i,o);return Yh(e,n,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function Dt(t,e,n){let r=Fe(),o=Pt(),i=t+ur,s=o.firstCreatePass?rA(i,o,r,e,n):o.data[i];Ao(s,!0);let a=oA(o,r,s,t);return r[i]=a,su()&&fu(o,r,a,s),Zr(a,r),ou(s)&&(Gh(o,r,s),Wh(o,s,r)),n!=null&&zh(r,s),Dt}function St(){let t=Hn(),e=Pt();return Sh()?Th():(t=t.parent,Ao(t,!1)),e.firstCreatePass&&(cu(e,t),Ch(t)&&e.queries.elementEnd(t)),St}var oA=(t,e,n,r)=>(au(!0),$T(e[st],""));function zt(){return Fe()}function nf(t,e,n){let r=Fe(),o=iu();if(ta(r,o,e)){let i=Pt(),s=Mh();fy(i,s,r,t,e,r[st],n,!0)}return nf}var Xc="en-US";var iA=Xc;function sA(t){BD(t,"Expected localeId to be defined"),typeof t=="string"&&(iA=t.toLowerCase().replace(/_/g,"-"))}function Ni(t){return!!t&&typeof t.then=="function"}function My(t){return!!t&&typeof t.subscribe=="function"}function Je(t,e,n,r){let o=Fe(),i=Pt(),s=Hn();return cA(i,o,o[st],s,t,e,r),Je}function aA(t,e,n,r){let o=t.cleanup;if(o!=null)for(let i=0;i<o.length-1;i+=2){let s=o[i];if(s===n&&o[i+1]===r){let a=e[qs],c=o[i+2];return a.length>c?a[c]:null}typeof s=="string"&&(i+=2)}return null}function cA(t,e,n,r,o,i,s){let a=ou(r),u=t.firstCreatePass&&xy(t),l=e[Un],d=_y(e),h=!0;if(r.type&3||s){let g=xn(r,e),m=s?s(g):g,v=d.length,D=s?M=>s(lr(M[r.index])):r.index,I=null;if(!s&&a&&(I=aA(t,e,o,r.index)),I!==null){let M=I.__ngLastListenerFn__||I;M.__ngNextListenerFn__=i,I.__ngLastListenerFn__=i,h=!1}else{i=Rg(r,e,l,i,!1);let M=n.listen(m,o,i);d.push(i,M),u&&u.push(o,D,v,v+1)}}else i=Rg(r,e,l,i,!1);let f=r.outputs,p;if(h&&f!==null&&(p=f[o])){let g=p.length;if(g)for(let m=0;m<g;m+=2){let v=p[m],D=p[m+1],C=e[v][D].subscribe(i),b=d.length;d.push(i,C),u&&u.push(o,r.index,b,-(b+1))}}}function kg(t,e,n,r){try{return ir(6,e,n),n(r)!==!1}catch(o){return wy(t,o),!1}finally{ir(7,e,n)}}function Rg(t,e,n,r,o){return function i(s){if(s===Function)return r;let a=t.componentOffset>-1?Io(t.index,e):e;Xh(a);let c=kg(e,n,r,s),u=i.__ngNextListenerFn__;for(;u;)c=kg(e,n,u,s)&&c,u=u.__ngNextListenerFn__;return o&&c===!1&&s.preventDefault(),c}}function le(t=1){return US(t)}function uA(t,e){let n=null,r=iS(t);for(let o=0;o<e.length;o++){let i=e[o];if(i==="*"){n=o;continue}if(r===null?Zg(t,i,!0):cS(r,i))return o}return n}function Ny(t){let e=Fe()[qn][un];if(!e.projection){let n=t?t.length:1,r=e.projection=Rv(n,null),o=r.slice(),i=e.child;for(;i!==null;){let s=t?uA(i,t):0;s!==null&&(o[s]?o[s].projectionNext=i:r[s]=i,o[s]=i),i=i.next}}}function Oy(t,e=0,n){let r=Fe(),o=Pt(),i=Ai(o,ur+t,16,null,n||null);i.projection===null&&(i.projection=e),Th(),(!r[Us]||hv())&&(i.flags&32)!==32&&oE(o,r,i)}function kt(t,e=""){let n=Fe(),r=Pt(),o=t+ur,i=r.firstCreatePass?Ai(r,o,1,e,null):r.data[o],s=lA(r,n,i,e,t);n[o]=s,su()&&fu(r,n,s,i),Ao(i,!1)}var lA=(t,e,n,r,o)=>(au(!0),UT(e[st],r));function rf(t){return Cn("",t,""),rf}function Cn(t,e,n){let r=Fe(),o=TI(r,t,e,n);return o!==Ii&&XE(r,Ti(),o),Cn}var Yr=class{},Ys=class{};var Kc=class extends Yr{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Yc(this);let o=Kg(e);this._bootstrapComponents=qv(o.bootstrap),this._r3Injector=Bv(e,n,[{provide:Yr,useValue:this},{provide:pu,useValue:this.componentFactoryResolver},...r],Nt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Jc=class extends Ys{constructor(e){super(),this.moduleType=e}create(e){return new Kc(this.moduleType,e,[])}};function dA(t,e,n){return new Kc(t,e,n)}var uh=class extends Yr{constructor(e){super(),this.componentFactoryResolver=new Yc(this),this.instance=null;let n=new Gs([...e.providers,{provide:Yr,useValue:this},{provide:pu,useValue:this.componentFactoryResolver}],e.parent||Fh(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function yu(t,e,n=null){return new uh({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var hA=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let o=Vv(!1,r.type),i=o.length>0?yu([o],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,i)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=ee({token:e,providedIn:"environment",factory:()=>new e(J(cn))});let t=e;return t})();function at(t){Kh("NgStandalone"),t.getStandaloneInjector=e=>e.get(hA).getOrCreateStandaloneInjector(t)}function fA(){return this._results[Symbol.iterator]()}var lh=class t{get changes(){return this._changes??=new Ie}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=fA)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=aT(e);(this._changesDetected=!sT(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}},To=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=gA;let t=e;return t})(),pA=To,mA=class extends pA{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let o=$I(this._declarationLView,this._declarationTContainer,e,{injector:n,dehydratedView:r});return new Do(o)}};function gA(){return of(Hn(),Fe())}function of(t,e){return t.type&4?new mA(e,t,Ei(t,e)):null}var dh=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},hh=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,o=[];for(let i=0;i<r;i++){let s=n.getByIndex(i),a=this.queries[s.indexInDeclarationView];o.push(a.clone())}return new t(o)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)Fy(e,n).matches!==null&&this.queries[n].setDirty()}},fh=class{constructor(e,n,r=null){this.predicate=e,this.flags=n,this.read=r}},ph=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let o=n!==null?n.length:0,i=this.getByIndex(r).embeddedTView(e,o);i&&(i.indexInDeclarationView=r,n!==null?n.push(i):n=[i])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},mh=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){let i=r[o];this.matchTNodeWithReadOption(e,n,vA(n,i)),this.matchTNodeWithReadOption(e,n,Oc(n,e,i,!1,!1))}else r===To?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Oc(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let o=this.metadata.read;if(o!==null)if(o===bn||o===Xr||o===To&&n.type&4)this.addMatch(n.index,-2);else{let i=Oc(n,e,o,!1,!1);i!==null&&this.addMatch(n.index,i)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function vA(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function yA(t,e){return t.type&11?Ei(t,e):t.type&4?of(t,e):null}function _A(t,e,n,r){return n===-1?yA(e,t):n===-2?xA(t,e,r):xi(t,t[he],n,e)}function xA(t,e,n){if(n===bn)return Ei(e,t);if(n===To)return of(e,t);if(n===Xr)return Ay(e,t)}function ky(t,e,n,r){let o=e[ar].queries[r];if(o.matches===null){let i=t.data,s=n.matches,a=[];for(let c=0;c<s.length;c+=2){let u=s[c];if(u<0)a.push(null);else{let l=i[u];a.push(_A(e,l,s[c+1],n.metadata.read))}}o.matches=a}return o.matches}function gh(t,e,n,r){let o=t.queries.getByIndex(n),i=o.matches;if(i!==null){let s=ky(t,e,o,n);for(let a=0;a<i.length;a+=2){let c=i[a];if(c>0)r.push(s[a/2]);else{let u=i[a+1],l=e[-c];for(let d=an;d<l.length;d++){let h=l[d];h[Xs]===h[it]&&gh(h[he],h,u,r)}if(l[gi]!==null){let d=l[gi];for(let h=0;h<d.length;h++){let f=d[h];gh(f[he],f,u,r)}}}}}return r}function sf(t){let e=Fe(),n=Pt(),r=pv();Eh(r+1);let o=Fy(n,r);if(t.dirty&&CS(e)===((o.metadata.flags&2)===2)){if(o.matches===null)t.reset([]);else{let i=o.crossesNgTemplate?gh(n,e,r,[]):ky(n,e,o,r);t.reset(i,pE),t.notifyOnChanges()}return!0}return!1}function Ry(t,e,n){let r=Pt();r.firstCreatePass&&(CA(r,new fh(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),bA(r,Fe(),e)}function af(){return wA(Fe(),pv())}function wA(t,e){return t[ar].queries[e].queryList}function bA(t,e,n){let r=new lh((n&4)===4);OE(t,e,r,r.destroy),e[ar]===null&&(e[ar]=new hh),e[ar].queries.push(new dh(r))}function CA(t,e,n){t.queries===null&&(t.queries=new ph),t.queries.track(new mh(e,n))}function Fy(t,e){return t.queries.getByIndex(e)}var Ac=null;function DA(t){Ac!==null&&(t.defaultEncapsulation!==Ac.defaultEncapsulation||t.preserveWhitespaces!==Ac.preserveWhitespaces)||(Ac=t)}var _u=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),vh=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},xu=(()=>{let e=class e{compileModuleSync(r){return new Jc(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let o=this.compileModuleSync(r),i=Kg(r),s=qv(i.declarations).reduce((a,c)=>{let u=Gr(c);return u&&a.push(new bi(u)),a},[]);return new vh(o,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),SA=new ae("compilerOptions");var wu=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new bt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var cf=new ae(""),na=new ae(""),bu=(()=>{let e=class e{constructor(r,o,i){this._ngZone=r,this.registry=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,uf||(TA(i),i.addToWindow(o)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Pe.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&this._pendingCount===0&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb(this._didWork)}this._didWork=!1});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(o=>o.updateCb&&o.updateCb(r)?(clearTimeout(o.timeoutId),!1):!0),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,o,i){let s=-1;o&&o>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==s),r(this._didWork,this.getPendingTasks())},o)),this._callbacks.push({doneCb:r,timeoutId:s,updateCb:i})}whenStable(r,o,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,o,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,o,i){return[]}};e.\u0275fac=function(o){return new(o||e)(J(Pe),J(Cu),J(na))},e.\u0275prov=ee({token:e,factory:e.\u0275fac});let t=e;return t})(),Cu=(()=>{let e=class e{constructor(){this._applications=new Map}registerApplication(r,o){this._applications.set(r,o)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,o=!0){return uf?.findTestabilityInTree(this,r,o)??null}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();function TA(t){uf=t}var uf,Du=new ae("Application Initializer"),Py=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,o)=>{this.resolve=r,this.reject=o}),this.appInits=$(Du,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let i of this.appInits){let s=i();if(Ni(s))r.push(s);else if(My(s)){let a=new Promise((c,u)=>{s.subscribe({complete:c,error:u})});r.push(a)}}let o=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{o()}).catch(i=>{this.reject(i)}),r.length===0&&o(),this.initialized=!0}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),lf=new ae("appBootstrapListener");function EA(t,e,n){let r=new Jc(n);return Promise.resolve(r)}function IA(){Cm(()=>{throw new X(600,!1)})}function AA(t){return t.isBoundToModule}function MA(t,e,n){try{let r=n();return Ni(r)?r.catch(o=>{throw e.runOutsideAngular(()=>t.handleError(o)),o}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}function Vy(t,e){return Array.isArray(e)?e.reduce(Vy,t):w(w({},t),e)}var Oi=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=$(sy),this.componentTypes=[],this.components=[],this.isStable=$(wu).hasPendingTasks.pipe(xe(r=>!r)),this._injector=$(cn)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,o){let i=r instanceof Wc;if(!this._injector.get(Py).done){let p="Cannot bootstrap as there are still asynchronous initializers running."+(!i&&Xg(r)?"":" Bootstrap components in the `ngDoBootstrap` method of the root module.");throw new X(405,!1)}let a;i?a=r:a=this._injector.get(pu).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=AA(a)?void 0:this._injector.get(Yr),u=o||a.selector,l=a.create(wn.NULL,[],u,c),d=l.location.nativeElement,h=l.injector.get(cf,null);return h?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),Fc(this.components,l),h?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new X(101,!1);try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1}}attachView(r){let o=r;this._views.push(o),o.attachToAppRef(this)}detachView(r){let o=r;Fc(this._views,o),o.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let o=this._injector.get(lf,[]);[...this._bootstrapListeners,...o].forEach(i=>i(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Fc(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new X(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Fc(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Fg(t){for(let e=t.length-1;e>=0;e--)if(t[e]!==void 0)return t[e]}var NA=(()=>{let e=class e{constructor(){this.zone=$(Pe),this.applicationRef=$(Oi)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function OA(t){return[{provide:Pe,useFactory:t},{provide:wi,multi:!0,useFactory:()=>{let e=$(NA,{optional:!0});return()=>e.initialize()}},{provide:wi,multi:!0,useFactory:()=>{let e=$(FA);return()=>{e.initialize()}}},{provide:sy,useFactory:kA}]}function kA(){let t=$(Pe),e=$(dr);return n=>t.runOutsideAngular(()=>e.handleError(n))}function RA(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var FA=(()=>{let e=class e{constructor(){this.subscription=new Xe,this.initialized=!1,this.zone=$(Pe),this.pendingTasks=$(wu)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Pe.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Pe.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function PA(){return typeof $localize<"u"&&$localize.locale||Xc}var df=new ae("LocaleId",{providedIn:"root",factory:()=>$(df,ue.Optional|ue.SkipSelf)||PA()});var Ly=new ae("PlatformDestroyListeners"),jy=(()=>{let e=class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,o){let i=fI(o?.ngZone,RA({eventCoalescing:o?.ngZoneEventCoalescing,runCoalescing:o?.ngZoneRunCoalescing}));return i.run(()=>{let s=dA(r.moduleType,this.injector,OA(()=>i)),a=s.injector.get(dr,null);return i.runOutsideAngular(()=>{let c=i.onError.subscribe({next:u=>{a.handleError(u)}});s.onDestroy(()=>{Fc(this._modules,s),c.unsubscribe()})}),MA(a,i,()=>{let c=s.injector.get(Py);return c.runInitializers(),c.donePromise.then(()=>{let u=s.injector.get(df,Xc);return sA(u||Xc),this._moduleDoBootstrap(s),s})})})}bootstrapModule(r,o=[]){let i=Vy({},o);return EA(this.injector,i,r).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(r){let o=r.injector.get(Oi);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(i=>o.bootstrap(i));else if(r.instance.ngDoBootstrap)r.instance.ngDoBootstrap(o);else throw new X(-403,!1);this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new X(404,!1);this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o());let r=this._injector.get(Ly,null);r&&(r.forEach(o=>o()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}};e.\u0275fac=function(o){return new(o||e)(J(wn))},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),Ls=null,By=new ae("AllowMultipleToken");function VA(t){if(Ls&&!Ls.get(By,!1))throw new X(400,!1);IA(),Ls=t;let e=t.get(jy);return BA(t),e}function hf(t,e,n=[]){let r=`Platform: ${e}`,o=new ae(r);return(i=[])=>{let s=Uy();if(!s||s.injector.get(By,!1)){let a=[...n,...i,{provide:o,useValue:!0}];t?t(a):VA(LA(a,r))}return jA(o)}}function LA(t=[],e){return wn.create({name:e,providers:[{provide:du,useValue:"platform"},{provide:Ly,useValue:new Set([()=>Ls=null])},...t]})}function jA(t){let e=Uy();if(!e)throw new X(401,!1);return e}function Uy(){return Ls?.get(jy)??null}function BA(t){t.get(Ph,null)?.forEach(n=>n())}var qy=hf(null,"core",[]),$y=(()=>{let e=class e{constructor(r){}};e.\u0275fac=function(o){return new(o||e)(J(Oi))},e.\u0275mod=Gt({type:e}),e.\u0275inj=Wt({});let t=e;return t})();function Hy(t){let e=Gr(t);if(!e)return null;let n=new bi(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var ff=null;function No(){return ff}function Qy(t){ff||(ff=t)}var Su=class{},Lt=new ae("DocumentToken"),_f=(()=>{let e=class e{historyGo(r){throw new Error("Not implemented")}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=ee({token:e,factory:()=>(()=>$($A))(),providedIn:"platform"});let t=e;return t})(),Xy=new ae("Location Initialized"),$A=(()=>{let e=class e extends _f{constructor(){super(),this._doc=$(Lt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return No().getBaseHref(this._doc)}onPopState(r){let o=No().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",r,!1),()=>o.removeEventListener("popstate",r)}onHashChange(r){let o=No().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",r,!1),()=>o.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,o,i){this._history.pushState(r,o,i)}replaceState(r,o,i){this._history.replaceState(r,o,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=ee({token:e,factory:()=>(()=>new e)(),providedIn:"platform"});let t=e;return t})();function xf(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function Wy(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Nr(t){return t&&t[0]!=="?"?"?"+t:t}var Oo=(()=>{let e=class e{historyGo(r){throw new Error("Not implemented")}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=ee({token:e,factory:()=>(()=>$(wf))(),providedIn:"root"});let t=e;return t})(),Ky=new ae("appBaseHref"),wf=(()=>{let e=class e extends Oo{constructor(r,o){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=o??this._platformLocation.getBaseHrefFromDOM()??$(Lt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return xf(this._baseHref,r)}path(r=!1){let o=this._platformLocation.pathname+Nr(this._platformLocation.search),i=this._platformLocation.hash;return i&&r?`${o}${i}`:o}pushState(r,o,i,s){let a=this.prepareExternalUrl(i+Nr(s));this._platformLocation.pushState(r,o,a)}replaceState(r,o,i,s){let a=this.prepareExternalUrl(i+Nr(s));this._platformLocation.replaceState(r,o,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(o){return new(o||e)(J(_f),J(Ky,8))},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Jy=(()=>{let e=class e extends Oo{constructor(r,o){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],o!=null&&(this._baseHref=o)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let o=this._platformLocation.hash;return o==null&&(o="#"),o.length>0?o.substring(1):o}prepareExternalUrl(r){let o=xf(this._baseHref,r);return o.length>0?"#"+o:o}pushState(r,o,i,s){let a=this.prepareExternalUrl(i+Nr(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,o,a)}replaceState(r,o,i,s){let a=this.prepareExternalUrl(i+Nr(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,o,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(o){return new(o||e)(J(_f),J(Ky,8))},e.\u0275prov=ee({token:e,factory:e.\u0275fac});let t=e;return t})(),ki=(()=>{let e=class e{constructor(r){this._subject=new Ie,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let o=this._locationStrategy.getBaseHref();this._basePath=GA(Wy(Gy(o))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,o=""){return this.path()==this.normalize(r+Nr(o))}normalize(r){return e.stripTrailingSlash(WA(this._basePath,Gy(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,o="",i=null){this._locationStrategy.pushState(i,"",r,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Nr(o)),i)}replaceState(r,o="",i=null){this._locationStrategy.replaceState(i,"",r,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Nr(o)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)})),()=>{let o=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(o,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",o){this._urlChangeListeners.forEach(i=>i(r,o))}subscribe(r,o,i){return this._subject.subscribe({next:r,error:o,complete:i})}};e.normalizeQueryParams=Nr,e.joinWithSlash=xf,e.stripTrailingSlash=Wy,e.\u0275fac=function(o){return new(o||e)(J(Oo))},e.\u0275prov=ee({token:e,factory:()=>HA(),providedIn:"root"});let t=e;return t})();function HA(){return new ki(J(Oo))}function WA(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function Gy(t){return t.replace(/\/index.html$/,"")}function GA(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function e_(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[o,i]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(o.trim()===e)return decodeURIComponent(i)}return null}var pf=class{constructor(e,n,r,o){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=o}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Dn=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,o,i){this._viewContainer=r,this._template=o,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(!1)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let o=this._viewContainer;r.forEachOperation((i,s,a)=>{if(i.previousIndex==null)o.createEmbeddedView(this._template,new pf(i.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)o.remove(s===null?void 0:s);else if(s!==null){let c=o.get(s);o.move(c,a),zy(c,i)}});for(let i=0,s=o.length;i<s;i++){let c=o.get(i).context;c.index=i,c.count=s,c.ngForOf=this._ngForOf}r.forEachIdentityChange(i=>{let s=o.get(i.currentIndex);zy(s,i)})}static ngTemplateContextGuard(r,o){return!0}};e.\u0275fac=function(o){return new(o||e)(Ot(Xr),Ot(To),Ot(Hh))},e.\u0275dir=Di({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function zy(t,e){t.context.$implicit=e.item}var Ri=(()=>{let e=class e{constructor(r,o){this._viewContainer=r,this._context=new mf,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=o}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){Zy("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){Zy("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,o){return!0}};e.\u0275fac=function(o){return new(o||e)(Ot(Xr),Ot(To))},e.\u0275dir=Di({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),mf=class{constructor(){this.$implicit=null,this.ngIf=null}};function Zy(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Nt(e)}'.`)}var vt=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=Gt({type:e}),e.\u0275inj=Wt({});let t=e;return t})(),t_="browser",zA="server";function bf(t){return t===zA}var n_=(()=>{let e=class e{};e.\u0275prov=ee({token:e,providedIn:"root",factory:()=>new gf(J(Lt),window)});let t=e;return t})(),gf=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;let n=ZA(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,o=n.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(r-i[0],o-i[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}};function ZA(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),o=r.currentNode;for(;o;){let i=o.shadowRoot;if(i){let s=i.getElementById(e)||i.querySelector(`[name="${e}"]`);if(s)return s}o=r.nextNode()}}return null}var Tu=class{};var Sf=class extends Su{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Tf=class t extends Sf{static makeCurrent(){Qy(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=QA();return n==null?null:XA(n)}resetBaseElement(){ra=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return e_(document.cookie,e)}},ra=null;function QA(){return ra=ra||document.querySelector("base"),ra?ra.getAttribute("href"):null}function XA(t){return new URL(t,document.baseURI).pathname}var Ef=class{addToWindow(e){sn.getAngularTestability=(r,o=!0)=>{let i=e.findTestabilityInTree(r,o);if(i==null)throw new X(5103,!1);return i},sn.getAllAngularTestabilities=()=>e.getAllTestabilities(),sn.getAllAngularRootElements=()=>e.getAllRootElements();let n=r=>{let o=sn.getAllAngularTestabilities(),i=o.length,s=!1,a=function(c){s=s||c,i--,i==0&&r(s)};o.forEach(c=>{c.whenStable(a)})};sn.frameworkStabilizers||(sn.frameworkStabilizers=[]),sn.frameworkStabilizers.push(n)}findTestabilityInTree(e,n,r){if(n==null)return null;let o=e.getTestability(n);return o??(r?No().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},KA=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=ee({token:e,factory:e.\u0275fac});let t=e;return t})(),If=new ae("EventManagerPlugins"),s_=(()=>{let e=class e{constructor(r,o){this._zone=o,this._eventNameToPlugin=new Map,r.forEach(i=>{i.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,o,i){return this._findPluginFor(o).addEventListener(r,o,i)}getZone(){return this._zone}_findPluginFor(r){let o=this._eventNameToPlugin.get(r);if(o)return o;if(o=this._plugins.find(s=>s.supports(r)),!o)throw new X(5101,!1);return this._eventNameToPlugin.set(r,o),o}};e.\u0275fac=function(o){return new(o||e)(J(If),J(Pe))},e.\u0275prov=ee({token:e,factory:e.\u0275fac});let t=e;return t})(),Eu=class{constructor(e){this._doc=e}},Cf="ng-app-id",a_=(()=>{let e=class e{constructor(r,o,i,s={}){this.doc=r,this.appId=o,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=bf(s),this.resetHostNodes()}addStyles(r){for(let o of r)this.changeUsageCount(o,1)===1&&this.onStyleAdded(o)}removeStyles(r){for(let o of r)this.changeUsageCount(o,-1)<=0&&this.onStyleRemoved(o)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(o=>o.remove()),r.clear());for(let o of this.getAllStyles())this.onStyleRemoved(o);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let o of this.getAllStyles())this.addStyleToHost(r,o)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let o of this.hostNodes)this.addStyleToHost(o,r)}onStyleRemoved(r){let o=this.styleRef;o.get(r)?.elements?.forEach(i=>i.remove()),o.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${Cf}="${this.appId}"]`);if(r?.length){let o=new Map;return r.forEach(i=>{i.textContent!=null&&o.set(i.textContent,i)}),o}return null}changeUsageCount(r,o){let i=this.styleRef;if(i.has(r)){let s=i.get(r);return s.usage+=o,s.usage}return i.set(r,{usage:o,elements:[]}),o}getStyleElement(r,o){let i=this.styleNodesInDOM,s=i?.get(o);if(s?.parentNode===r)return i.delete(o),s.removeAttribute(Cf),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=o,this.platformIsServer&&a.setAttribute(Cf,this.appId),r.appendChild(a),a}}addStyleToHost(r,o){let i=this.getStyleElement(r,o),s=this.styleRef,a=s.get(o)?.elements;a?a.push(i):s.set(o,{elements:[i],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(o){return new(o||e)(J(Lt),J(hu),J(Vh,8),J(Mo))},e.\u0275prov=ee({token:e,factory:e.\u0275fac});let t=e;return t})(),Df={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Mf=/%COMP%/g,c_="%COMP%",JA=`_nghost-${c_}`,eM=`_ngcontent-${c_}`,tM=!0,nM=new ae("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>tM});function rM(t){return eM.replace(Mf,t)}function oM(t){return JA.replace(Mf,t)}function u_(t,e){return e.map(n=>n.replace(Mf,t))}var r_=(()=>{let e=class e{constructor(r,o,i,s,a,c,u,l=null){this.eventManager=r,this.sharedStylesHost=o,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=c,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=bf(c),this.defaultRenderer=new oa(r,a,u,this.platformIsServer)}createRenderer(r,o){if(!r||!o)return this.defaultRenderer;this.platformIsServer&&o.encapsulation===cr.ShadowDom&&(o=V(w({},o),{encapsulation:cr.Emulated}));let i=this.getOrCreateRenderer(r,o);return i instanceof Iu?i.applyToHost(r):i instanceof ia&&i.applyStyles(),i}getOrCreateRenderer(r,o){let i=this.rendererByCompId,s=i.get(o.id);if(!s){let a=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(o.encapsulation){case cr.Emulated:s=new Iu(u,l,o,this.appId,d,a,c,h);break;case cr.ShadowDom:return new Af(u,l,r,o,a,c,this.nonce,h);default:s=new ia(u,l,o,d,a,c,h);break}i.set(o.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(o){return new(o||e)(J(s_),J(a_),J(hu),J(nM),J(Lt),J(Mo),J(Pe),J(Vh))},e.\u0275prov=ee({token:e,factory:e.\u0275fac});let t=e;return t})(),oa=class{constructor(e,n,r,o){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=o,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Df[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(o_(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(o_(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new X(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,o){if(o){n=o+":"+n;let i=Df[o];i?e.setAttributeNS(i,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let o=Df[r];o?e.removeAttributeNS(o,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,o){o&(Ir.DashCase|Ir.Important)?e.style.setProperty(n,r,o&Ir.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Ir.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=No().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function o_(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Af=class extends oa{constructor(e,n,r,o,i,s,a,c){super(e,i,s,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=u_(o.id,o.styles);for(let l of u){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ia=class extends oa{constructor(e,n,r,o,i,s,a,c){super(e,i,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=o,this.styles=c?u_(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Iu=class extends ia{constructor(e,n,r,o,i,s,a,c){let u=o+"-"+r.id;super(e,n,r,i,s,a,c,u),this.contentAttr=rM(u),this.hostAttr=oM(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},iM=(()=>{let e=class e extends Eu{constructor(r){super(r)}supports(r){return!0}addEventListener(r,o,i){return r.addEventListener(o,i,!1),()=>this.removeEventListener(r,o,i)}removeEventListener(r,o,i){return r.removeEventListener(o,i)}};e.\u0275fac=function(o){return new(o||e)(J(Lt))},e.\u0275prov=ee({token:e,factory:e.\u0275fac});let t=e;return t})(),i_=["alt","control","meta","shift"],sM={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},aM={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},cM=(()=>{let e=class e extends Eu{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,o,i){let s=e.parseEventName(o),a=e.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>No().onAndCancel(r,s.domEventName,a))}static parseEventName(r){let o=r.toLowerCase().split("."),i=o.shift();if(o.length===0||!(i==="keydown"||i==="keyup"))return null;let s=e._normalizeKey(o.pop()),a="",c=o.indexOf("code");if(c>-1&&(o.splice(c,1),a="code."),i_.forEach(l=>{let d=o.indexOf(l);d>-1&&(o.splice(d,1),a+=l+".")}),a+=s,o.length!=0||s.length===0)return null;let u={};return u.domEventName=i,u.fullKey=a,u}static matchEventFullKeyCode(r,o){let i=sM[r.key]||r.key,s="";return o.indexOf("code.")>-1&&(i=r.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),i_.forEach(a=>{if(a!==i){let c=aM[a];c(r)&&(s+=a+".")}}),s+=i,s===o)}static eventCallback(r,o,i){return s=>{e.matchEventFullKeyCode(s,r)&&i.runGuarded(()=>o(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(o){return new(o||e)(J(Lt))},e.\u0275prov=ee({token:e,factory:e.\u0275fac});let t=e;return t})();function uM(){Tf.makeCurrent()}function lM(){return new dr}function dM(){return Uv(document),document}var hM=[{provide:Mo,useValue:t_},{provide:Ph,useValue:uM,multi:!0},{provide:Lt,useFactory:dM,deps:[]}],l_=hf(qy,"browser",hM),fM=new ae(""),pM=[{provide:na,useClass:Ef,deps:[]},{provide:cf,useClass:bu,deps:[Pe,Cu,na]},{provide:bu,useClass:bu,deps:[Pe,Cu,na]}],mM=[{provide:du,useValue:"root"},{provide:dr,useFactory:lM,deps:[]},{provide:If,useClass:iM,multi:!0,deps:[Lt,Pe,Mo]},{provide:If,useClass:cM,multi:!0,deps:[Lt]},r_,a_,s_,{provide:zs,useExisting:r_},{provide:Tu,useClass:KA,deps:[]},[]],d_=(()=>{let e=class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:hu,useValue:r.appId}]}}};e.\u0275fac=function(o){return new(o||e)(J(fM,12))},e.\u0275mod=Gt({type:e}),e.\u0275inj=Wt({providers:[...mM,...pM],imports:[vt,$y]});let t=e;return t})();function gM(){return new Nf(J(Lt))}var Nf=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(o){return new(o||e)(J(Lt))},e.\u0275prov=ee({token:e,factory:function(o){let i=null;return o?i=new o:i=gM(),i},providedIn:"root"});let t=e;return t})();var ce="primary",xa=Symbol("RouteTitle"),Pf=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Bi(t){return new Pf(t)}function vM(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let o={};for(let i=0;i<r.length;i++){let s=r[i],a=t[i];if(s.startsWith(":"))o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:o}}function yM(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!fr(t[n],e[n]))return!1;return!0}function fr(t,e){let n=t?Vf(t):void 0,r=e?Vf(e):void 0;if(!n||!r||n.length!=r.length)return!1;let o;for(let i=0;i<n.length;i++)if(o=n[i],!w_(t[o],e[o]))return!1;return!0}function Vf(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function w_(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((o,i)=>r[i]===o)}else return t===e}function b_(t){return t.length>0?t[t.length-1]:null}function to(t){return ad(t)?t:Ni(t)?Ke(Promise.resolve(t)):se(t)}var _M={exact:D_,subset:S_},C_={exact:xM,subset:wM,ignored:()=>!0};function f_(t,e,n){return _M[n.paths](t.root,e.root,n.matrixParams)&&C_[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function xM(t,e){return fr(t,e)}function D_(t,e,n){if(!Ro(t.segments,e.segments)||!Nu(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!D_(t.children[r],e.children[r],n))return!1;return!0}function wM(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>w_(t[n],e[n]))}function S_(t,e,n){return T_(t,e,e.segments,n)}function T_(t,e,n,r){if(t.segments.length>n.length){let o=t.segments.slice(0,n.length);return!(!Ro(o,n)||e.hasChildren()||!Nu(o,n,r))}else if(t.segments.length===n.length){if(!Ro(t.segments,n)||!Nu(t.segments,n,r))return!1;for(let o in e.children)if(!t.children[o]||!S_(t.children[o],e.children[o],r))return!1;return!0}else{let o=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!Ro(t.segments,o)||!Nu(t.segments,o,r)||!t.children[ce]?!1:T_(t.children[ce],e,i,r)}}function Nu(t,e,n){return e.every((r,o)=>C_[n](t[o].parameters,r.parameters))}var Kr=class{constructor(e=new Ae([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Bi(this.queryParams)),this._queryParamMap}toString(){return DM.serialize(this)}},Ae=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ou(this)}},ko=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Bi(this.parameters)),this._parameterMap}toString(){return I_(this)}};function bM(t,e){return Ro(t,e)&&t.every((n,r)=>fr(n.parameters,e[r].parameters))}function Ro(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function CM(t,e){let n=[];return Object.entries(t.children).forEach(([r,o])=>{r===ce&&(n=n.concat(e(o,r)))}),Object.entries(t.children).forEach(([r,o])=>{r!==ce&&(n=n.concat(e(o,r)))}),n}var wa=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=ee({token:e,factory:()=>(()=>new ha)(),providedIn:"root"});let t=e;return t})(),ha=class{parse(e){let n=new jf(e);return new Kr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${sa(e.root,!0)}`,r=EM(e.queryParams),o=typeof e.fragment=="string"?`#${SM(e.fragment)}`:"";return`${n}${r}${o}`}},DM=new ha;function Ou(t){return t.segments.map(e=>I_(e)).join("/")}function sa(t,e){if(!t.hasChildren())return Ou(t);if(e){let n=t.children[ce]?sa(t.children[ce],!1):"",r=[];return Object.entries(t.children).forEach(([o,i])=>{o!==ce&&r.push(`${o}:${sa(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=CM(t,(r,o)=>o===ce?[sa(t.children[ce],!1)]:[`${o}:${sa(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[ce]!=null?`${Ou(t)}/${n[0]}`:`${Ou(t)}/(${n.join("//")})`}}function E_(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Au(t){return E_(t).replace(/%3B/gi,";")}function SM(t){return encodeURI(t)}function Lf(t){return E_(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ku(t){return decodeURIComponent(t)}function p_(t){return ku(t.replace(/\+/g,"%20"))}function I_(t){return`${Lf(t.path)}${TM(t.parameters)}`}function TM(t){return Object.keys(t).map(e=>`;${Lf(e)}=${Lf(t[e])}`).join("")}function EM(t){let e=Object.keys(t).map(n=>{let r=t[n];return Array.isArray(r)?r.map(o=>`${Au(n)}=${Au(o)}`).join("&"):`${Au(n)}=${Au(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}var IM=/^[^\/()?;#]+/;function Of(t){let e=t.match(IM);return e?e[0]:""}var AM=/^[^\/()?;=#]+/;function MM(t){let e=t.match(AM);return e?e[0]:""}var NM=/^[^=?&#]+/;function OM(t){let e=t.match(NM);return e?e[0]:""}var kM=/^[^&#]+/;function RM(t){let e=t.match(kM);return e?e[0]:""}var jf=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ae([],{}):new Ae([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ce]=new Ae(e,n)),r}parseSegment(){let e=Of(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new X(4009,!1);return this.capture(e),new ko(ku(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=MM(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=Of(this.remaining);o&&(r=o,this.capture(r))}e[ku(n)]=ku(r)}parseQueryParam(e){let n=OM(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=RM(this.remaining);s&&(r=s,this.capture(r))}let o=p_(n),i=p_(r);if(e.hasOwnProperty(o)){let s=e[o];Array.isArray(s)||(s=[s],e[o]=s),s.push(i)}else e[o]=i}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Of(this.remaining),o=this.remaining[r.length];if(o!=="/"&&o!==")"&&o!==";")throw new X(4010,!1);let i;r.indexOf(":")>-1?(i=r.slice(0,r.indexOf(":")),this.capture(i),this.capture(":")):e&&(i=ce);let s=this.parseChildren();n[i]=Object.keys(s).length===1?s[ce]:new Ae([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new X(4011,!1)}};function A_(t){return t.segments.length>0?new Ae([],{[ce]:t}):t}function M_(t){let e={};for(let r of Object.keys(t.children)){let o=t.children[r],i=M_(o);if(r===ce&&i.segments.length===0&&i.hasChildren())for(let[s,a]of Object.entries(i.children))e[s]=a;else(i.segments.length>0||i.hasChildren())&&(e[r]=i)}let n=new Ae(t.segments,e);return FM(n)}function FM(t){if(t.numberOfChildren===1&&t.children[ce]){let e=t.children[ce];return new Ae(t.segments.concat(e.segments),e.children)}return t}function Ui(t){return t instanceof Kr}function PM(t,e,n=null,r=null){let o=N_(t);return O_(o,e,n,r)}function N_(t){let e;function n(i){let s={};for(let c of i.children){let u=n(c);s[c.outlet]=u}let a=new Ae(i.url,s);return i===t&&(e=a),a}let r=n(t.root),o=A_(r);return e??o}function O_(t,e,n,r){let o=t;for(;o.parent;)o=o.parent;if(e.length===0)return kf(o,o,o,n,r);let i=VM(e);if(i.toRoot())return kf(o,o,new Ae([],{}),n,r);let s=LM(i,o,t),a=s.processChildren?ua(s.segmentGroup,s.index,i.commands):R_(s.segmentGroup,s.index,i.commands);return kf(o,s.segmentGroup,a,n,r)}function Ru(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function fa(t){return typeof t=="object"&&t!=null&&t.outlets}function kf(t,e,n,r,o){let i={};r&&Object.entries(r).forEach(([c,u])=>{i[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`});let s;t===e?s=n:s=k_(t,e,n);let a=A_(M_(s));return new Kr(a,i,o)}function k_(t,e,n){let r={};return Object.entries(t.children).forEach(([o,i])=>{i===e?r[o]=n:r[o]=k_(i,e,n)}),new Ae(t.segments,r)}var Fu=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Ru(r[0]))throw new X(4003,!1);let o=r.find(fa);if(o&&o!==b_(r))throw new X(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function VM(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Fu(!0,0,t);let e=0,n=!1,r=t.reduce((o,i,s)=>{if(typeof i=="object"&&i!=null){if(i.outlets){let a={};return Object.entries(i.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...o,{outlets:a}]}if(i.segmentPath)return[...o,i.segmentPath]}return typeof i!="string"?[...o,i]:s===0?(i.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&o.push(a))}),o):[...o,i]},[]);return new Fu(n,e,r)}var Li=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function LM(t,e,n){if(t.isAbsolute)return new Li(e,!0,0);if(!n)return new Li(e,!1,NaN);if(n.parent===null)return new Li(n,!0,0);let r=Ru(t.commands[0])?0:1,o=n.segments.length-1+r;return jM(n,o,t.numberOfDoubleDots)}function jM(t,e,n){let r=t,o=e,i=n;for(;i>o;){if(i-=o,r=r.parent,!r)throw new X(4005,!1);o=r.segments.length}return new Li(r,!1,o-i)}function BM(t){return fa(t[0])?t[0].outlets:{[ce]:t}}function R_(t,e,n){if(t||(t=new Ae([],{})),t.segments.length===0&&t.hasChildren())return ua(t,e,n);let r=UM(t,e,n),o=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let i=new Ae(t.segments.slice(0,r.pathIndex),{});return i.children[ce]=new Ae(t.segments.slice(r.pathIndex),t.children),ua(i,0,o)}else return r.match&&o.length===0?new Ae(t.segments,{}):r.match&&!t.hasChildren()?Bf(t,e,n):r.match?ua(t,0,o):Bf(t,e,n)}function ua(t,e,n){if(n.length===0)return new Ae(t.segments,{});{let r=BM(n),o={};if(Object.keys(r).some(i=>i!==ce)&&t.children[ce]&&t.numberOfChildren===1&&t.children[ce].segments.length===0){let i=ua(t.children[ce],e,n);return new Ae(t.segments,i.children)}return Object.entries(r).forEach(([i,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(o[i]=R_(t.children[i],e,s))}),Object.entries(t.children).forEach(([i,s])=>{r[i]===void 0&&(o[i]=s)}),new Ae(t.segments,o)}}function UM(t,e,n){let r=0,o=e,i={match:!1,pathIndex:0,commandIndex:0};for(;o<t.segments.length;){if(r>=n.length)return i;let s=t.segments[o],a=n[r];if(fa(a))break;let c=`${a}`,u=r<n.length-1?n[r+1]:null;if(o>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!g_(c,u,s))return i;r+=2}else{if(!g_(c,{},s))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}function Bf(t,e,n){let r=t.segments.slice(0,e),o=0;for(;o<n.length;){let i=n[o];if(fa(i)){let c=qM(i.outlets);return new Ae(r,c)}if(o===0&&Ru(n[0])){let c=t.segments[e];r.push(new ko(c.path,m_(n[0]))),o++;continue}let s=fa(i)?i.outlets[ce]:`${i}`,a=o<n.length-1?n[o+1]:null;s&&a&&Ru(a)?(r.push(new ko(s,m_(a))),o+=2):(r.push(new ko(s,{})),o++)}return new Ae(r,{})}function qM(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Bf(new Ae([],{}),0,r))}),e}function m_(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function g_(t,e,n){return t==n.path&&fr(e,n.parameters)}var la="imperative",Sn=class{constructor(e,n){this.id=e,this.url=n}},qi=class extends Sn{constructor(e,n,r="imperative",o=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Or=class extends Sn{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Jr=class extends Sn{constructor(e,n,r,o){super(e,n),this.reason=r,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},eo=class extends Sn{constructor(e,n,r,o){super(e,n),this.reason=r,this.code=o,this.type=16}},pa=class extends Sn{constructor(e,n,r,o){super(e,n),this.error=r,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Pu=class extends Sn{constructor(e,n,r,o){super(e,n),this.urlAfterRedirects=r,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Uf=class extends Sn{constructor(e,n,r,o){super(e,n),this.urlAfterRedirects=r,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},qf=class extends Sn{constructor(e,n,r,o,i){super(e,n),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=i,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},$f=class extends Sn{constructor(e,n,r,o){super(e,n),this.urlAfterRedirects=r,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Hf=class extends Sn{constructor(e,n,r,o){super(e,n),this.urlAfterRedirects=r,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Wf=class{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Gf=class{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},zf=class{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Zf=class{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Yf=class{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Qf=class{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Vu=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},ma=class{},ga=class{constructor(e){this.url=e}};var Xf=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new ba,this.attachRef=null}},ba=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,o){let i=this.getOrCreateContext(r);i.outlet=o,this.contexts.set(r,i)}onChildOutletDestroyed(r){let o=this.getContext(r);o&&(o.outlet=null,o.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let o=this.getContext(r);return o||(o=new Xf,this.contexts.set(r,o)),o}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Lu=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Kf(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Kf(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Jf(e,this._root);return n.length<2?[]:n[n.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return Jf(e,this._root).map(n=>n.value)}};function Kf(t,e){if(t===e.value)return e;for(let n of e.children){let r=Kf(t,n);if(r)return r}return null}function Jf(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Jf(t,n);if(r.length)return r.unshift(e),r}return[]}var ln=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Vi(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var ju=class extends Lu{constructor(e,n){super(e),this.snapshot=n,up(this,e)}toString(){return this.snapshot.toString()}};function F_(t,e){let n=$M(t,e),r=new bt([new ko("",{})]),o=new bt({}),i=new bt({}),s=new bt({}),a=new bt(""),c=new $i(r,o,s,a,i,ce,e,n.root);return c.snapshot=n.root,new ju(new ln(c,[]),n)}function $M(t,e){let n={},r={},o={},i="",s=new va([],n,o,i,r,ce,e,null,{});return new Bu("",new ln(s,[]))}var $i=class{constructor(e,n,r,o,i,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=i,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(xe(u=>u[xa]))??se(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=o,this.data=i}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(xe(e=>Bi(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(xe(e=>Bi(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function cp(t,e,n="emptyOnly"){let r,{routeConfig:o}=t;return e!==null&&(n==="always"||o?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:w(w({},e.params),t.params),data:w(w({},e.data),t.data),resolve:w(w(w(w({},t.data),e.data),o?.data),t._resolvedData)}:r={params:w({},t.params),data:w({},t.data),resolve:w(w({},t.data),t._resolvedData??{})},o&&V_(o)&&(r.resolve[xa]=o.title),r}var va=class{get title(){return this.data?.[xa]}constructor(e,n,r,o,i,s,a,c,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Bi(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Bi(this.queryParams)),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Bu=class extends Lu{constructor(e,n){super(n),this.url=e,up(this,n)}toString(){return P_(this._root)}};function up(t,e){e.value._routerState=t,e.children.forEach(n=>up(t,n))}function P_(t){let e=t.children.length>0?` { ${t.children.map(P_).join(", ")} } `:"";return`${t.value}${e}`}function Rf(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,fr(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),fr(e.params,n.params)||t.paramsSubject.next(n.params),yM(e.url,n.url)||t.urlSubject.next(n.url),fr(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function ep(t,e){let n=fr(t.params,e.params)&&bM(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||ep(t.parent,e.parent))}function V_(t){return typeof t.title=="string"||t.title===null}var lp=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=ce,this.activateEvents=new Ie,this.deactivateEvents=new Ie,this.attachEvents=new Ie,this.detachEvents=new Ie,this.parentContexts=$(ba),this.location=$(Xr),this.changeDetector=$(Mr),this.environmentInjector=$(cn),this.inputBinder=$(Wu,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:o,previousValue:i}=r.name;if(o)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new X(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new X(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new X(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,o){this.activated=r,this._activatedRoute=o,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,o){if(this.isActivated)throw new X(4013,!1);this._activatedRoute=r;let i=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new tp(r,c,i.injector);this.activated=i.createComponent(a,{index:i.length,injector:u,environmentInjector:o??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(o){return new(o||e)},e.\u0275dir=Di({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Eo]});let t=e;return t})(),tp=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===$i?this.route:e===ba?this.childContexts:this.parent.get(e,n)}},Wu=new ae(""),v_=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:o}=r,i=Rs([o.queryParams,o.params,o.data]).pipe(vn(([s,a,c],u)=>(c=w(w(w({},s),a),c),u===0?se(c):Promise.resolve(c)))).subscribe(s=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==o||o.component===null){this.unsubscribeFromRouteData(r);return}let a=Hy(o.component);if(!a){this.unsubscribeFromRouteData(r);return}for(let{templateName:c}of a.inputs)r.activatedComponentRef.setInput(c,s[c])});this.outletDataSubscriptions.set(r,i)}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=ee({token:e,factory:e.\u0275fac});let t=e;return t})();function HM(t,e,n){let r=ya(t,e._root,n?n._root:void 0);return new ju(r,e)}function ya(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let o=WM(t,e,n);return new ln(r,o)}else{if(t.shouldAttach(e.value)){let i=t.retrieve(e.value);if(i!==null){let s=i.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>ya(t,a)),s}}let r=GM(e.value),o=e.children.map(i=>ya(t,i));return new ln(r,o)}}function WM(t,e,n){return e.children.map(r=>{for(let o of n.children)if(t.shouldReuseRoute(r.value,o.value.snapshot))return ya(t,r,o);return ya(t,r)})}function GM(t){return new $i(new bt(t.url),new bt(t.params),new bt(t.queryParams),new bt(t.fragment),new bt(t.data),t.outlet,t.component,t)}var L_="ngNavigationCancelingError";function j_(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Ui(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,o=B_(!1,0,e);return o.url=n,o.navigationBehaviorOptions=r,o}function B_(t,e,n){let r=new Error("NavigationCancelingError: "+(t||""));return r[L_]=!0,r.cancellationCode=e,n&&(r.url=n),r}function zM(t){return U_(t)&&Ui(t.url)}function U_(t){return t&&t[L_]}var ZM=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=ze({type:e,selectors:[["ng-component"]],standalone:!0,features:[at],decls:1,vars:0,template:function(o,i){o&1&&Ct(0,"router-outlet")},dependencies:[lp],encapsulation:2});let t=e;return t})();function YM(t,e){return t.providers&&!t._injector&&(t._injector=yu(t.providers,e,`Route: ${t.path}`)),t._injector??e}function dp(t){let e=t.children&&t.children.map(dp),n=e?V(w({},t),{children:e}):w({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ce&&(n.component=ZM),n}function pr(t){return t.outlet||ce}function QM(t,e){let n=t.filter(r=>pr(r)===e);return n.push(...t.filter(r=>pr(r)!==e)),n}function Ca(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var XM=(t,e,n,r)=>xe(o=>(new np(e,o.targetRouterState,o.currentRouterState,n,r).activate(t),o)),np=class{constructor(e,n,r,o,i){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=i}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Rf(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let o=Vi(n);e.children.forEach(i=>{let s=i.value.outlet;this.deactivateRoutes(i,o[s],r),delete o[s]}),Object.values(o).forEach(i=>{this.deactivateRouteAndItsChildren(i,r)})}deactivateRoutes(e,n,r){let o=e.value,i=n?n.value:null;if(o===i)if(o.component){let s=r.getContext(o.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else i&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),o=r&&e.value.component?r.children:n,i=Vi(e);for(let s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],o);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),o=r&&e.value.component?r.children:n,i=Vi(e);for(let s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let o=Vi(n);e.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],r),this.forwardEvent(new Qf(i.value.snapshot))}),e.children.length&&this.forwardEvent(new Zf(e.value.snapshot))}activateRoutes(e,n,r){let o=e.value,i=n?n.value:null;if(Rf(o),o===i)if(o.component){let s=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(o.component){let s=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){let a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Rf(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=Ca(o.snapshot);s.attachRef=null,s.route=o,s.injector=a,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}},Uu=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ji=class{constructor(e,n){this.component=e,this.route=n}};function KM(t,e,n){let r=t._root,o=e?e._root:null;return aa(r,o,n,[r.value])}function JM(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Wi(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!Lg(t)?t:e.get(t):r}function aa(t,e,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=Vi(e);return t.children.forEach(s=>{eN(s,i[s.value.outlet],n,r.concat([s.value]),o),delete i[s.value.outlet]}),Object.entries(i).forEach(([s,a])=>da(a,n.getContext(s),o)),o}function eN(t,e,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){let c=tN(s,i,i.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new Uu(r)):(i.data=s.data,i._resolvedData=s._resolvedData),i.component?aa(t,e,a?a.children:null,r,o):aa(t,e,n,r,o),c&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new ji(a.outlet.component,s))}else s&&da(e,a,o),o.canActivateChecks.push(new Uu(r)),i.component?aa(t,null,a?a.children:null,r,o):aa(t,null,n,r,o);return o}function tN(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Ro(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ro(t.url,e.url)||!fr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ep(t,e)||!fr(t.queryParams,e.queryParams);case"paramsChange":default:return!ep(t,e)}}function da(t,e,n){let r=Vi(t),o=t.value;Object.entries(r).forEach(([i,s])=>{o.component?e?da(s,e.children.getContext(i),n):da(s,null,n):da(s,e,n)}),o.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new ji(e.outlet.component,o)):n.canDeactivateChecks.push(new ji(null,o)):n.canDeactivateChecks.push(new ji(null,o))}function Da(t){return typeof t=="function"}function nN(t){return typeof t=="boolean"}function rN(t){return t&&Da(t.canLoad)}function oN(t){return t&&Da(t.canActivate)}function iN(t){return t&&Da(t.canActivateChild)}function sN(t){return t&&Da(t.canDeactivate)}function aN(t){return t&&Da(t.canMatch)}function q_(t){return t instanceof Tr||t?.name==="EmptyError"}var Mu=Symbol("INITIAL_VALUE");function Hi(){return vn(t=>Rs(t.map(e=>e.pipe(Er(1),hd(Mu)))).pipe(xe(e=>{for(let n of e)if(n!==!0){if(n===Mu)return Mu;if(n===!1||n instanceof Kr)return n}return!0}),gn(e=>e!==Mu),Er(1)))}function cN(t,e){return We(n=>{let{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=n;return s.length===0&&i.length===0?se(V(w({},n),{guardsResult:!0})):uN(s,r,o,t).pipe(We(a=>a&&nN(a)?lN(r,i,t,e):se(a)),xe(a=>V(w({},n),{guardsResult:a})))})}function uN(t,e,n,r){return Ke(t).pipe(We(o=>mN(o.component,o.route,n,e,r)),or(o=>o!==!0,!0))}function lN(t,e,n,r){return Ke(e).pipe(yo(o=>ai(hN(o.route.parent,r),dN(o.route,r),pN(t,o.path,n),fN(t,o.route,n))),or(o=>o!==!0,!0))}function dN(t,e){return t!==null&&e&&e(new Yf(t)),se(!0)}function hN(t,e){return t!==null&&e&&e(new zf(t)),se(!0)}function fN(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return se(!0);let o=r.map(i=>Sc(()=>{let s=Ca(e)??n,a=Wi(i,s),c=oN(a)?a.canActivate(e,t):Qr(s,()=>a(e,t));return to(c).pipe(or())}));return se(o).pipe(Hi())}function pN(t,e,n){let r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(s=>JM(s)).filter(s=>s!==null).map(s=>Sc(()=>{let a=s.guards.map(c=>{let u=Ca(s.node)??n,l=Wi(c,u),d=iN(l)?l.canActivateChild(r,t):Qr(u,()=>l(r,t));return to(d).pipe(or())});return se(a).pipe(Hi())}));return se(i).pipe(Hi())}function mN(t,e,n,r,o){let i=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!i||i.length===0)return se(!0);let s=i.map(a=>{let c=Ca(e)??o,u=Wi(a,c),l=sN(u)?u.canDeactivate(t,e,n,r):Qr(c,()=>u(t,e,n,r));return to(l).pipe(or())});return se(s).pipe(Hi())}function gN(t,e,n,r){let o=e.canLoad;if(o===void 0||o.length===0)return se(!0);let i=o.map(s=>{let a=Wi(s,t),c=rN(a)?a.canLoad(e,n):Qr(t,()=>a(e,n));return to(c)});return se(i).pipe(Hi(),$_(r))}function $_(t){return nd(Ge(e=>{if(Ui(e))throw j_(t,e)}),xe(e=>e===!0))}function vN(t,e,n,r){let o=e.canMatch;if(!o||o.length===0)return se(!0);let i=o.map(s=>{let a=Wi(s,t),c=aN(a)?a.canMatch(e,n):Qr(t,()=>a(e,n));return to(c)});return se(i).pipe(Hi(),$_(r))}var _a=class{constructor(e){this.segmentGroup=e||null}},qu=class extends Error{constructor(e){super(),this.urlTree=e}};function Pi(t){return ii(new _a(t))}function yN(t){return ii(new X(4e3,!1))}function _N(t){return ii(B_(!1,3))}var rp=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],o=n.root;for(;;){if(r=r.concat(o.segments),o.numberOfChildren===0)return se(r);if(o.numberOfChildren>1||!o.children[ce])return yN(e.redirectTo);o=o.children[ce]}}applyRedirectCommands(e,n,r){let o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new qu(o);return o}applyRedirectCreateUrlTree(e,n,r,o){let i=this.createSegmentGroup(e,n.root,r,o);return new Kr(i,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([o,i])=>{if(typeof i=="string"&&i.startsWith(":")){let a=i.substring(1);r[o]=n[a]}else r[o]=i}),r}createSegmentGroup(e,n,r,o){let i=this.createSegments(e,n.segments,r,o),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,o)}),new Ae(i,s)}createSegments(e,n,r,o){return n.map(i=>i.path.startsWith(":")?this.findPosParam(e,i,o):this.findOrReturn(i,r))}findPosParam(e,n,r){let o=r[n.path.substring(1)];if(!o)throw new X(4001,!1);return o}findOrReturn(e,n){let r=0;for(let o of n){if(o.path===e.path)return n.splice(r),o;r++}return e}},op={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function xN(t,e,n,r,o){let i=hp(t,e,n);return i.matched?(r=YM(e,r),vN(r,e,n,o).pipe(xe(s=>s===!0?i:w({},op)))):se(i)}function hp(t,e,n){if(e.path==="**")return wN(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?w({},op):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let o=(e.matcher||vM)(n,t,e);if(!o)return w({},op);let i={};Object.entries(o.posParams??{}).forEach(([a,c])=>{i[a]=c.path});let s=o.consumed.length>0?w(w({},i),o.consumed[o.consumed.length-1].parameters):i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:n.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function wN(t){return{matched:!0,parameters:t.length>0?b_(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function y_(t,e,n,r){return n.length>0&&DN(t,n,r)?{segmentGroup:new Ae(e,CN(r,new Ae(n,t.children))),slicedSegments:[]}:n.length===0&&SN(t,n,r)?{segmentGroup:new Ae(t.segments,bN(t,e,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Ae(t.segments,t.children),slicedSegments:n}}function bN(t,e,n,r,o){let i={};for(let s of r)if(Gu(t,n,s)&&!o[pr(s)]){let a=new Ae([],{});i[pr(s)]=a}return w(w({},o),i)}function CN(t,e){let n={};n[ce]=e;for(let r of t)if(r.path===""&&pr(r)!==ce){let o=new Ae([],{});n[pr(r)]=o}return n}function DN(t,e,n){return n.some(r=>Gu(t,e,r)&&pr(r)!==ce)}function SN(t,e,n){return n.some(r=>Gu(t,e,r))}function Gu(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function TN(t,e,n,r){return pr(t)!==r&&(r===ce||!Gu(e,n,t))?!1:hp(e,t,n).matched}function EN(t,e,n){return e.length===0&&!t.children[n]}var ip=class{};function IN(t,e,n,r,o,i,s="emptyOnly"){return new sp(t,e,n,r,o,s,i).recognize()}var AN=31,sp=class{constructor(e,n,r,o,i,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=o,this.urlTree=i,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new rp(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new X(4002,`'${e.segmentGroup}'`)}recognize(){let e=y_(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(xe(n=>{let r=new va([],Object.freeze({}),Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,{},ce,this.rootComponentType,null,{}),o=new ln(r,n),i=new Bu("",o),s=PM(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,i.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(i._root,null),{state:i,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,ce).pipe(qr(r=>{if(r instanceof qu)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof _a?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,o=cp(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(o.params),r.data=Object.freeze(o.data),e.children.forEach(i=>this.inheritParamsAndData(i,r))}processSegmentGroup(e,n,r,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,o,!0).pipe(xe(i=>i instanceof ln?[i]:[]))}processChildren(e,n,r){let o=[];for(let i of Object.keys(r.children))i==="primary"?o.unshift(i):o.push(i);return Ke(o).pipe(yo(i=>{let s=r.children[i],a=QM(n,i);return this.processSegmentGroup(e,a,s,i)}),dd((i,s)=>(i.push(...s),i)),$r(null),ld(),We(i=>{if(i===null)return Pi(r);let s=H_(i);return MN(s),se(s)}))}processSegment(e,n,r,o,i,s){return Ke(n).pipe(yo(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,o,i,s).pipe(qr(c=>{if(c instanceof _a)return se(null);throw c}))),or(a=>!!a),qr(a=>{if(q_(a))return EN(r,o,i)?se(new ip):Pi(r);throw a}))}processSegmentAgainstRoute(e,n,r,o,i,s,a){return TN(r,o,i,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,o,r,i,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,o,n,r,i,s):Pi(o):Pi(o)}expandSegmentAgainstRouteUsingRedirect(e,n,r,o,i,s){let{matched:a,consumedSegments:c,positionalParamSegments:u,remainingSegments:l}=hp(n,o,i);if(!a)return Pi(n);o.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>AN&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(c,o.redirectTo,u);return this.applyRedirects.lineralizeSegments(o,d).pipe(We(h=>this.processSegment(e,r,n,h.concat(l),s,!1)))}matchSegmentAgainstRoute(e,n,r,o,i){let s=xN(n,r,o,e,this.urlSerializer);return r.path==="**"&&(n.children={}),s.pipe(vn(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,o).pipe(vn(({routes:c})=>{let u=r._loadedInjector??e,{consumedSegments:l,remainingSegments:d,parameters:h}=a,f=new va(l,h,Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,ON(r),pr(r),r.component??r._loadedComponent??null,r,kN(r)),{segmentGroup:p,slicedSegments:g}=y_(n,l,d,c);if(g.length===0&&p.hasChildren())return this.processChildren(u,c,p).pipe(xe(v=>v===null?null:new ln(f,v)));if(c.length===0&&g.length===0)return se(new ln(f,[]));let m=pr(r)===i;return this.processSegment(u,c,p,g,m?ce:i,!0).pipe(xe(v=>new ln(f,v instanceof ln?[v]:[])))}))):Pi(n)))}getChildConfig(e,n,r){return n.children?se({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?se({routes:n._loadedRoutes,injector:n._loadedInjector}):gN(e,n,r,this.urlSerializer).pipe(We(o=>o?this.configLoader.loadChildren(e,n).pipe(Ge(i=>{n._loadedRoutes=i.routes,n._loadedInjector=i.injector})):_N(n))):se({routes:[],injector:e})}};function MN(t){t.sort((e,n)=>e.value.outlet===ce?-1:n.value.outlet===ce?1:e.value.outlet.localeCompare(n.value.outlet))}function NN(t){let e=t.value.routeConfig;return e&&e.path===""}function H_(t){let e=[],n=new Set;for(let r of t){if(!NN(r)){e.push(r);continue}let o=e.find(i=>r.value.routeConfig===i.value.routeConfig);o!==void 0?(o.children.push(...r.children),n.add(o)):e.push(r)}for(let r of n){let o=H_(r.children);e.push(new ln(r.value,o))}return e.filter(r=>!n.has(r))}function ON(t){return t.data||{}}function kN(t){return t.resolve||{}}function RN(t,e,n,r,o,i){return We(s=>IN(t,e,n,r,s.extractedUrl,o,i).pipe(xe(({state:a,tree:c})=>V(w({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function FN(t,e){return We(n=>{let{targetSnapshot:r,guards:{canActivateChecks:o}}=n;if(!o.length)return se(n);let i=new Set(o.map(c=>c.route)),s=new Set;for(let c of i)if(!s.has(c))for(let u of W_(c))s.add(u);let a=0;return Ke(s).pipe(yo(c=>i.has(c)?PN(c,r,t,e):(c.data=cp(c,c.parent,t).resolve,se(void 0))),Ge(()=>a++),ci(1),We(c=>a===s.size?se(n):mn))})}function W_(t){let e=t.children.map(n=>W_(n)).flat();return[t,...e]}function PN(t,e,n,r){let o=t.routeConfig,i=t._resolve;return o?.title!==void 0&&!V_(o)&&(i[xa]=o.title),VN(i,t,e,r).pipe(xe(s=>(t._resolvedData=s,t.data=cp(t,t.parent,n).resolve,null)))}function VN(t,e,n,r){let o=Vf(t);if(o.length===0)return se({});let i={};return Ke(o).pipe(We(s=>LN(t[s],e,n,r).pipe(or(),Ge(a=>{i[s]=a}))),ci(1),ud(i),qr(s=>q_(s)?mn:ii(s)))}function LN(t,e,n,r){let o=Ca(e)??r,i=Wi(t,o),s=i.resolve?i.resolve(e,n):Qr(o,()=>i(e,n));return to(s)}function Ff(t){return vn(e=>{let n=t(e);return n?Ke(n).pipe(xe(()=>e)):se(e)})}var G_=(()=>{let e=class e{buildTitle(r){let o,i=r.root;for(;i!==void 0;)o=this.getResolvedTitleForRoute(i)??o,i=i.children.find(s=>s.outlet===ce);return o}getResolvedTitleForRoute(r){return r.data[xa]}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=ee({token:e,factory:()=>(()=>$(jN))(),providedIn:"root"});let t=e;return t})(),jN=(()=>{let e=class e extends G_{constructor(r){super(),this.title=r}updateTitle(r){let o=this.buildTitle(r);o!==void 0&&this.title.setTitle(o)}};e.\u0275fac=function(o){return new(o||e)(J(Nf))},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Sa=new ae("",{providedIn:"root",factory:()=>({})}),$u=new ae("ROUTES"),fp=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=$(xu)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return se(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let o=to(r.loadComponent()).pipe(xe(z_),Ge(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Ps(()=>{this.componentLoaders.delete(r)})),i=new ni(o,()=>new on).pipe(ti());return this.componentLoaders.set(r,i),i}loadChildren(r,o){if(this.childrenLoaders.get(o))return this.childrenLoaders.get(o);if(o._loadedRoutes)return se({routes:o._loadedRoutes,injector:o._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(o);let s=BN(o,this.compiler,r,this.onLoadEndListener).pipe(Ps(()=>{this.childrenLoaders.delete(o)})),a=new ni(s,()=>new on).pipe(ti());return this.childrenLoaders.set(o,a),a}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function BN(t,e,n,r){return to(t.loadChildren()).pipe(xe(z_),We(o=>o instanceof Ys||Array.isArray(o)?se(o):Ke(e.compileModuleAsync(o))),xe(o=>{r&&r(t);let i,s,a=!1;return Array.isArray(o)?(s=o,a=!0):(i=o.create(n).injector,s=i.get($u,[],{optional:!0,self:!0}).flat()),{routes:s.map(dp),injector:i}}))}function UN(t){return t&&typeof t=="object"&&"default"in t}function z_(t){return UN(t)?t.default:t}var pp=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=ee({token:e,factory:()=>(()=>$(qN))(),providedIn:"root"});let t=e;return t})(),qN=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,o){return r}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Z_=new ae(""),Y_=new ae("");function $N(t,e,n){let r=t.get(Y_),o=t.get(Lt);return t.get(Pe).runOutsideAngular(()=>{if(!o.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,Promise.resolve();let i,s=new Promise(u=>{i=u}),a=o.startViewTransition(()=>(i(),HN(t))),{onViewTransitionCreated:c}=r;return c&&Qr(t,()=>c({transition:a,from:e,to:n})),s})}function HN(t){return new Promise(e=>{ef(e,{injector:t})})}var mp=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new on,this.transitionAbortSubject=new on,this.configLoader=$(fp),this.environmentInjector=$(cn),this.urlSerializer=$(wa),this.rootContexts=$(ba),this.location=$(ki),this.inputBindingEnabled=$(Wu,{optional:!0})!==null,this.titleStrategy=$(G_),this.options=$(Sa,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=$(pp),this.createViewTransition=$(Z_,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>se(void 0),this.rootComponentType=null;let r=i=>this.events.next(new Wf(i)),o=i=>this.events.next(new Gf(i));this.configLoader.onLoadEndListener=o,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let o=++this.navigationId;this.transitions?.next(V(w(w({},this.transitions.value),r),{id:o}))}setupNavigations(r,o,i){return this.transitions=new bt({id:0,currentUrlTree:o,currentRawUrl:o,extractedUrl:this.urlHandlingStrategy.extract(o),urlAfterRedirects:this.urlHandlingStrategy.extract(o),rawUrl:o,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:la,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(gn(s=>s.id!==0),xe(s=>V(w({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),vn(s=>{this.currentTransition=s;let a=!1,c=!1;return se(s).pipe(Ge(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?V(w({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),vn(u=>{let l=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=u.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!l&&d!=="reload"){let h="";return this.events.next(new eo(u.id,this.urlSerializer.serialize(u.rawUrl),h,0)),u.resolve(null),mn}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return se(u).pipe(vn(h=>{let f=this.transitions?.getValue();return this.events.next(new qi(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?mn:Promise.resolve(h)}),RN(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),Ge(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=V(w({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let f=new Pu(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:h,extractedUrl:f,source:p,restoredState:g,extras:m}=u,v=new qi(h,this.urlSerializer.serialize(f),p,g);this.events.next(v);let D=F_(f,this.rootComponentType).snapshot;return this.currentTransition=s=V(w({},u),{targetSnapshot:D,urlAfterRedirects:f,extras:V(w({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,se(s)}else{let h="";return this.events.next(new eo(u.id,this.urlSerializer.serialize(u.extractedUrl),h,1)),u.resolve(null),mn}}),Ge(u=>{let l=new Uf(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),xe(u=>(this.currentTransition=s=V(w({},u),{guards:KM(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),s)),cN(this.environmentInjector,u=>this.events.next(u)),Ge(u=>{if(s.guardsResult=u.guardsResult,Ui(u.guardsResult))throw j_(this.urlSerializer,u.guardsResult);let l=new qf(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),gn(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",3),!1)),Ff(u=>{if(u.guards.canActivateChecks.length)return se(u).pipe(Ge(l=>{let d=new $f(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),vn(l=>{let d=!1;return se(l).pipe(FN(this.paramsInheritanceStrategy,this.environmentInjector),Ge({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(l,"",2)}}))}),Ge(l=>{let d=new Hf(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}))}),Ff(u=>{let l=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(Ge(f=>{d.component=f}),xe(()=>{})));for(let f of d.children)h.push(...l(f));return h};return Rs(l(u.targetSnapshot.root)).pipe($r(null),Er(1))}),Ff(()=>this.afterPreactivation()),vn(()=>{let{currentSnapshot:u,targetSnapshot:l}=s,d=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return d?Ke(d).pipe(xe(()=>s)):se(s)}),xe(u=>{let l=HM(r.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s=V(w({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,s}),Ge(()=>{this.events.next(new ma)}),XM(this.rootContexts,r.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Er(1),Ge({next:u=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Or(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),fd(this.transitionAbortSubject.pipe(Ge(u=>{throw u}))),Ps(()=>{if(!a&&!c){let u="";this.cancelNavigationTransition(s,u,1)}this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),qr(u=>{if(c=!0,U_(u))this.events.next(new Jr(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),zM(u)?this.events.next(new ga(u.url)):s.resolve(!1);else{this.events.next(new pa(s.id,this.urlSerializer.serialize(s.extractedUrl),u,s.targetSnapshot??void 0));try{s.resolve(r.errorHandler(u))}catch(l){s.reject(l)}}return mn}))}))}cancelNavigationTransition(r,o,i){let s=new Jr(r.id,this.urlSerializer.serialize(r.extractedUrl),o,i);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function WN(t){return t!==la}var GN=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=ee({token:e,factory:()=>(()=>$(zN))(),providedIn:"root"});let t=e;return t})(),ap=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},zN=(()=>{let e=class e extends ap{};e.\u0275fac=(()=>{let r;return function(i){return(r||(r=uu(e)))(i||e)}})(),e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Q_=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=ee({token:e,factory:()=>(()=>$(ZN))(),providedIn:"root"});let t=e;return t})(),ZN=(()=>{let e=class e extends Q_{constructor(){super(...arguments),this.location=$(ki),this.urlSerializer=$(wa),this.options=$(Sa,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=$(pp),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Kr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=F_(this.currentUrlTree,null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(o=>{o.type==="popstate"&&r(o.url,o.state)})}handleRouterEvent(r,o){if(r instanceof qi)this.stateMemento=this.createStateMemento();else if(r instanceof eo)this.rawUrlTree=o.initialUrl;else if(r instanceof Pu){if(this.urlUpdateStrategy==="eager"&&!o.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(o.finalUrl,o.initialUrl);this.setBrowserUrl(i,o)}}else r instanceof ma?(this.currentUrlTree=o.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(o.finalUrl,o.initialUrl),this.routerState=o.targetRouterState,this.urlUpdateStrategy==="deferred"&&(o.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,o))):r instanceof Jr&&(r.code===3||r.code===2)?this.restoreHistory(o):r instanceof pa?this.restoreHistory(o,!0):r instanceof Or&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,o){let i=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(i)||o.extras.replaceUrl){let s=this.browserPageId,a=w(w({},o.extras.state),this.generateNgRouterState(o.id,s));this.location.replaceState(i,"",a)}else{let s=w(w({},o.extras.state),this.generateNgRouterState(o.id,this.browserPageId+1));this.location.go(i,"",s)}}restoreHistory(r,o=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&s===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(o&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,o){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:o}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(i){return(r||(r=uu(e)))(i||e)}})(),e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ca=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(ca||{});function X_(t,e){t.events.pipe(gn(n=>n instanceof Or||n instanceof Jr||n instanceof pa||n instanceof eo),xe(n=>n instanceof Or||n instanceof eo?ca.COMPLETE:(n instanceof Jr?n.code===0||n.code===1:!1)?ca.REDIRECTING:ca.FAILED),gn(n=>n!==ca.REDIRECTING),Er(1)).subscribe(()=>{e()})}function YN(t){throw t}var QN={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},XN={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Fo=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=$(_u),this.stateManager=$(Q_),this.options=$(Sa,{optional:!0})||{},this.pendingTasks=$(wu),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=$(mp),this.urlSerializer=$(wa),this.location=$(ki),this.urlHandlingStrategy=$(pp),this._events=new on,this.errorHandler=this.options.errorHandler||YN,this.navigated=!1,this.routeReuseStrategy=$(GN),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=$($u,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!$(Wu,{optional:!0}),this.eventsSubscription=new Xe,this.isNgZoneEnabled=$(Pe)instanceof Pe&&Pe.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(o=>{try{let i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(o,s),o instanceof Jr&&o.code!==0&&o.code!==1)this.navigated=!0;else if(o instanceof Or)this.navigated=!0;else if(o instanceof ga){let a=this.urlHandlingStrategy.merge(o.url,i.currentRawUrl),c={skipLocationChange:i.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||WN(i.source)};this.scheduleNavigation(a,la,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}JN(o)&&this._events.next(o)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),la,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,o)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",o)},0)}))}navigateToSyncWithBrowser(r,o,i){let s={replaceUrl:!0},a=i?.navigationId?i:null;if(i){let u=w({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(s.state=u)}let c=this.parseUrl(r);this.scheduleNavigation(c,o,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(dp),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,o={}){let{relativeTo:i,queryParams:s,fragment:a,queryParamsHandling:c,preserveFragment:u}=o,l=u?this.currentUrlTree.fragment:a,d=null;switch(c){case"merge":d=w(w({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let f=i?i.snapshot:this.routerState.snapshot.root;h=N_(f)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),h=this.currentUrlTree.root}return O_(h,r,d,l??null)}navigateByUrl(r,o={skipLocationChange:!1}){let i=Ui(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,la,null,o)}navigate(r,o={skipLocationChange:!1}){return KN(r),this.navigateByUrl(this.createUrlTree(r,o),o)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,o){let i;if(o===!0?i=w({},QN):o===!1?i=w({},XN):i=o,Ui(r))return f_(this.currentUrlTree,r,i);let s=this.parseUrl(r);return f_(this.currentUrlTree,s,i)}removeEmptyProps(r){return Object.keys(r).reduce((o,i)=>{let s=r[i];return s!=null&&(o[i]=s),o},{})}scheduleNavigation(r,o,i,s,a){if(this.disposed)return Promise.resolve(!1);let c,u,l;a?(c=a.resolve,u=a.reject,l=a.promise):l=new Promise((h,f)=>{c=h,u=f});let d=this.pendingTasks.add();return X_(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:o,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(h=>Promise.reject(h))}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function KN(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new X(4008,!1)}function JN(t){return!(t instanceof ma)&&!(t instanceof ga)}var Hu=class{};var e1=(()=>{let e=class e{constructor(r,o,i,s,a){this.router=r,this.injector=i,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(gn(r=>r instanceof Or),yo(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,o){let i=[];for(let s of o){s.providers&&!s._injector&&(s._injector=yu(s.providers,r,`Route: ${s.path}`));let a=s._injector??r,c=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(c,s.children??s._loadedRoutes))}return Ke(i).pipe(si())}preloadConfig(r,o){return this.preloadingStrategy.preload(o,()=>{let i;o.loadChildren&&o.canLoad===void 0?i=this.loader.loadChildren(r,o):i=se(null);let s=i.pipe(We(a=>a===null?se(void 0):(o._loadedRoutes=a.routes,o._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));if(o.loadComponent&&!o._loadedComponent){let a=this.loader.loadComponent(o);return Ke([s,a]).pipe(si())}else return s})}};e.\u0275fac=function(o){return new(o||e)(J(Fo),J(xu),J(cn),J(Hu),J(fp))},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),K_=new ae(""),t1=(()=>{let e=class e{constructor(r,o,i,s,a={}){this.urlSerializer=r,this.transitions=o,this.viewportScroller=i,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof qi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof Or?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof eo&&r.code===0&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Vu&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,o){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Vu(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,o))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(o){uy()},e.\u0275prov=ee({token:e,factory:e.\u0275fac});let t=e;return t})();function n1(t){return t.routerState.root}function Ta(t,e){return{\u0275kind:t,\u0275providers:e}}function r1(){let t=$(wn);return e=>{let n=t.get(Oi);if(e!==n.components[0])return;let r=t.get(Fo),o=t.get(J_);t.get(gp)===1&&r.initialNavigation(),t.get(ex,null,ue.Optional)?.setUpPreloading(),t.get(K_,null,ue.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}var J_=new ae("",{factory:()=>new on}),gp=new ae("",{providedIn:"root",factory:()=>1});function o1(){return Ta(2,[{provide:gp,useValue:0},{provide:Du,multi:!0,deps:[wn],useFactory:e=>{let n=e.get(Xy,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let o=e.get(Fo),i=e.get(J_);X_(o,()=>{r(!0)}),e.get(mp).afterPreactivation=()=>(r(!0),i.closed?se(void 0):i),o.initialNavigation()}))}}])}function i1(){return Ta(3,[{provide:Du,multi:!0,useFactory:()=>{let e=$(Fo);return()=>{e.setUpLocationChangeListener()}}},{provide:gp,useValue:2}])}var ex=new ae("");function s1(t){return Ta(0,[{provide:ex,useExisting:e1},{provide:Hu,useExisting:t}])}function a1(){return Ta(8,[v_,{provide:Wu,useExisting:v_}])}function c1(t){let e=[{provide:Z_,useValue:$N},{provide:Y_,useValue:w({skipNextTransition:!!t?.skipInitialTransition},t)}];return Ta(9,e)}var __=new ae("ROUTER_FORROOT_GUARD"),u1=[ki,{provide:wa,useClass:ha},Fo,ba,{provide:$i,useFactory:n1,deps:[Fo]},fp,[]],tx=(()=>{let e=class e{constructor(r){}static forRoot(r,o){return{ngModule:e,providers:[u1,[],{provide:$u,multi:!0,useValue:r},{provide:__,useFactory:f1,deps:[[Fo,new lu,new kh]]},{provide:Sa,useValue:o||{}},o?.useHash?d1():h1(),l1(),o?.preloadingStrategy?s1(o.preloadingStrategy).\u0275providers:[],o?.initialNavigation?p1(o):[],o?.bindToComponentInputs?a1().\u0275providers:[],o?.enableViewTransitions?c1().\u0275providers:[],m1()]}}static forChild(r){return{ngModule:e,providers:[{provide:$u,multi:!0,useValue:r}]}}};e.\u0275fac=function(o){return new(o||e)(J(__,8))},e.\u0275mod=Gt({type:e}),e.\u0275inj=Wt({});let t=e;return t})();function l1(){return{provide:K_,useFactory:()=>{let t=$(n_),e=$(Pe),n=$(Sa),r=$(mp),o=$(wa);return n.scrollOffset&&t.setOffset(n.scrollOffset),new t1(o,r,t,e,n)}}}function d1(){return{provide:Oo,useClass:Jy}}function h1(){return{provide:Oo,useClass:wf}}function f1(t){return"guarded"}function p1(t){return[t.initialNavigation==="disabled"?i1().\u0275providers:[],t.initialNavigation==="enabledBlocking"?o1().\u0275providers:[]]}var x_=new ae("");function m1(){return[{provide:x_,useFactory:r1},{provide:lf,multi:!0,useExisting:x_}]}var v1={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},s3=V(w({},v1),{"[class.ng-submitted]":"isSubmitted"});var nx=new ae("CallSetDisabledState",{providedIn:"root",factory:()=>vp}),vp="always";var y1=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=Gt({type:e}),e.\u0275inj=Wt({});let t=e;return t})();var _1=new ae("NgModelWithFormControlWarning");var rx=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=Gt({type:e}),e.\u0275inj=Wt({imports:[y1]});let t=e;return t})();var ox=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:nx,useValue:r.callSetDisabledState??vp}]}}};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=Gt({type:e}),e.\u0275inj=Wt({imports:[rx]});let t=e;return t})(),ix=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:_1,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:nx,useValue:r.callSetDisabledState??vp}]}}};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=Gt({type:e}),e.\u0275inj=Wt({imports:[rx]});let t=e;return t})();var sx=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=ze({type:e,selectors:[["app-root"]],decls:2,vars:0,consts:[[1,"container"]],template:function(o,i){o&1&&(Le(0,"div",0),Ct(1,"router-outlet"),je())},dependencies:[lp]});let t=e;return t})();function no(t,e=0){return Array.from(new Array(t).keys()).map(n=>n+e)}var Gi=class t{constructor(e=1,n=1,r=1,o=""){this.bar=e,this.beat=n,this.division=r,this.note=o}static from(e){return Object.assign(new t,e)}static fromEach(e){return e.map(n=>this.from(n))}get timeCode(){return yp(this.bar,this.beat,this.division)}};function yp(t=1,e=1,n=1){let r=n>1?`.${n}`:"";return(r||e>1)&&(r=`.${e}${r}`),`${t}${r}`}var _p=(()=>{let e=class e{get timeCode(){return yp(this.barNumber,this.beatNumber,this.beatDivisionNumber)}get onTheBeat(){return this.beatDivisionNumber==1}get title(){return this.timeCode}get event(){return this.events.find(r=>r.bar===this.barNumber&&r.beat===this.beatNumber&&r.division===this.beatDivisionNumber&&r.note===this.note)}onClick(){return this.clickLine.emit(this),!1}get height(){return this.el.nativeElement.getBoundingClientRect().height}get top(){return this.el.nativeElement.getBoundingClientRect().top}constructor(r){this.el=r,this.lineIndex=0,this.note="",this.barNumber=1,this.beatNumber=1,this.beatDivisionNumber=1,this.events=[],this.clickLine=new Ie}};e.\u0275fac=function(o){return new(o||e)(Ot(bn))},e.\u0275cmp=ze({type:e,selectors:[["app-rythm-bar-beat-division-line"]],hostVars:5,hostBindings:function(o,i){o&1&&Je("click",function(){return i.onClick()}),o&2&&(nf("title",i.title),hr("on-the-beat",i.onTheBeat)("bottom-line",i.bottomLine))},inputs:{lineIndex:"lineIndex",note:"note",barNumber:"barNumber",beatNumber:"beatNumber",beatDivisionNumber:"beatDivisionNumber",events:"events",bottomLine:"bottomLine"},outputs:{clickLine:"clickLine"},standalone:!0,features:[at],decls:0,vars:0,template:function(o,i){},dependencies:[vt],styles:["[_nghost-%COMP%]{background:white;aspect-ratio:1.7142857143;font-size:10pt;border-top:solid 1px black}.bottom-line[_nghost-%COMP%]{border-bottom:solid 1px black}.on-the-beat[_nghost-%COMP%]{background:#EEE}[_nghost-%COMP%]:hover{background:rgb(255,255,155)}"]});let t=e;return t})();var ax=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=ze({type:e,selectors:[["app-note"]],standalone:!0,features:[at],decls:1,vars:0,consts:[["src","assets/images/WholeNote-centered.svg"]],template:function(o,i){o&1&&Ct(0,"img",0)},styles:["[_nghost-%COMP%]{aspect-ratio:12/7;pointer-events:none}img[_ngcontent-%COMP%]{display:block;width:100%;pointer-events:none}"]});let t=e;return t})();function x1(t,e){if(t&1){let n=zt();Le(0,"app-rythm-bar-beat-division-line",2),Je("clickLine",function(o){ft(n);let i=le();return pt(i.onClickLine(o))}),je()}if(t&2){let n=e.$implicit,r=le();_e("barNumber",r.barNumber)("beatNumber",r.beatNumber)("beatDivisionNumber",r.number)("lineIndex",n)("note",r.note(n+1))("bottomLine",n+1===r.linesArray.length)("events",r.events)}}function w1(t,e){if(t&1&&(Dt(0),Le(1,"div",3),kt(2),je(),St()),t&2){let n=le();Se(2),Cn("V",n.beatNumber,"")}}function b1(t,e){if(t&1&&Ct(0,"app-note"),t&2){let n=e.ngIf,r=le(3);vu("width",r.width,"px")("top",r.getNoteOffsetTop(n),"px")}}function C1(t,e){if(t&1&&(Dt(0),$e(1,b1,1,4,"app-note",5),St()),t&2){let n=e.$implicit,r=le(2);Se(1),_e("ngIf",r.line(n))}}function D1(t,e){if(t&1&&(Dt(0),$e(1,C1,2,1,"ng-container",4),St()),t&2){let n=le();Se(1),_e("ngForOf",n.eventsOnThisDivision)}}var cx=(()=>{let e=class e{get active(){if(!this.timecode)return!1;let r=this.timecode.split("."),o=+r[0],i=+r[1],s=+r[2];return o===this.barNumber&&i===this.beatNumber&&s===this.number}get width(){return this.widthV2}get top(){return this.el.nativeElement.getBoundingClientRect().top}get widthV1(){return this.el.nativeElement.offsetWidth}get widthV2(){return this.el.nativeElement.getBoundingClientRect().width}getNoteOffsetTop(r){return this.getNoteOffsetTopV2(r)}getNoteOffsetTopV1(r){let i=this.width/1.7142857142857142*.97,s=1;return(r-1)*(i+s)}getNoteOffsetTopV2(r){if(this.lineComponents){let o=this.minLineComponent(r);if(o?.top!==void 0){let i=this.maxLineComponent(r);if(i===o)return o.top-this.top;if(i?.top!==void 0){let s=r%1;return o.top-this.top+(i.top-this.top)*s}}}return console.warn("Impossible de calculer getNoteOffsetTopV2 => on utilise getNoteOffsetTopV1"),this.getNoteOffsetTopV1(r)}lineComponent(r){return this.lineComponents?.get(r-1)}minLineComponent(r){return this.lineComponent(Math.floor(r))}maxLineComponent(r){return this.lineComponent(Math.ceil(r))}get eventsOnThisDivision(){return this.events.filter(r=>r.bar===this.barNumber&&r.beat===this.beatNumber&&r.division==this.number)}get linesArray(){return this._linesArray||(this._linesArray=no(this.lines)),this._linesArray}constructor(r,o){this.el=r,this.changeDetectorRef=o,this.number=1,this.barNumber=1,this.beatNumber=1,this.lines=2,this.events=[],this.addEvent=new Ie,this.removeEvent=new Ie}ngAfterViewInit(){this.changeDetectorRef.detectChanges(),this.detectChangesOnWindowResize()}detectChangesOnWindowResize(){Fs(window,"resize").pipe(Ge(()=>console.log("window resize")),cd(1e3),Ge(()=>console.log("debounced window resize"))).subscribe()}line(r){switch(r.note){case"kick":return this.lines;case"snare":return this.lines-1;default:throw new Error("Unknown note "+r.note)}}note(r){switch(r){case this.lines:return"kick";case this.lines-1:return"snare";default:throw new Error("Unknown line "+r)}}onClickLine(r){let o=r.event;if(o)return this.removeEvent.emit(o);let i=this.note(r.lineIndex+1),s=new Gi(this.barNumber,this.beatNumber,r.beatDivisionNumber,i);this.addEvent.emit(s)}};e.\u0275fac=function(o){return new(o||e)(Ot(bn),Ot(Mr))},e.\u0275cmp=ze({type:e,selectors:[["app-rythm-bar-beat-division"]],viewQuery:function(o,i){if(o&1&&Ry(_p,5),o&2){let s;sf(s=af())&&(i.lineComponents=s)}},hostVars:2,hostBindings:function(o,i){o&2&&hr("active",i.active)},inputs:{number:"number",barNumber:"barNumber",beatNumber:"beatNumber",lines:"lines",events:"events",timecode:"timecode"},outputs:{addEvent:"addEvent",removeEvent:"removeEvent"},standalone:!0,features:[at],decls:3,vars:3,consts:[[3,"barNumber","beatNumber","beatDivisionNumber","lineIndex","note","bottomLine","events","clickLine",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"barNumber","beatNumber","beatDivisionNumber","lineIndex","note","bottomLine","events","clickLine"],[1,"beat-number"],[4,"ngFor","ngForOf"],[3,"width","top",4,"ngIf"]],template:function(o,i){o&1&&$e(0,x1,1,7,"app-rythm-bar-beat-division-line",0)(1,w1,3,1,"ng-container",1)(2,D1,2,1,"ng-container",1),o&2&&(_e("ngForOf",i.linesArray),Se(1),_e("ngIf",i.number==1),Se(1),_e("ngIf",i.lineComponents))},dependencies:[vt,Dn,Ri,_p,ax],styles:['[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column;position:relative}@font-face{font-family:Beats;src:local("Beats"),url("./media/Beats-JVHCVOT7.woff2") format("woff2")}.beat-number[_ngcontent-%COMP%]{font-family:Beats;font-size:4vw}app-note[_ngcontent-%COMP%]{position:absolute;width:24px}[_nghost-%COMP%]:hover, .active[_nghost-%COMP%]{background:rgb(255,255,155);color:#000}']});let t=e;return t})();function S1(t,e){if(t&1){let n=zt();Le(0,"app-rythm-bar-beat-division",1),Je("addEvent",function(o){ft(n);let i=le();return pt(i.addEvent.emit(o))})("removeEvent",function(o){ft(n);let i=le();return pt(i.removeEvent.emit(o))}),je()}if(t&2){let n=e.$implicit,r=le();_e("barNumber",r.barNumber)("beatNumber",r.number)("number",n)("events",r.events)("timecode",r.timecode)}}var ux=(()=>{let e=class e{constructor(){this.number=1,this.barNumber=1,this.beatDivision=4,this.events=[],this.addEvent=new Ie,this.removeEvent=new Ie}get beatDivisionArray(){return this._beatDivisionArray||(this._beatDivisionArray=no(this.beatDivision,1)),this._beatDivisionArray}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=ze({type:e,selectors:[["app-rythm-bar-beat"]],inputs:{number:"number",barNumber:"barNumber",beatDivision:"beatDivision",events:"events",timecode:"timecode"},outputs:{addEvent:"addEvent",removeEvent:"removeEvent"},standalone:!0,features:[at],decls:1,vars:1,consts:[[3,"barNumber","beatNumber","number","events","timecode","addEvent","removeEvent",4,"ngFor","ngForOf"],[3,"barNumber","beatNumber","number","events","timecode","addEvent","removeEvent"]],template:function(o,i){o&1&&$e(0,S1,1,5,"app-rythm-bar-beat-division",0),o&2&&_e("ngForOf",i.beatDivisionArray)},dependencies:[vt,Dn,cx],styles:["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:row}"]});let t=e;return t})();function T1(t,e){if(t&1){let n=zt();Le(0,"app-rythm-bar-beat",1),Je("addEvent",function(o){ft(n);let i=le();return pt(i.addEvent.emit(o))})("removeEvent",function(o){ft(n);let i=le();return pt(i.removeEvent.emit(o))}),je()}if(t&2){let n=e.$implicit,r=le();_e("number",n)("barNumber",r.number)("beatDivision",r.beatDivision)("events",r.events)("timecode",r.timecode)}}var lx=(()=>{let e=class e{constructor(){this.number=1,this.beats=4,this.beatDivision=4,this.events=[],this.addEvent=new Ie,this.removeEvent=new Ie}get beatsArray(){return this._beatsArray||(this._beatsArray=no(this.beats,1)),this._beatsArray}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=ze({type:e,selectors:[["app-rythm-bar"]],inputs:{number:"number",beats:"beats",beatDivision:"beatDivision",events:"events",timecode:"timecode"},outputs:{addEvent:"addEvent",removeEvent:"removeEvent"},standalone:!0,features:[at],decls:1,vars:1,consts:[[3,"number","barNumber","beatDivision","events","timecode","addEvent","removeEvent",4,"ngFor","ngForOf"],[3,"number","barNumber","beatDivision","events","timecode","addEvent","removeEvent"]],template:function(o,i){o&1&&$e(0,T1,1,5,"app-rythm-bar-beat",0),o&2&&_e("ngForOf",i.beatsArray)},dependencies:[vt,Dn,ux],styles:["[_nghost-%COMP%]{display:flex}"]});let t=e;return t})();var Po=[{bar:1,beat:1,division:1,note:"kick"},{bar:1,beat:2,division:1,note:"snare"},{bar:1,beat:2,division:4,note:"kick"},{bar:1,beat:3,division:2,note:"kick"},{bar:1,beat:3,division:3,note:"kick"},{bar:1,beat:4,division:1,note:"snare"},{bar:2,beat:1,division:1,note:"kick"},{bar:2,beat:2,division:1,note:"snare"},{bar:2,beat:2,division:4,note:"kick"},{bar:2,beat:3,division:3,note:"kick"},{bar:2,beat:4,division:1,note:"snare"},{bar:3,beat:1,division:1,note:"kick"},{bar:3,beat:2,division:1,note:"snare"},{bar:3,beat:3,division:3,note:"kick"},{bar:3,beat:4,division:1,note:"snare"},{bar:4,beat:1,division:1,note:"kick"},{bar:4,beat:2,division:1,note:"snare"},{bar:4,beat:3,division:3,note:"kick"},{bar:4,beat:4,division:1,note:"snare"},{bar:3,beat:2,division:4,note:"kick"},{bar:1,beat:4,division:4,note:"kick"},{bar:2,beat:1,division:3,note:"kick"},{bar:2,beat:3,division:2,note:"kick"},{bar:4,beat:2,division:4,note:"kick"},{bar:4,beat:1,division:3,note:"kick"},{bar:5,beat:1,division:1,note:"kick"},{bar:5,beat:2,division:1,note:"snare"},{bar:5,beat:4,division:1,note:"snare"},{bar:6,beat:2,division:1,note:"snare"},{bar:6,beat:4,division:1,note:"snare"},{bar:7,beat:2,division:1,note:"snare"},{bar:7,beat:4,division:1,note:"snare"},{bar:8,beat:2,division:1,note:"snare"},{bar:8,beat:4,division:1,note:"snare"},{bar:8,beat:4,division:2,note:"snare"},{bar:8,beat:4,division:3,note:"snare"},{bar:8,beat:4,division:4,note:"snare"},{bar:6,beat:1,division:1,note:"kick"},{bar:6,beat:1,division:3,note:"kick"},{bar:7,beat:1,division:1,note:"kick"},{bar:8,beat:1,division:1,note:"kick"},{bar:8,beat:1,division:3,note:"kick"},{bar:5,beat:3,division:3,note:"kick"},{bar:6,beat:3,division:3,note:"kick"},{bar:7,beat:3,division:3,note:"kick"},{bar:8,beat:3,division:3,note:"snare"}];var I1=["*"],dx=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=ze({type:e,selectors:[["app-pattern"]],standalone:!0,features:[at],ngContentSelectors:I1,decls:1,vars:0,template:function(o,i){o&1&&(Ny(),Oy(0))},styles:["[_nghost-%COMP%]{display:block;flex:0 1cm}"]});let t=e;return t})();function A1(t,e){if(t&1){let n=zt();Le(0,"app-pattern",2),Je("click",function(){let i=ft(n).$implicit,s=le(2);return pt(s.onClickPatternInStructure(i))}),kt(1),je()}if(t&2){let n=e.$implicit,r=le(2);hr("active",n==r.currentPatternInStructure),Se(1),rf(n.initial)}}function M1(t,e){if(t&1&&(Dt(0),$e(1,A1,2,3,"app-pattern",1),St()),t&2){let n=le();Se(1),_e("ngForOf",n.structure.patternsInStructure)}}var hx=(()=>{let e=class e{constructor(){this.clickPatternInStructure=new Ie}onClickPatternInStructure(r){this.clickPatternInStructure.emit(r)}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=ze({type:e,selectors:[["app-structure"]],inputs:{structure:"structure",currentPatternInStructure:"currentPatternInStructure"},outputs:{clickPatternInStructure:"clickPatternInStructure"},standalone:!0,features:[at],decls:1,vars:1,consts:[[4,"ngIf"],[3,"active","click",4,"ngFor","ngForOf"],[3,"click"]],template:function(o,i){o&1&&$e(0,M1,2,1,"ng-container",0),o&2&&_e("ngIf",i.structure)},dependencies:[dx,vt,Dn,Ri],styles:["[_nghost-%COMP%]{display:flex;flex-wrap:wrap}app-pattern.active[_ngcontent-%COMP%]{color:#fff}"]});let t=e;return t})();var Ea="14.7.77";var Zt=vm(bp());var Ex=()=>new DOMException("","AbortError");var Ix=t=>(e,n,[r,o,i],s)=>{t(e[o],[n,r,i],a=>a[0]===n&&a[1]===r,s)};var Ax=t=>(e,n,r)=>{let o=[];for(let i=0;i<r.numberOfInputs;i+=1)o.push(new Set);t.set(e,{activeInputs:o,outputs:new Set,passiveInputs:new WeakMap,renderer:n})};var Mx=t=>(e,n)=>{t.set(e,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:n})};var mr=new WeakSet,Zu=new WeakMap,zi=new WeakMap,Yu=new WeakMap,La=new WeakMap,Zi=new WeakMap,Qu=new WeakMap,ja=new WeakMap,Ba=new WeakMap,Ua=new WeakMap;var Nx={construct(){return Nx}},Ox=t=>{try{let e=new Proxy(t,Nx);new e}catch{return!1}return!0};var kx=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,Cp=(t,e)=>{let n=[],r=t.replace(/^[\s]+/,""),o=r.match(kx);for(;o!==null;){let i=o[1].slice(1,-1),s=o[0].replace(/([\s]+)?;?$/,"").replace(i,new URL(i,e).toString());n.push(s),r=r.slice(o[0].length).replace(/^[\s]+/,""),o=r.match(kx)}return[n.join(";"),r]};var Rx=t=>{if(t!==void 0&&!Array.isArray(t))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},Fx=t=>{if(!Ox(t))throw new TypeError("The given value for processorCtor should be a constructor.");if(t.prototype===null||typeof t.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},Px=(t,e,n,r,o,i,s,a,c,u,l,d,h)=>{let f=0;return(p,g,m={credentials:"omit"})=>{let v=l.get(p);if(v!==void 0&&v.has(g))return Promise.resolve();let D=u.get(p);if(D!==void 0){let C=D.get(g);if(C!==void 0)return C}let I=i(p),M=I.audioWorklet===void 0?o(g).then(([C,b])=>{let[x,_]=Cp(C,b),R=`${x};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${_}
})})(window,'_AWGS')`;return n(R)}).then(()=>{let C=h._AWGS.pop();if(C===void 0)throw new SyntaxError;r(I.currentTime,I.sampleRate,()=>C(class{},void 0,(b,x)=>{if(b.trim()==="")throw e();let _=Ba.get(I);if(_!==void 0){if(_.has(b))throw e();Fx(x),Rx(x.parameterDescriptors),_.set(b,x)}else Fx(x),Rx(x.parameterDescriptors),Ba.set(I,new Map([[b,x]]))},I.sampleRate,void 0,void 0))}):Promise.all([o(g),Promise.resolve(t(d,d))]).then(([[C,b],x])=>{let _=f+1;f=_;let[R,H]=Cp(C,b),E=`${R};((AudioWorkletProcessor,registerProcessor)=>{${H}
})(${x?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${x?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${x?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${_}',class extends AudioWorkletProcessor{process(){return !1}})`,S=new Blob([E],{type:"application/javascript; charset=utf-8"}),A=URL.createObjectURL(S);return I.audioWorklet.addModule(A,m).then(()=>{if(a(I))return I;let T=s(I);return T.audioWorklet.addModule(A,m).then(()=>T)}).then(T=>{if(c===null)throw new SyntaxError;try{new c(T,`__sac${_}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(A))});return D===void 0?u.set(p,new Map([[g,M]])):D.set(g,M),M.then(()=>{let C=l.get(p);C===void 0?l.set(p,new Set([g])):C.add(g)}).finally(()=>{let C=u.get(p);C!==void 0&&C.delete(g)}),M}};var ct=(t,e)=>{let n=t.get(e);if(n===void 0)throw new Error("A value with the given key could not be found.");return n};var ro=(t,e)=>{let n=Array.from(t).filter(e);if(n.length>1)throw Error("More than one element was found.");if(n.length===0)throw Error("No element was found.");let[r]=n;return t.delete(r),r};var Xu=(t,e,n,r)=>{let o=ct(t,e),i=ro(o,s=>s[0]===n&&s[1]===r);return o.size===0&&t.delete(e),i};var gr=t=>ct(Qu,t);var Wn=t=>{if(mr.has(t))throw new Error("The AudioNode is already stored.");mr.add(t),gr(t).forEach(e=>e(!0))};var Ku=t=>"port"in t;var vr=t=>{if(!mr.has(t))throw new Error("The AudioNode is not stored.");mr.delete(t),gr(t).forEach(e=>e(!1))};var qa=(t,e)=>{!Ku(t)&&e.every(n=>n.size===0)&&vr(t)};var Vx=(t,e,n,r,o,i,s,a,c,u,l,d,h)=>{let f=new WeakMap;return(p,g,m,v,D)=>{let{activeInputs:I,passiveInputs:M}=i(g),{outputs:C}=i(p),b=a(p),x=_=>{let R=c(g),H=c(p);if(_){let k=Xu(M,p,m,v);t(I,p,k,!1),!D&&!d(p)&&n(H,R,m,v),h(g)&&Wn(g)}else{let k=r(I,p,m,v);e(M,v,k,!1),!D&&!d(p)&&o(H,R,m,v);let N=s(g);if(N===0)l(g)&&qa(g,I);else{let W=f.get(g);W!==void 0&&clearTimeout(W),f.set(g,setTimeout(()=>{l(g)&&qa(g,I)},N*1e3))}}};return u(C,[g,m,v],_=>_[0]===g&&_[1]===m&&_[2]===v,!0)?(b.add(x),l(p)?t(I,p,[m,v,x],!0):e(M,v,[p,m,x],!0),!0):!1}};var Lx=t=>(e,n,[r,o,i],s)=>{let a=e.get(r);a===void 0?e.set(r,new Set([[o,n,i]])):t(a,[o,n,i],c=>c[0]===o&&c[1]===n,s)};var jx=t=>(e,n)=>{let r=t(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});n.connect(r).connect(e.destination);let o=()=>{n.removeEventListener("ended",o),n.disconnect(r),r.disconnect()};n.addEventListener("ended",o)};var Bx=t=>(e,n)=>{t(e).add(n)};var Z1={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},Ux=(t,e,n,r,o,i)=>class extends t{constructor(a,c){let u=o(a),l=w(w({},Z1),c),d=r(u,l),h=i(u)?e():null;super(a,!1,d,h),this._nativeAnalyserNode=d}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(a){this._nativeAnalyserNode.fftSize=a}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(a){let c=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=a,!(a>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=c,n()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(a){let c=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=a,!(this._nativeAnalyserNode.maxDecibels>a))throw this._nativeAnalyserNode.minDecibels=c,n()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(a){this._nativeAnalyserNode.smoothingTimeConstant=a}getByteFrequencyData(a){this._nativeAnalyserNode.getByteFrequencyData(a)}getByteTimeDomainData(a){this._nativeAnalyserNode.getByteTimeDomainData(a)}getFloatFrequencyData(a){this._nativeAnalyserNode.getFloatFrequencyData(a)}getFloatTimeDomainData(a){this._nativeAnalyserNode.getFloatTimeDomainData(a)}};var we=(t,e)=>t.context===e;var qx=(t,e,n)=>()=>{let r=new WeakMap,o=(i,s)=>z(void 0,null,function*(){let a=e(i);if(!we(a,s)){let u={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,fftSize:a.fftSize,maxDecibels:a.maxDecibels,minDecibels:a.minDecibels,smoothingTimeConstant:a.smoothingTimeConstant};a=t(s,u)}return r.set(s,a),yield n(i,s,a),a});return{render(i,s){let a=r.get(s);return a!==void 0?Promise.resolve(a):o(i,s)}}};var Yi=t=>{try{t.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0};var Tn=()=>new DOMException("","IndexSizeError");var Qi=t=>{t.getChannelData=(e=>n=>{try{return e.call(t,n)}catch(r){throw r.code===12?Tn():r}})(t.getChannelData)};var Y1={numberOfChannels:1},$x=(t,e,n,r,o,i,s,a)=>{let c=null;return class Hx{constructor(l){if(o===null)throw new Error("Missing the native OfflineAudioContext constructor.");let{length:d,numberOfChannels:h,sampleRate:f}=w(w({},Y1),l);c===null&&(c=new o(1,1,44100));let p=r!==null&&e(i,i)?new r({length:d,numberOfChannels:h,sampleRate:f}):c.createBuffer(h,d,f);if(p.numberOfChannels===0)throw n();return typeof p.copyFromChannel!="function"?(s(p),Qi(p)):e(Yi,()=>Yi(p))||a(p),t.add(p),p}static[Symbol.hasInstance](l){return l!==null&&typeof l=="object"&&Object.getPrototypeOf(l)===Hx.prototype||t.has(l)}}};var et=-34028234663852886e22,Ze=-et;var jt=t=>mr.has(t);var Q1={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},Wx=(t,e,n,r,o,i,s,a)=>class extends t{constructor(u,l){let d=i(u),h=w(w({},Q1),l),f=o(d,h),p=s(d),g=p?e():null;super(u,!1,f,g),this._audioBufferSourceNodeRenderer=g,this._isBufferNullified=!1,this._isBufferSet=h.buffer!==null,this._nativeAudioBufferSourceNode=f,this._onended=null,this._playbackRate=n(this,p,f.playbackRate,Ze,et)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(u){if(this._nativeAudioBufferSourceNode.buffer=u,u!==null){if(this._isBufferSet)throw r();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(u){this._nativeAudioBufferSourceNode.loop=u}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(u){this._nativeAudioBufferSourceNode.loopEnd=u}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(u){this._nativeAudioBufferSourceNode.loopStart=u}get onended(){return this._onended}set onended(u){let l=typeof u=="function"?a(this,u):null;this._nativeAudioBufferSourceNode.onended=l;let d=this._nativeAudioBufferSourceNode.onended;this._onended=d!==null&&d===l?u:d}get playbackRate(){return this._playbackRate}start(u=0,l=0,d){if(this._nativeAudioBufferSourceNode.start(u,l,d),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=d===void 0?[u,l]:[u,l,d]),this.context.state!=="closed"){Wn(this);let h=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",h),jt(this)&&vr(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",h)}}stop(u=0){this._nativeAudioBufferSourceNode.stop(u),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=u)}};var Gx=(t,e,n,r,o)=>()=>{let i=new WeakMap,s=null,a=null,c=(u,l)=>z(void 0,null,function*(){let d=n(u),h=we(d,l);if(!h){let f={buffer:d.buffer,channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,loop:d.loop,loopEnd:d.loopEnd,loopStart:d.loopStart,playbackRate:d.playbackRate.value};d=e(l,f),s!==null&&d.start(...s),a!==null&&d.stop(a)}return i.set(l,d),h?yield t(l,u.playbackRate,d.playbackRate):yield r(l,u.playbackRate,d.playbackRate),yield o(u,l,d),d});return{set start(u){s=u},set stop(u){a=u},render(u,l){let d=i.get(l);return d!==void 0?Promise.resolve(d):c(u,l)}}};var zx=t=>"playbackRate"in t;var Zx=t=>"frequency"in t&&"gain"in t;var Yx=t=>"offset"in t;var Qx=t=>!("frequency"in t)&&"gain"in t;var Xx=t=>"detune"in t&&"frequency"in t;var Kx=t=>"pan"in t;var mt=t=>ct(Zu,t);var oo=t=>ct(Yu,t);var Ju=(t,e)=>{let{activeInputs:n}=mt(t);n.forEach(o=>o.forEach(([i])=>{e.includes(t)||Ju(i,[...e,t])}));let r=zx(t)?[t.playbackRate]:Ku(t)?Array.from(t.parameters.values()):Zx(t)?[t.Q,t.detune,t.frequency,t.gain]:Yx(t)?[t.offset]:Qx(t)?[t.gain]:Xx(t)?[t.detune,t.frequency]:Kx(t)?[t.pan]:[];for(let o of r){let i=oo(o);i!==void 0&&i.activeInputs.forEach(([s])=>Ju(s,e))}jt(t)&&vr(t)};var io=t=>{Ju(t.destination,[])};var el=t=>t===void 0||typeof t=="number"||typeof t=="string"&&(t==="balanced"||t==="interactive"||t==="playback");var Jx=(t,e,n,r,o,i,s,a,c)=>class extends t{constructor(l={}){if(c===null)throw new Error("Missing the native AudioContext constructor.");let d;try{d=new c(l)}catch(p){throw p.code===12&&p.message==="sampleRate is not in range"?n():p}if(d===null)throw r();if(!el(l.latencyHint))throw new TypeError(`The provided value '${l.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(l.sampleRate!==void 0&&d.sampleRate!==l.sampleRate)throw n();super(d,2);let{latencyHint:h}=l,{sampleRate:f}=d;if(this._baseLatency=typeof d.baseLatency=="number"?d.baseLatency:h==="balanced"?512/f:h==="interactive"||h===void 0?256/f:h==="playback"?1024/f:Math.max(2,Math.min(128,Math.round(h*f/128)))*128/f,this._nativeAudioContext=d,c.name==="webkitAudioContext"?(this._nativeGainNode=d.createGain(),this._nativeOscillatorNode=d.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(d.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,d.state==="running"){this._state="suspended";let p=()=>{this._state==="suspended"&&(this._state=null),d.removeEventListener("statechange",p)};d.addEventListener("statechange",p)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw e()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),io(this)}))}createMediaElementSource(l){return new o(this,{mediaElement:l})}createMediaStreamDestination(){return new i(this)}createMediaStreamSource(l){return new s(this,{mediaStream:l})}createMediaStreamTrackSource(l){return new a(this,{mediaStreamTrack:l})}resume(){return this._state==="suspended"?new Promise((l,d)=>{let h=()=>{this._nativeAudioContext.removeEventListener("statechange",h),this._nativeAudioContext.state==="running"?l():this.resume().then(l,d)};this._nativeAudioContext.addEventListener("statechange",h)}):this._nativeAudioContext.resume().catch(l=>{throw l===void 0||l.code===15?e():l})}suspend(){return this._nativeAudioContext.suspend().catch(l=>{throw l===void 0?e():l})}};var ew=(t,e,n,r,o,i,s,a)=>class extends t{constructor(u,l){let d=i(u),h=s(d),f=o(d,l,h),p=h?e(a):null;super(u,!1,f,p),this._isNodeOfNativeOfflineAudioContext=h,this._nativeAudioDestinationNode=f}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(u){if(this._isNodeOfNativeOfflineAudioContext)throw r();if(u>this._nativeAudioDestinationNode.maxChannelCount)throw n();this._nativeAudioDestinationNode.channelCount=u}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(u){if(this._isNodeOfNativeOfflineAudioContext)throw r();this._nativeAudioDestinationNode.channelCountMode=u}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}};var tw=t=>{let e=new WeakMap,n=(r,o)=>z(void 0,null,function*(){let i=o.destination;return e.set(o,i),yield t(r,o,i),i});return{render(r,o){let i=e.get(o);return i!==void 0?Promise.resolve(i):n(r,o)}}};var nw=(t,e,n,r,o,i,s,a)=>(c,u)=>{let l=u.listener,d=()=>{let C=new Float32Array(1),b=e(u,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),x=s(u),_=!1,R=[0,0,-1,0,1,0],H=[0,0,0],k=()=>{if(_)return;_=!0;let S=r(u,256,9,0);S.onaudioprocess=({inputBuffer:A})=>{let T=[i(A,C,0),i(A,C,1),i(A,C,2),i(A,C,3),i(A,C,4),i(A,C,5)];T.some((O,U)=>O!==R[U])&&(l.setOrientation(...T),R=T);let L=[i(A,C,6),i(A,C,7),i(A,C,8)];L.some((O,U)=>O!==H[U])&&(l.setPosition(...L),H=L)},b.connect(S)},N=S=>A=>{A!==R[S]&&(R[S]=A,l.setOrientation(...R))},W=S=>A=>{A!==H[S]&&(H[S]=A,l.setPosition(...H))},E=(S,A,T)=>{let L=n(u,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:A});L.connect(b,0,S),L.start(),Object.defineProperty(L.offset,"defaultValue",{get(){return A}});let O=t({context:c},x,L.offset,Ze,et);return a(O,"value",U=>()=>U.call(O),U=>P=>{try{U.call(O,P)}catch(Ce){if(Ce.code!==9)throw Ce}k(),x&&T(P)}),O.cancelAndHoldAtTime=(U=>x?()=>{throw o()}:(...P)=>{let Ce=U.apply(O,P);return k(),Ce})(O.cancelAndHoldAtTime),O.cancelScheduledValues=(U=>x?()=>{throw o()}:(...P)=>{let Ce=U.apply(O,P);return k(),Ce})(O.cancelScheduledValues),O.exponentialRampToValueAtTime=(U=>x?()=>{throw o()}:(...P)=>{let Ce=U.apply(O,P);return k(),Ce})(O.exponentialRampToValueAtTime),O.linearRampToValueAtTime=(U=>x?()=>{throw o()}:(...P)=>{let Ce=U.apply(O,P);return k(),Ce})(O.linearRampToValueAtTime),O.setTargetAtTime=(U=>x?()=>{throw o()}:(...P)=>{let Ce=U.apply(O,P);return k(),Ce})(O.setTargetAtTime),O.setValueAtTime=(U=>x?()=>{throw o()}:(...P)=>{let Ce=U.apply(O,P);return k(),Ce})(O.setValueAtTime),O.setValueCurveAtTime=(U=>x?()=>{throw o()}:(...P)=>{let Ce=U.apply(O,P);return k(),Ce})(O.setValueCurveAtTime),O};return{forwardX:E(0,0,N(0)),forwardY:E(1,0,N(1)),forwardZ:E(2,-1,N(2)),positionX:E(6,0,W(0)),positionY:E(7,0,W(1)),positionZ:E(8,0,W(2)),upX:E(3,0,N(3)),upY:E(4,1,N(4)),upZ:E(5,0,N(5))}},{forwardX:h,forwardY:f,forwardZ:p,positionX:g,positionY:m,positionZ:v,upX:D,upY:I,upZ:M}=l.forwardX===void 0?d():l;return{get forwardX(){return h},get forwardY(){return f},get forwardZ(){return p},get positionX(){return g},get positionY(){return m},get positionZ(){return v},get upX(){return D},get upY(){return I},get upZ(){return M}}};var Vo=t=>"context"in t;var so=t=>Vo(t[0]);var Gn=(t,e,n,r)=>{for(let o of t)if(n(o)){if(r)return!1;throw Error("The set contains at least one similar element.")}return t.add(e),!0};var Dp=(t,e,[n,r],o)=>{Gn(t,[e,n,r],i=>i[0]===e&&i[1]===n,o)};var Sp=(t,[e,n,r],o)=>{let i=t.get(e);i===void 0?t.set(e,new Set([[n,r]])):Gn(i,[n,r],s=>s[0]===n,o)};var En=t=>"inputs"in t;var Xi=(t,e,n,r)=>{if(En(e)){let o=e.inputs[r];return t.connect(o,n,0),[o,n,0]}return t.connect(e,n,r),[e,n,r]};var Tp=(t,e,n)=>{for(let r of t)if(r[0]===e&&r[1]===n)return t.delete(r),r;return null};var rw=(t,e,n)=>ro(t,r=>r[0]===e&&r[1]===n);var Ep=(t,e)=>{if(!gr(t).delete(e))throw new Error("Missing the expected event listener.")};var Ip=(t,e,n)=>{let r=ct(t,e),o=ro(r,i=>i[0]===n);return r.size===0&&t.delete(e),o};var Ki=(t,e,n,r)=>{En(e)?t.disconnect(e.inputs[r],n,0):t.disconnect(e,n,r)};var Ne=t=>ct(zi,t);var Lo=t=>ct(La,t);var Rr=t=>ja.has(t);var Ji=t=>!mr.has(t);var Ap=(t,e)=>new Promise(n=>{if(e!==null)n(!0);else{let r=t.createScriptProcessor(256,1,1),o=t.createGain(),i=t.createBuffer(1,2,44100),s=i.getChannelData(0);s[0]=1,s[1]=1;let a=t.createBufferSource();a.buffer=i,a.loop=!0,a.connect(r).connect(t.destination),a.connect(o),a.disconnect(o),r.onaudioprocess=c=>{let u=c.inputBuffer.getChannelData(0);Array.prototype.some.call(u,l=>l===1)?n(!0):n(!1),a.stop(),r.onaudioprocess=null,a.disconnect(r),r.disconnect(t.destination)},a.start()}});var tl=(t,e)=>{let n=new Map;for(let r of t)for(let o of r){let i=n.get(o);n.set(o,i===void 0?1:i+1)}n.forEach((r,o)=>e(o,r))};var jo=t=>"context"in t;var ow=t=>{let e=new Map;t.connect=(n=>(r,o=0,i=0)=>{let s=jo(r)?n(r,o,i):n(r,o),a=e.get(r);return a===void 0?e.set(r,[{input:i,output:o}]):a.every(c=>c.input!==i||c.output!==o)&&a.push({input:i,output:o}),s})(t.connect.bind(t)),t.disconnect=(n=>(r,o,i)=>{if(n.apply(t),r===void 0)e.clear();else if(typeof r=="number")for(let[s,a]of e){let c=a.filter(u=>u.output!==r);c.length===0?e.delete(s):e.set(s,c)}else if(e.has(r))if(o===void 0)e.delete(r);else{let s=e.get(r);if(s!==void 0){let a=s.filter(c=>c.output!==o&&(c.input!==i||i===void 0));a.length===0?e.delete(r):e.set(r,a)}}for(let[s,a]of e)a.forEach(c=>{jo(s)?t.connect(s,c.output,c.input):t.connect(s,c.output)})})(t.disconnect)};var X1=(t,e,n,r)=>{let{activeInputs:o,passiveInputs:i}=oo(e),{outputs:s}=mt(t),a=gr(t),c=u=>{let l=Ne(t),d=Lo(e);if(u){let h=Ip(i,t,n);Dp(o,t,h,!1),!r&&!Rr(t)&&l.connect(d,n)}else{let h=rw(o,t,n);Sp(i,h,!1),!r&&!Rr(t)&&l.disconnect(d,n)}};return Gn(s,[e,n],u=>u[0]===e&&u[1]===n,!0)?(a.add(c),jt(t)?Dp(o,t,[n,c],!0):Sp(i,[t,n,c],!0),!0):!1},K1=(t,e,n,r)=>{let{activeInputs:o,passiveInputs:i}=mt(e),s=Tp(o[r],t,n);return s===null?[Xu(i,t,n,r)[2],!1]:[s[2],!0]},J1=(t,e,n)=>{let{activeInputs:r,passiveInputs:o}=oo(e),i=Tp(r,t,n);return i===null?[Ip(o,t,n)[1],!1]:[i[2],!0]},Mp=(t,e,n,r,o)=>{let[i,s]=K1(t,n,r,o);if(i!==null&&(Ep(t,i),s&&!e&&!Rr(t)&&Ki(Ne(t),Ne(n),r,o)),jt(n)){let{activeInputs:a}=mt(n);qa(n,a)}},Np=(t,e,n,r)=>{let[o,i]=J1(t,n,r);o!==null&&(Ep(t,o),i&&!e&&!Rr(t)&&Ne(t).disconnect(Lo(n),r))},eO=(t,e)=>{let n=mt(t),r=[];for(let o of n.outputs)so(o)?Mp(t,e,...o):Np(t,e,...o),r.push(o[0]);return n.outputs.clear(),r},tO=(t,e,n)=>{let r=mt(t),o=[];for(let i of r.outputs)i[1]===n&&(so(i)?Mp(t,e,...i):Np(t,e,...i),o.push(i[0]),r.outputs.delete(i));return o},nO=(t,e,n,r,o)=>{let i=mt(t);return Array.from(i.outputs).filter(s=>s[0]===n&&(r===void 0||s[1]===r)&&(o===void 0||s[2]===o)).map(s=>(so(s)?Mp(t,e,...s):Np(t,e,...s),i.outputs.delete(s),s[0]))},iw=(t,e,n,r,o,i,s,a,c,u,l,d,h,f,p,g)=>class extends u{constructor(v,D,I,M){super(I),this._context=v,this._nativeAudioNode=I;let C=l(v);d(C)&&n(Ap,()=>Ap(C,g))!==!0&&ow(I),zi.set(this,I),Qu.set(this,new Set),v.state!=="closed"&&D&&Wn(this),t(this,M,I)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(v){this._nativeAudioNode.channelCount=v}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(v){this._nativeAudioNode.channelCountMode=v}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(v){this._nativeAudioNode.channelInterpretation=v}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(v,D=0,I=0){if(D<0||D>=this._nativeAudioNode.numberOfOutputs)throw o();let M=l(this._context),C=p(M);if(h(v)||f(v))throw i();if(Vo(v)){let _=Ne(v);try{let H=Xi(this._nativeAudioNode,_,D,I),k=Ji(this);(C||k)&&this._nativeAudioNode.disconnect(...H),this.context.state!=="closed"&&!k&&Ji(v)&&Wn(v)}catch(H){throw H.code===12?i():H}if(e(this,v,D,I,C)){let H=c([this],v);tl(H,r(C))}return v}let b=Lo(v);if(b.name==="playbackRate"&&b.maxValue===1024)throw s();try{this._nativeAudioNode.connect(b,D),(C||Ji(this))&&this._nativeAudioNode.disconnect(b,D)}catch(_){throw _.code===12?i():_}if(X1(this,v,D,C)){let _=c([this],v);tl(_,r(C))}}disconnect(v,D,I){let M,C=l(this._context),b=p(C);if(v===void 0)M=eO(this,b);else if(typeof v=="number"){if(v<0||v>=this.numberOfOutputs)throw o();M=tO(this,b,v)}else{if(D!==void 0&&(D<0||D>=this.numberOfOutputs)||Vo(v)&&I!==void 0&&(I<0||I>=v.numberOfInputs))throw o();if(M=nO(this,b,v,D,I),M.length===0)throw i()}for(let x of M){let _=c([this],x);tl(_,a)}}};var sw=vm(bp()),aw=(t,e,n,r,o,i,s,a,c,u,l,d,h)=>(f,p,g,m=null,v=null)=>{let D=g.value,I=new sw.AutomationEventList(D),M=p?r(I):null,C={get defaultValue(){return D},get maxValue(){return m===null?g.maxValue:m},get minValue(){return v===null?g.minValue:v},get value(){return g.value},set value(b){g.value=b,C.setValueAtTime(b,f.context.currentTime)},cancelAndHoldAtTime(b){if(typeof g.cancelAndHoldAtTime=="function")M===null&&I.flush(f.context.currentTime),I.add(o(b)),g.cancelAndHoldAtTime(b);else{let x=Array.from(I).pop();M===null&&I.flush(f.context.currentTime),I.add(o(b));let _=Array.from(I).pop();g.cancelScheduledValues(b),x!==_&&_!==void 0&&(_.type==="exponentialRampToValue"?g.exponentialRampToValueAtTime(_.value,_.endTime):_.type==="linearRampToValue"?g.linearRampToValueAtTime(_.value,_.endTime):_.type==="setValue"?g.setValueAtTime(_.value,_.startTime):_.type==="setValueCurve"&&g.setValueCurveAtTime(_.values,_.startTime,_.duration))}return C},cancelScheduledValues(b){return M===null&&I.flush(f.context.currentTime),I.add(i(b)),g.cancelScheduledValues(b),C},exponentialRampToValueAtTime(b,x){if(b===0)throw new RangeError;if(!Number.isFinite(x)||x<0)throw new RangeError;let _=f.context.currentTime;return M===null&&I.flush(_),Array.from(I).length===0&&(I.add(u(D,_)),g.setValueAtTime(D,_)),I.add(s(b,x)),g.exponentialRampToValueAtTime(b,x),C},linearRampToValueAtTime(b,x){let _=f.context.currentTime;return M===null&&I.flush(_),Array.from(I).length===0&&(I.add(u(D,_)),g.setValueAtTime(D,_)),I.add(a(b,x)),g.linearRampToValueAtTime(b,x),C},setTargetAtTime(b,x,_){return M===null&&I.flush(f.context.currentTime),I.add(c(b,x,_)),g.setTargetAtTime(b,x,_),C},setValueAtTime(b,x){return M===null&&I.flush(f.context.currentTime),I.add(u(b,x)),g.setValueAtTime(b,x),C},setValueCurveAtTime(b,x,_){let R=b instanceof Float32Array?b:new Float32Array(b);if(d!==null&&d.name==="webkitAudioContext"){let H=x+_,k=f.context.sampleRate,N=Math.ceil(x*k),W=Math.floor(H*k),E=W-N,S=new Float32Array(E);for(let T=0;T<E;T+=1){let L=(R.length-1)/_*((N+T)/k-x),O=Math.floor(L),U=Math.ceil(L);S[T]=O===U?R[O]:(1-(L-O))*R[O]+(1-(U-L))*R[U]}M===null&&I.flush(f.context.currentTime),I.add(l(S,x,_)),g.setValueCurveAtTime(S,x,_);let A=W/k;A<H&&h(C,S[S.length-1],A),h(C,R[R.length-1],H)}else M===null&&I.flush(f.context.currentTime),I.add(l(R,x,_)),g.setValueCurveAtTime(R,x,_);return C}};return n.set(C,g),e.set(C,f),t(C,M),C};var cw=t=>({replay(e){for(let n of t)if(n.type==="exponentialRampToValue"){let{endTime:r,value:o}=n;e.exponentialRampToValueAtTime(o,r)}else if(n.type==="linearRampToValue"){let{endTime:r,value:o}=n;e.linearRampToValueAtTime(o,r)}else if(n.type==="setTarget"){let{startTime:r,target:o,timeConstant:i}=n;e.setTargetAtTime(o,r,i)}else if(n.type==="setValue"){let{startTime:r,value:o}=n;e.setValueAtTime(o,r)}else if(n.type==="setValueCurve"){let{duration:r,startTime:o,values:i}=n;e.setValueCurveAtTime(i,o,r)}else throw new Error("Can't apply an unknown automation.")}});var es=class{constructor(e){this._map=new Map(e)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(e,n=null){return this._map.forEach((r,o)=>e.call(n,r,o,this))}get(e){return this._map.get(e)}has(e){return this._map.has(e)}keys(){return this._map.keys()}values(){return this._map.values()}};var rO={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},uw=(t,e,n,r,o,i,s,a,c,u,l,d,h,f)=>class extends e{constructor(g,m,v){var D;let I=a(g),M=c(I),C=l(w(w({},rO),v));h(C);let b=Ba.get(I),x=b?.get(m),_=M||I.state!=="closed"?I:(D=s(I))!==null&&D!==void 0?D:I,R=o(_,M?null:g.baseLatency,u,m,x,C),H=M?r(m,C,x):null;super(g,!0,R,H);let k=[];R.parameters.forEach((W,E)=>{let S=n(this,M,W);k.push([E,S])}),this._nativeAudioWorkletNode=R,this._onprocessorerror=null,this._parameters=new es(k),M&&t(I,this);let{activeInputs:N}=i(this);d(R,N)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(g){let m=typeof g=="function"?f(this,g):null;this._nativeAudioWorkletNode.onprocessorerror=m;let v=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=v!==null&&v===m?g:v}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function ts(t,e,n,r,o){if(typeof t.copyFromChannel=="function")e[n].byteLength===0&&(e[n]=new Float32Array(128)),t.copyFromChannel(e[n],r,o);else{let i=t.getChannelData(r);if(e[n].byteLength===0)e[n]=i.slice(o,o+128);else{let s=new Float32Array(i.buffer,o*Float32Array.BYTES_PER_ELEMENT,128);e[n].set(s)}}}var nl=(t,e,n,r,o)=>{typeof t.copyToChannel=="function"?e[n].byteLength!==0&&t.copyToChannel(e[n],r,o):e[n].byteLength!==0&&t.getChannelData(r).set(e[n],o)};var ns=(t,e)=>{let n=[];for(let r=0;r<t;r+=1){let o=[],i=typeof e=="number"?e:e[r];for(let s=0;s<i;s+=1)o.push(new Float32Array(128));n.push(o)}return n};var lw=(t,e)=>{let n=ct(Ua,t),r=Ne(e);return ct(n,r)};var oO=(t,e,n,r,o,i,s)=>z(void 0,null,function*(){let a=e===null?Math.ceil(t.context.length/128)*128:e.length,c=r.channelCount*r.numberOfInputs,u=o.reduce((m,v)=>m+v,0),l=u===0?null:n.createBuffer(u,a,n.sampleRate);if(i===void 0)throw new Error("Missing the processor constructor.");let d=mt(t),h=yield lw(n,t),f=ns(r.numberOfInputs,r.channelCount),p=ns(r.numberOfOutputs,o),g=Array.from(t.parameters.keys()).reduce((m,v)=>V(w({},m),{[v]:new Float32Array(128)}),{});for(let m=0;m<a;m+=128){if(r.numberOfInputs>0&&e!==null)for(let v=0;v<r.numberOfInputs;v+=1)for(let D=0;D<r.channelCount;D+=1)ts(e,f[v],D,D,m);i.parameterDescriptors!==void 0&&e!==null&&i.parameterDescriptors.forEach(({name:v},D)=>{ts(e,g,v,c+D,m)});for(let v=0;v<r.numberOfInputs;v+=1)for(let D=0;D<o[v];D+=1)p[v][D].byteLength===0&&(p[v][D]=new Float32Array(128));try{let v=f.map((I,M)=>d.activeInputs[M].size===0?[]:I),D=s(m/n.sampleRate,n.sampleRate,()=>h.process(v,p,g));if(l!==null)for(let I=0,M=0;I<r.numberOfOutputs;I+=1){for(let C=0;C<o[I];C+=1)nl(l,p[I],C,M+C,m);M+=o[I]}if(!D)break}catch(v){t.dispatchEvent(new ErrorEvent("processorerror",{colno:v.colno,filename:v.filename,lineno:v.lineno,message:v.message}));break}}return l}),dw=(t,e,n,r,o,i,s,a,c,u,l,d,h,f,p,g)=>(m,v,D)=>{let I=new WeakMap,M=null,C=(b,x)=>z(void 0,null,function*(){let _=l(b),R=null,H=we(_,x),k=Array.isArray(v.outputChannelCount)?v.outputChannelCount:Array.from(v.outputChannelCount);if(d===null){let N=k.reduce((A,T)=>A+T,0),W=o(x,{channelCount:Math.max(1,N),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,N)}),E=[];for(let A=0;A<b.numberOfOutputs;A+=1)E.push(r(x,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:k[A]}));let S=s(x,{channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation,gain:1});S.connect=e.bind(null,E),S.disconnect=c.bind(null,E),R=[W,E,S]}else H||(_=new d(x,m));if(I.set(x,R===null?_:R[2]),R!==null){if(M===null){if(D===void 0)throw new Error("Missing the processor constructor.");if(h===null)throw new Error("Missing the native OfflineAudioContext constructor.");let T=b.channelCount*b.numberOfInputs,L=D.parameterDescriptors===void 0?0:D.parameterDescriptors.length,O=T+L;M=oO(b,O===0?null:yield(()=>z(void 0,null,function*(){let P=new h(O,Math.ceil(b.context.length/128)*128,x.sampleRate),Ce=[],ke=[];for(let ye=0;ye<v.numberOfInputs;ye+=1)Ce.push(s(P,{channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation,gain:1})),ke.push(o(P,{channelCount:v.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:v.channelCount}));let gt=yield Promise.all(Array.from(b.parameters.values()).map(ye=>z(void 0,null,function*(){let ne=i(P,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:ye.value});return yield f(P,ye,ne.offset),ne}))),wt=r(P,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,T+L)});for(let ye=0;ye<v.numberOfInputs;ye+=1){Ce[ye].connect(ke[ye]);for(let ne=0;ne<v.channelCount;ne+=1)ke[ye].connect(wt,ne,ye*v.channelCount+ne)}for(let[ye,ne]of gt.entries())ne.connect(wt,0,T+ye),ne.start(0);return wt.connect(P.destination),yield Promise.all(Ce.map(ye=>p(b,P,ye))),g(P)}))(),x,v,k,D,u)}let N=yield M,W=n(x,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[E,S,A]=R;N!==null&&(W.buffer=N,W.start(0)),W.connect(E);for(let T=0,L=0;T<b.numberOfOutputs;T+=1){let O=S[T];for(let U=0;U<k[T];U+=1)E.connect(O,L+U,U);L+=k[T]}return A}if(H)for(let[N,W]of b.parameters.entries())yield t(x,W,_.parameters.get(N));else for(let[N,W]of b.parameters.entries())yield f(x,W,_.parameters.get(N));return yield p(b,x,_),_});return{render(b,x){a(x,b);let _=I.get(x);return _!==void 0?Promise.resolve(_):C(b,x)}}};var hw=(t,e,n,r,o,i,s,a,c,u,l,d,h,f,p,g,m,v,D,I)=>class extends p{constructor(C,b){super(C,b),this._nativeContext=C,this._audioWorklet=t===void 0?void 0:{addModule:(x,_)=>t(this,x,_)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new e(this)}createBiquadFilter(){return new o(this)}createBuffer(C,b,x){return new n({length:b,numberOfChannels:C,sampleRate:x})}createBufferSource(){return new r(this)}createChannelMerger(C=6){return new i(this,{numberOfInputs:C})}createChannelSplitter(C=6){return new s(this,{numberOfOutputs:C})}createConstantSource(){return new a(this)}createConvolver(){return new c(this)}createDelay(C=1){return new l(this,{maxDelayTime:C})}createDynamicsCompressor(){return new d(this)}createGain(){return new h(this)}createIIRFilter(C,b){return new f(this,{feedback:b,feedforward:C})}createOscillator(){return new g(this)}createPanner(){return new m(this)}createPeriodicWave(C,b,x={disableNormalization:!1}){return new v(this,V(w({},x),{imag:b,real:C}))}createStereoPanner(){return new D(this)}createWaveShaper(){return new I(this)}decodeAudioData(C,b,x){return u(this._nativeContext,C).then(_=>(typeof b=="function"&&b(_),_),_=>{throw typeof x=="function"&&x(_),_})}};var iO={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},fw=(t,e,n,r,o,i,s,a)=>class extends t{constructor(u,l){let d=i(u),h=w(w({},iO),l),f=o(d,h),p=s(d),g=p?n():null;super(u,!1,f,g),this._Q=e(this,p,f.Q,Ze,et),this._detune=e(this,p,f.detune,1200*Math.log2(Ze),-1200*Math.log2(Ze)),this._frequency=e(this,p,f.frequency,u.sampleRate/2,0),this._gain=e(this,p,f.gain,40*Math.log10(Ze),et),this._nativeBiquadFilterNode=f,a(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(u){this._nativeBiquadFilterNode.type=u}getFrequencyResponse(u,l,d){try{this._nativeBiquadFilterNode.getFrequencyResponse(u,l,d)}catch(h){throw h.code===11?r():h}if(u.length!==l.length||l.length!==d.length)throw r()}};var pw=(t,e,n,r,o)=>()=>{let i=new WeakMap,s=(a,c)=>z(void 0,null,function*(){let u=n(a),l=we(u,c);if(!l){let d={Q:u.Q.value,channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,detune:u.detune.value,frequency:u.frequency.value,gain:u.gain.value,type:u.type};u=e(c,d)}return i.set(c,u),l?(yield t(c,a.Q,u.Q),yield t(c,a.detune,u.detune),yield t(c,a.frequency,u.frequency),yield t(c,a.gain,u.gain)):(yield r(c,a.Q,u.Q),yield r(c,a.detune,u.detune),yield r(c,a.frequency,u.frequency),yield r(c,a.gain,u.gain)),yield o(a,c,u),u});return{render(a,c){let u=i.get(c);return u!==void 0?Promise.resolve(u):s(a,c)}}};var mw=(t,e)=>(n,r)=>{let o=e.get(n);if(o!==void 0)return o;let i=t.get(n);if(i!==void 0)return i;try{let s=r();return s instanceof Promise?(t.set(n,s),s.catch(()=>!1).then(a=>(t.delete(n),e.set(n,a),a))):(e.set(n,s),s)}catch{return e.set(n,!1),!1}};var sO={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},gw=(t,e,n,r,o)=>class extends t{constructor(s,a){let c=r(s),u=w(w({},sO),a),l=n(c,u),d=o(c)?e():null;super(s,!1,l,d)}};var vw=(t,e,n)=>()=>{let r=new WeakMap,o=(i,s)=>z(void 0,null,function*(){let a=e(i);if(!we(a,s)){let u={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfInputs:a.numberOfInputs};a=t(s,u)}return r.set(s,a),yield n(i,s,a),a});return{render(i,s){let a=r.get(s);return a!==void 0?Promise.resolve(a):o(i,s)}}};var aO={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},yw=(t,e,n,r,o,i)=>class extends t{constructor(a,c){let u=r(a),l=i(w(w({},aO),c)),d=n(u,l),h=o(u)?e():null;super(a,!1,d,h)}};var _w=(t,e,n)=>()=>{let r=new WeakMap,o=(i,s)=>z(void 0,null,function*(){let a=e(i);if(!we(a,s)){let u={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfOutputs:a.numberOfOutputs};a=t(s,u)}return r.set(s,a),yield n(i,s,a),a});return{render(i,s){let a=r.get(s);return a!==void 0?Promise.resolve(a):o(i,s)}}};var xw=t=>(e,n,r)=>t(n,e,r);var ww=t=>(e,n,r=0,o=0)=>{let i=e[r];if(i===void 0)throw t();return jo(n)?i.connect(n,0,o):i.connect(n,0)};var bw=t=>(e,n)=>{let r=t(e,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),o=e.createBuffer(1,2,44100);return r.buffer=o,r.loop=!0,r.connect(n),r.start(),()=>{r.stop(),r.disconnect(n)}};var cO={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},Cw=(t,e,n,r,o,i,s)=>class extends t{constructor(c,u){let l=o(c),d=w(w({},cO),u),h=r(l,d),f=i(l),p=f?n():null;super(c,!1,h,p),this._constantSourceNodeRenderer=p,this._nativeConstantSourceNode=h,this._offset=e(this,f,h.offset,Ze,et),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(c){let u=typeof c=="function"?s(this,c):null;this._nativeConstantSourceNode.onended=u;let l=this._nativeConstantSourceNode.onended;this._onended=l!==null&&l===u?c:l}start(c=0){if(this._nativeConstantSourceNode.start(c),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=c),this.context.state!=="closed"){Wn(this);let u=()=>{this._nativeConstantSourceNode.removeEventListener("ended",u),jt(this)&&vr(this)};this._nativeConstantSourceNode.addEventListener("ended",u)}}stop(c=0){this._nativeConstantSourceNode.stop(c),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=c)}};var Dw=(t,e,n,r,o)=>()=>{let i=new WeakMap,s=null,a=null,c=(u,l)=>z(void 0,null,function*(){let d=n(u),h=we(d,l);if(!h){let f={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,offset:d.offset.value};d=e(l,f),s!==null&&d.start(s),a!==null&&d.stop(a)}return i.set(l,d),h?yield t(l,u.offset,d.offset):yield r(l,u.offset,d.offset),yield o(u,l,d),d});return{set start(u){s=u},set stop(u){a=u},render(u,l){let d=i.get(l);return d!==void 0?Promise.resolve(d):c(u,l)}}};var Sw=t=>e=>(t[0]=e,t[0]);var uO={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},Tw=(t,e,n,r,o,i)=>class extends t{constructor(a,c){let u=r(a),l=w(w({},uO),c),d=n(u,l),f=o(u)?e():null;super(a,!1,d,f),this._isBufferNullified=!1,this._nativeConvolverNode=d,l.buffer!==null&&i(this,l.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(a){if(this._nativeConvolverNode.buffer=a,a===null&&this._nativeConvolverNode.buffer!==null){let c=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=c.createBuffer(1,1,c.sampleRate),this._isBufferNullified=!0,i(this,0)}else this._isBufferNullified=!1,i(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(a){this._nativeConvolverNode.normalize=a}};var Ew=(t,e,n)=>()=>{let r=new WeakMap,o=(i,s)=>z(void 0,null,function*(){let a=e(i);if(!we(a,s)){let u={buffer:a.buffer,channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,disableNormalization:!a.normalize};a=t(s,u)}return r.set(s,a),En(a)?yield n(i,s,a.inputs[0]):yield n(i,s,a),a});return{render(i,s){let a=r.get(s);return a!==void 0?Promise.resolve(a):o(i,s)}}};var Iw=(t,e)=>(n,r,o)=>{if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new e(n,r,o)}catch(i){throw i.name==="SyntaxError"?t():i}};var Aw=()=>new DOMException("","DataCloneError");var Op=t=>{let{port1:e,port2:n}=new MessageChannel;return new Promise(r=>{let o=()=>{n.onmessage=null,e.close(),n.close(),r()};n.onmessage=()=>o();try{e.postMessage(t,[t])}catch{}finally{o()}})};var Mw=(t,e,n,r,o,i,s,a,c,u,l)=>(d,h)=>{let f=s(d)?d:i(d);if(o.has(h)){let p=n();return Promise.reject(p)}try{o.add(h)}catch{}return e(c,()=>c(f))?f.decodeAudioData(h).then(p=>(Op(h).catch(()=>{}),e(a,()=>a(p))||l(p),t.add(p),p)):new Promise((p,g)=>{let m=()=>z(void 0,null,function*(){try{yield Op(h)}catch{}}),v=D=>{g(D),m()};try{f.decodeAudioData(h,D=>{typeof D.copyFromChannel!="function"&&(u(D),Qi(D)),t.add(D),m().then(()=>p(D))},D=>{v(D===null?r():D)})}catch(D){v(D)}})};var Nw=(t,e,n,r,o,i,s,a)=>(c,u)=>{let l=e.get(c);if(l===void 0)throw new Error("Missing the expected cycle count.");let d=i(c.context),h=a(d);if(l===u){if(e.delete(c),!h&&s(c)){let f=r(c),{outputs:p}=n(c);for(let g of p)if(so(g)){let m=r(g[0]);t(f,m,g[1],g[2])}else{let m=o(g[0]);f.connect(m,g[1])}}}else e.set(c,l-u)};var lO={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},Ow=(t,e,n,r,o,i,s)=>class extends t{constructor(c,u){let l=o(c),d=w(w({},lO),u),h=r(l,d),f=i(l),p=f?n(d.maxDelayTime):null;super(c,!1,h,p),this._delayTime=e(this,f,h.delayTime),s(this,d.maxDelayTime)}get delayTime(){return this._delayTime}};var kw=(t,e,n,r,o)=>i=>{let s=new WeakMap,a=(c,u)=>z(void 0,null,function*(){let l=n(c),d=we(l,u);if(!d){let h={channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,delayTime:l.delayTime.value,maxDelayTime:i};l=e(u,h)}return s.set(u,l),d?yield t(u,c.delayTime,l.delayTime):yield r(u,c.delayTime,l.delayTime),yield o(c,u,l),l});return{render(c,u){let l=s.get(u);return l!==void 0?Promise.resolve(l):a(c,u)}}};var Rw=t=>(e,n,r,o)=>t(e[o],i=>i[0]===n&&i[1]===r);var Fw=t=>(e,n)=>{t(e).delete(n)};var Pw=t=>"delayTime"in t;var Vw=(t,e,n)=>function r(o,i){let s=Vo(i)?i:n(t,i);if(Pw(s))return[];if(o[0]===s)return[o];if(o.includes(s))return[];let{outputs:a}=e(s);return Array.from(a).map(c=>r([...o,s],c[0])).reduce((c,u)=>c.concat(u),[])};var rl=(t,e,n)=>{let r=e[n];if(r===void 0)throw t();return r},Lw=t=>(e,n=void 0,r=void 0,o=0)=>n===void 0?e.forEach(i=>i.disconnect()):typeof n=="number"?rl(t,e,n).disconnect():jo(n)?r===void 0?e.forEach(i=>i.disconnect(n)):o===void 0?rl(t,e,r).disconnect(n,0):rl(t,e,r).disconnect(n,0,o):r===void 0?e.forEach(i=>i.disconnect(n)):rl(t,e,r).disconnect(n,0);var dO={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},jw=(t,e,n,r,o,i,s,a)=>class extends t{constructor(u,l){let d=i(u),h=w(w({},dO),l),f=r(d,h),p=s(d),g=p?n():null;super(u,!1,f,g),this._attack=e(this,p,f.attack),this._knee=e(this,p,f.knee),this._nativeDynamicsCompressorNode=f,this._ratio=e(this,p,f.ratio),this._release=e(this,p,f.release),this._threshold=e(this,p,f.threshold),a(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(u){let l=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=u,u>2)throw this._nativeDynamicsCompressorNode.channelCount=l,o()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(u){let l=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=u,u==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=l,o()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}};var Bw=(t,e,n,r,o)=>()=>{let i=new WeakMap,s=(a,c)=>z(void 0,null,function*(){let u=n(a),l=we(u,c);if(!l){let d={attack:u.attack.value,channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,knee:u.knee.value,ratio:u.ratio.value,release:u.release.value,threshold:u.threshold.value};u=e(c,d)}return i.set(c,u),l?(yield t(c,a.attack,u.attack),yield t(c,a.knee,u.knee),yield t(c,a.ratio,u.ratio),yield t(c,a.release,u.release),yield t(c,a.threshold,u.threshold)):(yield r(c,a.attack,u.attack),yield r(c,a.knee,u.knee),yield r(c,a.ratio,u.ratio),yield r(c,a.release,u.release),yield r(c,a.threshold,u.threshold)),yield o(a,c,u),u});return{render(a,c){let u=i.get(c);return u!==void 0?Promise.resolve(u):s(a,c)}}};var Uw=()=>new DOMException("","EncodingError");var qw=t=>e=>new Promise((n,r)=>{if(t===null){r(new SyntaxError);return}let o=t.document.head;if(o===null)r(new SyntaxError);else{let i=t.document.createElement("script"),s=new Blob([e],{type:"application/javascript"}),a=URL.createObjectURL(s),c=t.onerror,u=()=>{t.onerror=c,URL.revokeObjectURL(a)};t.onerror=(l,d,h,f,p)=>{if(d===a||d===t.location.href&&h===1&&f===1)return u(),r(p),!1;if(c!==null)return c(l,d,h,f,p)},i.onerror=()=>{u(),r(new SyntaxError)},i.onload=()=>{u(),n()},i.src=a,i.type="module",o.appendChild(i)}});var $w=t=>class{constructor(n){this._nativeEventTarget=n,this._listeners=new WeakMap}addEventListener(n,r,o){if(r!==null){let i=this._listeners.get(r);i===void 0&&(i=t(this,r),typeof r=="function"&&this._listeners.set(r,i)),this._nativeEventTarget.addEventListener(n,i,o)}}dispatchEvent(n){return this._nativeEventTarget.dispatchEvent(n)}removeEventListener(n,r,o){let i=r===null?void 0:this._listeners.get(r);this._nativeEventTarget.removeEventListener(n,i===void 0?null:i,o)}};var Hw=t=>(e,n,r)=>{Object.defineProperties(t,{currentFrame:{configurable:!0,get(){return Math.round(e*n)}},currentTime:{configurable:!0,get(){return e}}});try{return r()}finally{t!==null&&(delete t.currentFrame,delete t.currentTime)}};var Ww=t=>e=>z(void 0,null,function*(){try{let n=yield fetch(e);if(n.ok)return[yield n.text(),n.url]}catch{}throw t()});var hO={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},Gw=(t,e,n,r,o,i)=>class extends t{constructor(a,c){let u=o(a),l=w(w({},hO),c),d=r(u,l),h=i(u),f=h?n():null;super(a,!1,d,f),this._gain=e(this,h,d.gain,Ze,et)}get gain(){return this._gain}};var zw=(t,e,n,r,o)=>()=>{let i=new WeakMap,s=(a,c)=>z(void 0,null,function*(){let u=n(a),l=we(u,c);if(!l){let d={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,gain:u.gain.value};u=e(c,d)}return i.set(c,u),l?yield t(c,a.gain,u.gain):yield r(c,a.gain,u.gain),yield o(a,c,u),u});return{render(a,c){let u=i.get(c);return u!==void 0?Promise.resolve(u):s(a,c)}}};var Zw=(t,e)=>n=>e(t,n);var Yw=t=>e=>{let n=t(e);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return n.renderer};var Qw=t=>e=>{var n;return(n=t.get(e))!==null&&n!==void 0?n:0};var Xw=t=>e=>{let n=t(e);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return n.renderer};var Kw=t=>e=>t.get(e);var Be=()=>new DOMException("","InvalidStateError");var Jw=t=>e=>{let n=t.get(e);if(n===void 0)throw Be();return n};var e0=(t,e)=>n=>{let r=t.get(n);if(r!==void 0)return r;if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");return r=new e(1,1,44100),t.set(n,r),r};var t0=t=>e=>{let n=t.get(e);if(n===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return n};var rs=()=>new DOMException("","InvalidAccessError");var n0=t=>{t.getFrequencyResponse=(e=>(n,r,o)=>{if(n.length!==r.length||r.length!==o.length)throw rs();return e.call(t,n,r,o)})(t.getFrequencyResponse)};var fO={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},r0=(t,e,n,r,o,i)=>class extends t{constructor(a,c){let u=r(a),l=o(u),d=w(w({},fO),c),h=e(u,l?null:a.baseLatency,d),f=l?n(d.feedback,d.feedforward):null;super(a,!1,h,f),n0(h),this._nativeIIRFilterNode=h,i(this,1)}getFrequencyResponse(a,c,u){return this._nativeIIRFilterNode.getFrequencyResponse(a,c,u)}};var ol=(t,e,n,r,o,i,s,a,c,u,l)=>{let d=u.length,h=a;for(let f=0;f<d;f+=1){let p=n[0]*u[f];for(let g=1;g<o;g+=1){let m=h-g&c-1;p+=n[g]*i[m],p-=t[g]*s[m]}for(let g=o;g<r;g+=1)p+=n[g]*i[h-g&c-1];for(let g=o;g<e;g+=1)p-=t[g]*s[h-g&c-1];i[h]=u[f],s[h]=p,h=h+1&c-1,l[f]=p}return h};var pO=(t,e,n,r)=>{let o=n instanceof Float64Array?n:new Float64Array(n),i=r instanceof Float64Array?r:new Float64Array(r),s=o.length,a=i.length,c=Math.min(s,a);if(o[0]!==1){for(let p=0;p<s;p+=1)i[p]/=o[0];for(let p=1;p<a;p+=1)o[p]/=o[0]}let u=32,l=new Float32Array(u),d=new Float32Array(u),h=e.createBuffer(t.numberOfChannels,t.length,t.sampleRate),f=t.numberOfChannels;for(let p=0;p<f;p+=1){let g=t.getChannelData(p),m=h.getChannelData(p);l.fill(0),d.fill(0),ol(o,s,i,a,c,l,d,0,u,g,m)}return h},o0=(t,e,n,r,o)=>(i,s)=>{let a=new WeakMap,c=null,u=(l,d)=>z(void 0,null,function*(){let h=null,f=e(l),p=we(f,d);if(d.createIIRFilter===void 0?h=t(d,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):p||(f=d.createIIRFilter(s,i)),a.set(d,h===null?f:h),h!==null){if(c===null){if(n===null)throw new Error("Missing the native OfflineAudioContext constructor.");let m=new n(l.context.destination.channelCount,l.context.length,d.sampleRate);c=(()=>z(void 0,null,function*(){yield r(l,m,m.destination);let v=yield o(m);return pO(v,d,i,s)}))()}let g=yield c;return h.buffer=g,h.start(0),h}return yield r(l,d,f),f});return{render(l,d){let h=a.get(d);return h!==void 0?Promise.resolve(h):u(l,d)}}};var i0=(t,e,n,r,o,i)=>s=>(a,c)=>{let u=t.get(a);if(u===void 0){if(!s&&i(a)){let l=r(a),{outputs:d}=n(a);for(let h of d)if(so(h)){let f=r(h[0]);e(l,f,h[1],h[2])}else{let f=o(h[0]);l.disconnect(f,h[1])}}t.set(a,c)}else t.set(a,u+c)};var s0=(t,e)=>n=>{let r=t.get(n);return e(r)||e(n)};var a0=(t,e)=>n=>t.has(n)||e(n);var c0=(t,e)=>n=>t.has(n)||e(n);var u0=(t,e)=>n=>{let r=t.get(n);return e(r)||e(n)};var l0=t=>e=>t!==null&&e instanceof t;var d0=t=>e=>t!==null&&typeof t.AudioNode=="function"&&e instanceof t.AudioNode;var h0=t=>e=>t!==null&&typeof t.AudioParam=="function"&&e instanceof t.AudioParam;var f0=(t,e)=>n=>t(n)||e(n);var p0=t=>e=>t!==null&&e instanceof t;var m0=t=>t!==null&&t.isSecureContext;var g0=(t,e,n,r)=>class extends t{constructor(i,s){let a=n(i),c=e(a,s);if(r(a))throw TypeError();super(i,!0,c,null),this._nativeMediaElementAudioSourceNode=c}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}};var mO={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},v0=(t,e,n,r)=>class extends t{constructor(i,s){let a=n(i);if(r(a))throw new TypeError;let c=w(w({},mO),s),u=e(a,c);super(i,!1,u,null),this._nativeMediaStreamAudioDestinationNode=u}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}};var y0=(t,e,n,r)=>class extends t{constructor(i,s){let a=n(i),c=e(a,s);if(r(a))throw new TypeError;super(i,!0,c,null),this._nativeMediaStreamAudioSourceNode=c}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}};var _0=(t,e,n)=>class extends t{constructor(o,i){let s=n(o),a=e(s,i);super(o,!0,a,null)}};var x0=(t,e,n,r,o)=>class extends r{constructor(s={}){if(o===null)throw new Error("Missing the native AudioContext constructor.");let a;try{a=new o(s)}catch(l){throw l.code===12&&l.message==="sampleRate is not in range"?e():l}if(a===null)throw n();if(!el(s.latencyHint))throw new TypeError(`The provided value '${s.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(s.sampleRate!==void 0&&a.sampleRate!==s.sampleRate)throw e();super(a,2);let{latencyHint:c}=s,{sampleRate:u}=a;if(this._baseLatency=typeof a.baseLatency=="number"?a.baseLatency:c==="balanced"?512/u:c==="interactive"||c===void 0?256/u:c==="playback"?1024/u:Math.max(2,Math.min(128,Math.round(c*u/128)))*128/u,this._nativeAudioContext=a,o.name==="webkitAudioContext"?(this._nativeGainNode=a.createGain(),this._nativeOscillatorNode=a.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(a.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,a.state==="running"){this._state="suspended";let l=()=>{this._state==="suspended"&&(this._state=null),a.removeEventListener("statechange",l)};a.addEventListener("statechange",l)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw t()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),io(this)}))}resume(){return this._state==="suspended"?new Promise((s,a)=>{let c=()=>{this._nativeAudioContext.removeEventListener("statechange",c),this._nativeAudioContext.state==="running"?s():this.resume().then(s,a)};this._nativeAudioContext.addEventListener("statechange",c)}):this._nativeAudioContext.resume().catch(s=>{throw s===void 0||s.code===15?t():s})}suspend(){return this._nativeAudioContext.suspend().catch(s=>{throw s===void 0?t():s})}};var w0=(t,e,n,r,o,i)=>class extends n{constructor(a,c){super(a),this._nativeContext=a,Zi.set(this,a),r(a)&&o.set(a,new Set),this._destination=new t(this,c),this._listener=e(this,a),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(a){let c=typeof a=="function"?i(this,a):null;this._nativeContext.onstatechange=c;let u=this._nativeContext.onstatechange;this._onstatechange=u!==null&&u===c?a:u}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}};var zn=t=>{let e=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{let n=t.decodeAudioData(e.buffer,()=>{});return n===void 0?!1:(n.catch(()=>{}),!0)}catch{}return!1};var gO={numberOfChannels:1},b0=(t,e,n,r,o)=>class extends r{constructor(s){let{length:a,numberOfChannels:c,sampleRate:u}=w(w({},gO),s),l=n(c,a,u);t(zn,()=>zn(l))||l.addEventListener("statechange",(()=>{let d=0,h=f=>{this._state==="running"&&(d>0?(l.removeEventListener("statechange",h),f.stopImmediatePropagation(),this._waitForThePromiseToSettle(f)):d+=1)};return h})()),super(l,c),this._length=a,this._nativeOfflineAudioContext=l,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(e()):(this._state="running",o(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,io(this)}))}_waitForThePromiseToSettle(s){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(s):setTimeout(()=>this._waitForThePromiseToSettle(s))}};var C0=(t,e)=>(n,r,o)=>{let i=new Set;return n.connect=(s=>(a,c=0,u=0)=>{let l=i.size===0;if(e(a))return s.call(n,a,c,u),t(i,[a,c,u],d=>d[0]===a&&d[1]===c&&d[2]===u,!0),l&&r(),a;s.call(n,a,c),t(i,[a,c],d=>d[0]===a&&d[1]===c,!0),l&&r()})(n.connect),n.disconnect=(s=>(a,c,u)=>{let l=i.size>0;if(a===void 0)s.apply(n),i.clear();else if(typeof a=="number"){s.call(n,a);for(let h of i)h[1]===a&&i.delete(h)}else{e(a)?s.call(n,a,c,u):s.call(n,a,c);for(let h of i)h[0]===a&&(c===void 0||h[1]===c)&&(u===void 0||h[2]===u)&&i.delete(h)}let d=i.size===0;l&&d&&o()})(n.disconnect),n};var be=(t,e,n)=>{let r=e[n];r!==void 0&&r!==t[n]&&(t[n]=r)};var pe=(t,e)=>{be(t,e,"channelCount"),be(t,e,"channelCountMode"),be(t,e,"channelInterpretation")};var kp=t=>typeof t.getFloatTimeDomainData=="function";var D0=t=>{t.getFloatTimeDomainData=e=>{let n=new Uint8Array(e.length);t.getByteTimeDomainData(n);let r=Math.max(n.length,t.fftSize);for(let o=0;o<r;o+=1)e[o]=(n[o]-128)*.0078125;return e}};var S0=(t,e)=>(n,r)=>{let o=n.createAnalyser();if(pe(o,r),!(r.maxDecibels>r.minDecibels))throw e();return be(o,r,"fftSize"),be(o,r,"maxDecibels"),be(o,r,"minDecibels"),be(o,r,"smoothingTimeConstant"),t(kp,()=>kp(o))||D0(o),o};var T0=t=>t===null?null:t.hasOwnProperty("AudioBuffer")?t.AudioBuffer:null;var Te=(t,e,n)=>{let r=e[n];r!==void 0&&r!==t[n].value&&(t[n].value=r)};var E0=t=>{t.start=(e=>{let n=!1;return(r=0,o=0,i)=>{if(n)throw Be();e.call(t,r,o,i),n=!0}})(t.start)};var os=t=>{t.start=(e=>(n=0,r=0,o)=>{if(typeof o=="number"&&o<0||r<0||n<0)throw new RangeError("The parameters can't be negative.");e.call(t,n,r,o)})(t.start)};var is=t=>{t.stop=(e=>(n=0)=>{if(n<0)throw new RangeError("The parameter can't be negative.");e.call(t,n)})(t.stop)};var I0=(t,e,n,r,o,i,s,a,c,u,l)=>(d,h)=>{let f=d.createBufferSource();return pe(f,h),Te(f,h,"playbackRate"),be(f,h,"buffer"),be(f,h,"loop"),be(f,h,"loopEnd"),be(f,h,"loopStart"),e(n,()=>n(d))||E0(f),e(r,()=>r(d))||c(f),e(o,()=>o(d))||u(f,d),e(i,()=>i(d))||os(f),e(s,()=>s(d))||l(f,d),e(a,()=>a(d))||is(f),t(d,f),f};var A0=t=>t===null?null:t.hasOwnProperty("AudioContext")?t.AudioContext:t.hasOwnProperty("webkitAudioContext")?t.webkitAudioContext:null;var M0=(t,e)=>(n,r,o)=>{let i=n.destination;if(i.channelCount!==r)try{i.channelCount=r}catch{}o&&i.channelCountMode!=="explicit"&&(i.channelCountMode="explicit"),i.maxChannelCount===0&&Object.defineProperty(i,"maxChannelCount",{value:r});let s=t(n,{channelCount:r,channelCountMode:i.channelCountMode,channelInterpretation:i.channelInterpretation,gain:1});return e(s,"channelCount",a=>()=>a.call(s),a=>c=>{a.call(s,c);try{i.channelCount=c}catch(u){if(c>i.maxChannelCount)throw u}}),e(s,"channelCountMode",a=>()=>a.call(s),a=>c=>{a.call(s,c),i.channelCountMode=c}),e(s,"channelInterpretation",a=>()=>a.call(s),a=>c=>{a.call(s,c),i.channelInterpretation=c}),Object.defineProperty(s,"maxChannelCount",{get:()=>i.maxChannelCount}),s.connect(i),s};var N0=t=>t===null?null:t.hasOwnProperty("AudioWorkletNode")?t.AudioWorkletNode:null;var O0=t=>{let{port1:e}=new MessageChannel;try{e.postMessage(t)}finally{e.close()}};var k0=(t,e,n,r,o)=>(i,s,a,c,u,l)=>{if(a!==null)try{let d=new a(i,c,l),h=new Map,f=null;if(Object.defineProperties(d,{channelCount:{get:()=>l.channelCount,set:()=>{throw t()}},channelCountMode:{get:()=>"explicit",set:()=>{throw t()}},onprocessorerror:{get:()=>f,set:p=>{typeof f=="function"&&d.removeEventListener("processorerror",f),f=typeof p=="function"?p:null,typeof f=="function"&&d.addEventListener("processorerror",f)}}}),d.addEventListener=(p=>(...g)=>{if(g[0]==="processorerror"){let m=typeof g[1]=="function"?g[1]:typeof g[1]=="object"&&g[1]!==null&&typeof g[1].handleEvent=="function"?g[1].handleEvent:null;if(m!==null){let v=h.get(g[1]);v!==void 0?g[1]=v:(g[1]=D=>{D.type==="error"?(Object.defineProperties(D,{type:{value:"processorerror"}}),m(D)):m(new ErrorEvent(g[0],w({},D)))},h.set(m,g[1]))}}return p.call(d,"error",g[1],g[2]),p.call(d,...g)})(d.addEventListener),d.removeEventListener=(p=>(...g)=>{if(g[0]==="processorerror"){let m=h.get(g[1]);m!==void 0&&(h.delete(g[1]),g[1]=m)}return p.call(d,"error",g[1],g[2]),p.call(d,g[0],g[1],g[2])})(d.removeEventListener),l.numberOfOutputs!==0){let p=n(i,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return d.connect(p).connect(i.destination),o(d,()=>p.disconnect(),()=>p.connect(i.destination))}return d}catch(d){throw d.code===11?r():d}if(u===void 0)throw r();return O0(l),e(i,s,u,l)};var il=(t,e)=>t===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(t*e)))));var R0=t=>new Promise((e,n)=>{let{port1:r,port2:o}=new MessageChannel;r.onmessage=({data:i})=>{r.close(),o.close(),e(i)},r.onmessageerror=({data:i})=>{r.close(),o.close(),n(i)},o.postMessage(t)});var F0=(t,e)=>z(void 0,null,function*(){let n=yield R0(e);return new t(n)});var P0=(t,e,n,r)=>{let o=Ua.get(t);o===void 0&&(o=new WeakMap,Ua.set(t,o));let i=F0(n,r);return o.set(e,i),i};var V0=(t,e,n,r,o,i,s,a,c,u,l,d,h)=>(f,p,g,m)=>{if(m.numberOfInputs===0&&m.numberOfOutputs===0)throw c();let v=Array.isArray(m.outputChannelCount)?m.outputChannelCount:Array.from(m.outputChannelCount);if(v.some(q=>q<1))throw c();if(v.length!==m.numberOfOutputs)throw e();if(m.channelCountMode!=="explicit")throw c();let D=m.channelCount*m.numberOfInputs,I=v.reduce((q,Y)=>q+Y,0),M=g.parameterDescriptors===void 0?0:g.parameterDescriptors.length;if(D+M>6||I>6)throw c();let C=new MessageChannel,b=[],x=[];for(let q=0;q<m.numberOfInputs;q+=1)b.push(s(f,{channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation,gain:1})),x.push(o(f,{channelCount:m.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:m.channelCount}));let _=[];if(g.parameterDescriptors!==void 0)for(let{defaultValue:q,maxValue:Y,minValue:ht,name:qe}of g.parameterDescriptors){let De=i(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:m.parameterData[qe]!==void 0?m.parameterData[qe]:q===void 0?0:q});Object.defineProperties(De.offset,{defaultValue:{get:()=>q===void 0?0:q},maxValue:{get:()=>Y===void 0?Ze:Y},minValue:{get:()=>ht===void 0?et:ht}}),_.push(De)}let R=r(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,D+M)}),H=il(p,f.sampleRate),k=a(f,H,D+M,Math.max(1,I)),N=o(f,{channelCount:Math.max(1,I),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,I)}),W=[];for(let q=0;q<m.numberOfOutputs;q+=1)W.push(r(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:v[q]}));for(let q=0;q<m.numberOfInputs;q+=1){b[q].connect(x[q]);for(let Y=0;Y<m.channelCount;Y+=1)x[q].connect(R,Y,q*m.channelCount+Y)}let E=new es(g.parameterDescriptors===void 0?[]:g.parameterDescriptors.map(({name:q},Y)=>{let ht=_[Y];return ht.connect(R,0,D+Y),ht.start(0),[q,ht.offset]}));R.connect(k);let S=m.channelInterpretation,A=null,T=m.numberOfOutputs===0?[k]:W,L={get bufferSize(){return H},get channelCount(){return m.channelCount},set channelCount(q){throw n()},get channelCountMode(){return m.channelCountMode},set channelCountMode(q){throw n()},get channelInterpretation(){return S},set channelInterpretation(q){for(let Y of b)Y.channelInterpretation=q;S=q},get context(){return k.context},get inputs(){return b},get numberOfInputs(){return m.numberOfInputs},get numberOfOutputs(){return m.numberOfOutputs},get onprocessorerror(){return A},set onprocessorerror(q){typeof A=="function"&&L.removeEventListener("processorerror",A),A=typeof q=="function"?q:null,typeof A=="function"&&L.addEventListener("processorerror",A)},get parameters(){return E},get port(){return C.port2},addEventListener(...q){return k.addEventListener(q[0],q[1],q[2])},connect:t.bind(null,T),disconnect:u.bind(null,T),dispatchEvent(...q){return k.dispatchEvent(q[0])},removeEventListener(...q){return k.removeEventListener(q[0],q[1],q[2])}},O=new Map;C.port1.addEventListener=(q=>(...Y)=>{if(Y[0]==="message"){let ht=typeof Y[1]=="function"?Y[1]:typeof Y[1]=="object"&&Y[1]!==null&&typeof Y[1].handleEvent=="function"?Y[1].handleEvent:null;if(ht!==null){let qe=O.get(Y[1]);qe!==void 0?Y[1]=qe:(Y[1]=De=>{l(f.currentTime,f.sampleRate,()=>ht(De))},O.set(ht,Y[1]))}}return q.call(C.port1,Y[0],Y[1],Y[2])})(C.port1.addEventListener),C.port1.removeEventListener=(q=>(...Y)=>{if(Y[0]==="message"){let ht=O.get(Y[1]);ht!==void 0&&(O.delete(Y[1]),Y[1]=ht)}return q.call(C.port1,Y[0],Y[1],Y[2])})(C.port1.removeEventListener);let U=null;Object.defineProperty(C.port1,"onmessage",{get:()=>U,set:q=>{typeof U=="function"&&C.port1.removeEventListener("message",U),U=typeof q=="function"?q:null,typeof U=="function"&&(C.port1.addEventListener("message",U),C.port1.start())}}),g.prototype.port=C.port1;let P=null;P0(f,L,g,m).then(q=>P=q);let ke=ns(m.numberOfInputs,m.channelCount),gt=ns(m.numberOfOutputs,v),wt=g.parameterDescriptors===void 0?[]:g.parameterDescriptors.reduce((q,{name:Y})=>V(w({},q),{[Y]:new Float32Array(128)}),{}),ye=!0,ne=()=>{m.numberOfOutputs>0&&k.disconnect(N);for(let q=0,Y=0;q<m.numberOfOutputs;q+=1){let ht=W[q];for(let qe=0;qe<v[q];qe+=1)N.disconnect(ht,Y+qe,qe);Y+=v[q]}},hn=new Map;k.onaudioprocess=({inputBuffer:q,outputBuffer:Y})=>{if(P!==null){let ht=d(L);for(let qe=0;qe<H;qe+=128){for(let De=0;De<m.numberOfInputs;De+=1)for(let He=0;He<m.channelCount;He+=1)ts(q,ke[De],He,He,qe);g.parameterDescriptors!==void 0&&g.parameterDescriptors.forEach(({name:De},He)=>{ts(q,wt,De,D+He,qe)});for(let De=0;De<m.numberOfInputs;De+=1)for(let He=0;He<v[De];He+=1)gt[De][He].byteLength===0&&(gt[De][He]=new Float32Array(128));try{let De=ke.map((fn,jr)=>{if(ht[jr].size>0)return hn.set(jr,H/128),fn;let Hl=hn.get(jr);return Hl===void 0?[]:(fn.every(GC=>GC.every(zC=>zC===0))&&(Hl===1?hn.delete(jr):hn.set(jr,Hl-1)),fn)});ye=l(f.currentTime+qe/f.sampleRate,f.sampleRate,()=>P.process(De,gt,wt));for(let fn=0,jr=0;fn<m.numberOfOutputs;fn+=1){for(let Ns=0;Ns<v[fn];Ns+=1)nl(Y,gt[fn],Ns,jr+Ns,qe);jr+=v[fn]}}catch(De){ye=!1,L.dispatchEvent(new ErrorEvent("processorerror",{colno:De.colno,filename:De.filename,lineno:De.lineno,message:De.message}))}if(!ye){for(let De=0;De<m.numberOfInputs;De+=1){b[De].disconnect(x[De]);for(let He=0;He<m.channelCount;He+=1)x[qe].disconnect(R,He,De*m.channelCount+He)}if(g.parameterDescriptors!==void 0){let De=g.parameterDescriptors.length;for(let He=0;He<De;He+=1){let fn=_[He];fn.disconnect(R,0,D+He),fn.stop()}}R.disconnect(k),k.onaudioprocess=null,nr?ne():Sr();break}}}};let nr=!1,Z=s(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),tn=()=>k.connect(Z).connect(f.destination),Sr=()=>{k.disconnect(Z),Z.disconnect()},Pn=()=>{if(ye){Sr(),m.numberOfOutputs>0&&k.connect(N);for(let q=0,Y=0;q<m.numberOfOutputs;q+=1){let ht=W[q];for(let qe=0;qe<v[q];qe+=1)N.connect(ht,Y+qe,qe);Y+=v[q]}}nr=!0},rr=()=>{ye&&(tn(),ne()),nr=!1};return tn(),h(L,Pn,rr)};var Rp=(t,e)=>{let n=t.createBiquadFilter();return pe(n,e),Te(n,e,"Q"),Te(n,e,"detune"),Te(n,e,"frequency"),Te(n,e,"gain"),be(n,e,"type"),n};var L0=(t,e)=>(n,r)=>{let o=n.createChannelMerger(r.numberOfInputs);return t!==null&&t.name==="webkitAudioContext"&&e(n,o),pe(o,r),o};var j0=t=>{let e=t.numberOfOutputs;Object.defineProperty(t,"channelCount",{get:()=>e,set:n=>{if(n!==e)throw Be()}}),Object.defineProperty(t,"channelCountMode",{get:()=>"explicit",set:n=>{if(n!=="explicit")throw Be()}}),Object.defineProperty(t,"channelInterpretation",{get:()=>"discrete",set:n=>{if(n!=="discrete")throw Be()}})};var ss=(t,e)=>{let n=t.createChannelSplitter(e.numberOfOutputs);return pe(n,e),j0(n),n};var B0=(t,e,n,r,o)=>(i,s)=>{if(i.createConstantSource===void 0)return n(i,s);let a=i.createConstantSource();return pe(a,s),Te(a,s,"offset"),e(r,()=>r(i))||os(a),e(o,()=>o(i))||is(a),t(i,a),a};var In=(t,e)=>(t.connect=e.connect.bind(e),t.disconnect=e.disconnect.bind(e),t);var U0=(t,e,n,r)=>(o,a)=>{var c=a,{offset:i}=c,s=Br(c,["offset"]);let u=o.createBuffer(1,2,44100),l=e(o,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),d=n(o,V(w({},s),{gain:i})),h=u.getChannelData(0);h[0]=1,h[1]=1,l.buffer=u,l.loop=!0;let f={get bufferSize(){},get channelCount(){return d.channelCount},set channelCount(m){d.channelCount=m},get channelCountMode(){return d.channelCountMode},set channelCountMode(m){d.channelCountMode=m},get channelInterpretation(){return d.channelInterpretation},set channelInterpretation(m){d.channelInterpretation=m},get context(){return d.context},get inputs(){return[]},get numberOfInputs(){return l.numberOfInputs},get numberOfOutputs(){return d.numberOfOutputs},get offset(){return d.gain},get onended(){return l.onended},set onended(m){l.onended=m},addEventListener(...m){return l.addEventListener(m[0],m[1],m[2])},dispatchEvent(...m){return l.dispatchEvent(m[0])},removeEventListener(...m){return l.removeEventListener(m[0],m[1],m[2])},start(m=0){l.start.call(l,m)},stop(m=0){l.stop.call(l,m)}},p=()=>l.connect(d),g=()=>l.disconnect(d);return t(o,l),r(In(f,d),p,g)};var q0=(t,e)=>(n,r)=>{let o=n.createConvolver();if(pe(o,r),r.disableNormalization===o.normalize&&(o.normalize=!r.disableNormalization),be(o,r,"buffer"),r.channelCount>2||(e(o,"channelCount",i=>()=>i.call(o),i=>s=>{if(s>2)throw t();return i.call(o,s)}),r.channelCountMode==="max"))throw t();return e(o,"channelCountMode",i=>()=>i.call(o),i=>s=>{if(s==="max")throw t();return i.call(o,s)}),o};var Fp=(t,e)=>{let n=t.createDelay(e.maxDelayTime);return pe(n,e),Te(n,e,"delayTime"),n};var $0=t=>(e,n)=>{let r=e.createDynamicsCompressor();if(pe(r,n),n.channelCount>2||n.channelCountMode==="max")throw t();return Te(r,n,"attack"),Te(r,n,"knee"),Te(r,n,"ratio"),Te(r,n,"release"),Te(r,n,"threshold"),r};var Bt=(t,e)=>{let n=t.createGain();return pe(n,e),Te(n,e,"gain"),n};var H0=t=>(e,n,r)=>{if(e.createIIRFilter===void 0)return t(e,n,r);let o=e.createIIRFilter(r.feedforward,r.feedback);return pe(o,r),o};function vO(t,e){let n=e[0]*e[0]+e[1]*e[1];return[(t[0]*e[0]+t[1]*e[1])/n,(t[1]*e[0]-t[0]*e[1])/n]}function yO(t,e){return[t[0]*e[0]-t[1]*e[1],t[0]*e[1]+t[1]*e[0]]}function W0(t,e){let n=[0,0];for(let r=t.length-1;r>=0;r-=1)n=yO(n,e),n[0]+=t[r];return n}var G0=(t,e,n,r)=>(o,i,{channelCount:s,channelCountMode:a,channelInterpretation:c,feedback:u,feedforward:l})=>{let d=il(i,o.sampleRate),h=u instanceof Float64Array?u:new Float64Array(u),f=l instanceof Float64Array?l:new Float64Array(l),p=h.length,g=f.length,m=Math.min(p,g);if(p===0||p>20)throw r();if(h[0]===0)throw e();if(g===0||g>20)throw r();if(f[0]===0)throw e();if(h[0]!==1){for(let _=0;_<g;_+=1)f[_]/=h[0];for(let _=1;_<p;_+=1)h[_]/=h[0]}let v=n(o,d,s,s);v.channelCount=s,v.channelCountMode=a,v.channelInterpretation=c;let D=32,I=[],M=[],C=[];for(let _=0;_<s;_+=1){I.push(0);let R=new Float32Array(D),H=new Float32Array(D);R.fill(0),H.fill(0),M.push(R),C.push(H)}v.onaudioprocess=_=>{let R=_.inputBuffer,H=_.outputBuffer,k=R.numberOfChannels;for(let N=0;N<k;N+=1){let W=R.getChannelData(N),E=H.getChannelData(N);I[N]=ol(h,p,f,g,m,M[N],C[N],I[N],D,W,E)}};let b=o.sampleRate/2;return In({get bufferSize(){return d},get channelCount(){return v.channelCount},set channelCount(_){v.channelCount=_},get channelCountMode(){return v.channelCountMode},set channelCountMode(_){v.channelCountMode=_},get channelInterpretation(){return v.channelInterpretation},set channelInterpretation(_){v.channelInterpretation=_},get context(){return v.context},get inputs(){return[v]},get numberOfInputs(){return v.numberOfInputs},get numberOfOutputs(){return v.numberOfOutputs},addEventListener(..._){return v.addEventListener(_[0],_[1],_[2])},dispatchEvent(..._){return v.dispatchEvent(_[0])},getFrequencyResponse(_,R,H){if(_.length!==R.length||R.length!==H.length)throw t();let k=_.length;for(let N=0;N<k;N+=1){let W=-Math.PI*(_[N]/b),E=[Math.cos(W),Math.sin(W)],S=W0(f,E),A=W0(h,E),T=vO(S,A);R[N]=Math.sqrt(T[0]*T[0]+T[1]*T[1]),H[N]=Math.atan2(T[1],T[0])}},removeEventListener(..._){return v.removeEventListener(_[0],_[1],_[2])}},v)};var z0=(t,e)=>t.createMediaElementSource(e.mediaElement);var Z0=(t,e)=>{let n=t.createMediaStreamDestination();return pe(n,e),n.numberOfOutputs===1&&Object.defineProperty(n,"numberOfOutputs",{get:()=>0}),n};var Y0=(t,{mediaStream:e})=>{let n=e.getAudioTracks();n.sort((i,s)=>i.id<s.id?-1:i.id>s.id?1:0);let r=n.slice(0,1),o=t.createMediaStreamSource(new MediaStream(r));return Object.defineProperty(o,"mediaStream",{value:e}),o};var Q0=(t,e)=>(n,{mediaStreamTrack:r})=>{if(typeof n.createMediaStreamTrackSource=="function")return n.createMediaStreamTrackSource(r);let o=new MediaStream([r]),i=n.createMediaStreamSource(o);if(r.kind!=="audio")throw t();if(e(n))throw new TypeError;return i};var X0=t=>t===null?null:t.hasOwnProperty("OfflineAudioContext")?t.OfflineAudioContext:t.hasOwnProperty("webkitOfflineAudioContext")?t.webkitOfflineAudioContext:null;var K0=(t,e,n,r,o,i)=>(s,a)=>{let c=s.createOscillator();return pe(c,a),Te(c,a,"detune"),Te(c,a,"frequency"),a.periodicWave!==void 0?c.setPeriodicWave(a.periodicWave):be(c,a,"type"),e(n,()=>n(s))||os(c),e(r,()=>r(s))||i(c,s),e(o,()=>o(s))||is(c),t(s,c),c};var J0=t=>(e,n)=>{let r=e.createPanner();return r.orientationX===void 0?t(e,n):(pe(r,n),Te(r,n,"orientationX"),Te(r,n,"orientationY"),Te(r,n,"orientationZ"),Te(r,n,"positionX"),Te(r,n,"positionY"),Te(r,n,"positionZ"),be(r,n,"coneInnerAngle"),be(r,n,"coneOuterAngle"),be(r,n,"coneOuterGain"),be(r,n,"distanceModel"),be(r,n,"maxDistance"),be(r,n,"panningModel"),be(r,n,"refDistance"),be(r,n,"rolloffFactor"),r)};var eb=(t,e,n,r,o,i,s,a,c,u)=>(l,H)=>{var k=H,{coneInnerAngle:d,coneOuterAngle:h,coneOuterGain:f,distanceModel:p,maxDistance:g,orientationX:m,orientationY:v,orientationZ:D,panningModel:I,positionX:M,positionY:C,positionZ:b,refDistance:x,rolloffFactor:_}=k,R=Br(k,["coneInnerAngle","coneOuterAngle","coneOuterGain","distanceModel","maxDistance","orientationX","orientationY","orientationZ","panningModel","positionX","positionY","positionZ","refDistance","rolloffFactor"]);let N=l.createPanner();if(R.channelCount>2||R.channelCountMode==="max")throw s();pe(N,R);let W={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},E=n(l,V(w({},W),{channelInterpretation:"speakers",numberOfInputs:6})),S=r(l,V(w({},R),{gain:1})),A=r(l,V(w({},W),{gain:1})),T=r(l,V(w({},W),{gain:0})),L=r(l,V(w({},W),{gain:0})),O=r(l,V(w({},W),{gain:0})),U=r(l,V(w({},W),{gain:0})),P=r(l,V(w({},W),{gain:0})),Ce=o(l,256,6,1),ke=i(l,V(w({},W),{curve:new Float32Array([1,1]),oversample:"none"})),gt=[m,v,D],wt=[M,C,b],ye=new Float32Array(1);Ce.onaudioprocess=({inputBuffer:Z})=>{let tn=[c(Z,ye,0),c(Z,ye,1),c(Z,ye,2)];tn.some((Pn,rr)=>Pn!==gt[rr])&&(N.setOrientation(...tn),gt=tn);let Sr=[c(Z,ye,3),c(Z,ye,4),c(Z,ye,5)];Sr.some((Pn,rr)=>Pn!==wt[rr])&&(N.setPosition(...Sr),wt=Sr)},Object.defineProperty(T.gain,"defaultValue",{get:()=>0}),Object.defineProperty(L.gain,"defaultValue",{get:()=>0}),Object.defineProperty(O.gain,"defaultValue",{get:()=>0}),Object.defineProperty(U.gain,"defaultValue",{get:()=>0}),Object.defineProperty(P.gain,"defaultValue",{get:()=>0});let ne={get bufferSize(){},get channelCount(){return N.channelCount},set channelCount(Z){if(Z>2)throw s();S.channelCount=Z,N.channelCount=Z},get channelCountMode(){return N.channelCountMode},set channelCountMode(Z){if(Z==="max")throw s();S.channelCountMode=Z,N.channelCountMode=Z},get channelInterpretation(){return N.channelInterpretation},set channelInterpretation(Z){S.channelInterpretation=Z,N.channelInterpretation=Z},get coneInnerAngle(){return N.coneInnerAngle},set coneInnerAngle(Z){N.coneInnerAngle=Z},get coneOuterAngle(){return N.coneOuterAngle},set coneOuterAngle(Z){N.coneOuterAngle=Z},get coneOuterGain(){return N.coneOuterGain},set coneOuterGain(Z){if(Z<0||Z>1)throw e();N.coneOuterGain=Z},get context(){return N.context},get distanceModel(){return N.distanceModel},set distanceModel(Z){N.distanceModel=Z},get inputs(){return[S]},get maxDistance(){return N.maxDistance},set maxDistance(Z){if(Z<0)throw new RangeError;N.maxDistance=Z},get numberOfInputs(){return N.numberOfInputs},get numberOfOutputs(){return N.numberOfOutputs},get orientationX(){return A.gain},get orientationY(){return T.gain},get orientationZ(){return L.gain},get panningModel(){return N.panningModel},set panningModel(Z){N.panningModel=Z},get positionX(){return O.gain},get positionY(){return U.gain},get positionZ(){return P.gain},get refDistance(){return N.refDistance},set refDistance(Z){if(Z<0)throw new RangeError;N.refDistance=Z},get rolloffFactor(){return N.rolloffFactor},set rolloffFactor(Z){if(Z<0)throw new RangeError;N.rolloffFactor=Z},addEventListener(...Z){return S.addEventListener(Z[0],Z[1],Z[2])},dispatchEvent(...Z){return S.dispatchEvent(Z[0])},removeEventListener(...Z){return S.removeEventListener(Z[0],Z[1],Z[2])}};d!==ne.coneInnerAngle&&(ne.coneInnerAngle=d),h!==ne.coneOuterAngle&&(ne.coneOuterAngle=h),f!==ne.coneOuterGain&&(ne.coneOuterGain=f),p!==ne.distanceModel&&(ne.distanceModel=p),g!==ne.maxDistance&&(ne.maxDistance=g),m!==ne.orientationX.value&&(ne.orientationX.value=m),v!==ne.orientationY.value&&(ne.orientationY.value=v),D!==ne.orientationZ.value&&(ne.orientationZ.value=D),I!==ne.panningModel&&(ne.panningModel=I),M!==ne.positionX.value&&(ne.positionX.value=M),C!==ne.positionY.value&&(ne.positionY.value=C),b!==ne.positionZ.value&&(ne.positionZ.value=b),x!==ne.refDistance&&(ne.refDistance=x),_!==ne.rolloffFactor&&(ne.rolloffFactor=_),(gt[0]!==1||gt[1]!==0||gt[2]!==0)&&N.setOrientation(...gt),(wt[0]!==0||wt[1]!==0||wt[2]!==0)&&N.setPosition(...wt);let hn=()=>{S.connect(N),t(S,ke,0,0),ke.connect(A).connect(E,0,0),ke.connect(T).connect(E,0,1),ke.connect(L).connect(E,0,2),ke.connect(O).connect(E,0,3),ke.connect(U).connect(E,0,4),ke.connect(P).connect(E,0,5),E.connect(Ce).connect(l.destination)},nr=()=>{S.disconnect(N),a(S,ke,0,0),ke.disconnect(A),A.disconnect(E),ke.disconnect(T),T.disconnect(E),ke.disconnect(L),L.disconnect(E),ke.disconnect(O),O.disconnect(E),ke.disconnect(U),U.disconnect(E),ke.disconnect(P),P.disconnect(E),E.disconnect(Ce),Ce.disconnect(l.destination)};return u(In(ne,N),hn,nr)};var tb=t=>(e,{disableNormalization:n,imag:r,real:o})=>{let i=r instanceof Float32Array?r:new Float32Array(r),s=o instanceof Float32Array?o:new Float32Array(o),a=e.createPeriodicWave(s,i,{disableNormalization:n});if(Array.from(r).length<2)throw t();return a};var as=(t,e,n,r)=>t.createScriptProcessor(e,n,r);var nb=(t,e)=>(n,r)=>{let o=r.channelCountMode;if(o==="clamped-max")throw e();if(n.createStereoPanner===void 0)return t(n,r);let i=n.createStereoPanner();return pe(i,r),Te(i,r,"pan"),Object.defineProperty(i,"channelCountMode",{get:()=>o,set:s=>{if(s!==o)throw e()}}),i};var rb=(t,e,n,r,o,i)=>{let a=new Float32Array([1,1]),c=Math.PI/2,u={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},l=V(w({},u),{oversample:"none"}),d=(p,g,m,v)=>{let D=new Float32Array(16385),I=new Float32Array(16385);for(let R=0;R<16385;R+=1){let H=R/16384*c;D[R]=Math.cos(H),I[R]=Math.sin(H)}let M=n(p,V(w({},u),{gain:0})),C=r(p,V(w({},l),{curve:D})),b=r(p,V(w({},l),{curve:a})),x=n(p,V(w({},u),{gain:0})),_=r(p,V(w({},l),{curve:I}));return{connectGraph(){g.connect(M),g.connect(b.inputs===void 0?b:b.inputs[0]),g.connect(x),b.connect(m),m.connect(C.inputs===void 0?C:C.inputs[0]),m.connect(_.inputs===void 0?_:_.inputs[0]),C.connect(M.gain),_.connect(x.gain),M.connect(v,0,0),x.connect(v,0,1)},disconnectGraph(){g.disconnect(M),g.disconnect(b.inputs===void 0?b:b.inputs[0]),g.disconnect(x),b.disconnect(m),m.disconnect(C.inputs===void 0?C:C.inputs[0]),m.disconnect(_.inputs===void 0?_:_.inputs[0]),C.disconnect(M.gain),_.disconnect(x.gain),M.disconnect(v,0,0),x.disconnect(v,0,1)}}},h=(p,g,m,v)=>{let D=new Float32Array(16385),I=new Float32Array(16385),M=new Float32Array(16385),C=new Float32Array(16385),b=Math.floor(16385/2);for(let T=0;T<16385;T+=1)if(T>b){let L=(T-b)/(16384-b)*c;D[T]=Math.cos(L),I[T]=Math.sin(L),M[T]=0,C[T]=1}else{let L=T/(16384-b)*c;D[T]=1,I[T]=0,M[T]=Math.cos(L),C[T]=Math.sin(L)}let x=e(p,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),_=n(p,V(w({},u),{gain:0})),R=r(p,V(w({},l),{curve:D})),H=n(p,V(w({},u),{gain:0})),k=r(p,V(w({},l),{curve:I})),N=r(p,V(w({},l),{curve:a})),W=n(p,V(w({},u),{gain:0})),E=r(p,V(w({},l),{curve:M})),S=n(p,V(w({},u),{gain:0})),A=r(p,V(w({},l),{curve:C}));return{connectGraph(){g.connect(x),g.connect(N.inputs===void 0?N:N.inputs[0]),x.connect(_,0),x.connect(H,0),x.connect(W,1),x.connect(S,1),N.connect(m),m.connect(R.inputs===void 0?R:R.inputs[0]),m.connect(k.inputs===void 0?k:k.inputs[0]),m.connect(E.inputs===void 0?E:E.inputs[0]),m.connect(A.inputs===void 0?A:A.inputs[0]),R.connect(_.gain),k.connect(H.gain),E.connect(W.gain),A.connect(S.gain),_.connect(v,0,0),W.connect(v,0,0),H.connect(v,0,1),S.connect(v,0,1)},disconnectGraph(){g.disconnect(x),g.disconnect(N.inputs===void 0?N:N.inputs[0]),x.disconnect(_,0),x.disconnect(H,0),x.disconnect(W,1),x.disconnect(S,1),N.disconnect(m),m.disconnect(R.inputs===void 0?R:R.inputs[0]),m.disconnect(k.inputs===void 0?k:k.inputs[0]),m.disconnect(E.inputs===void 0?E:E.inputs[0]),m.disconnect(A.inputs===void 0?A:A.inputs[0]),R.disconnect(_.gain),k.disconnect(H.gain),E.disconnect(W.gain),A.disconnect(S.gain),_.disconnect(v,0,0),W.disconnect(v,0,0),H.disconnect(v,0,1),S.disconnect(v,0,1)}}},f=(p,g,m,v,D)=>{if(g===1)return d(p,m,v,D);if(g===2)return h(p,m,v,D);throw o()};return(p,I)=>{var M=I,{channelCount:g,channelCountMode:m,pan:v}=M,D=Br(M,["channelCount","channelCountMode","pan"]);if(m==="max")throw o();let C=t(p,V(w({},D),{channelCount:1,channelCountMode:m,numberOfInputs:2})),b=n(p,V(w({},D),{channelCount:g,channelCountMode:m,gain:1})),x=n(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:v}),{connectGraph:_,disconnectGraph:R}=f(p,g,b,x,C);Object.defineProperty(x.gain,"defaultValue",{get:()=>0}),Object.defineProperty(x.gain,"maxValue",{get:()=>1}),Object.defineProperty(x.gain,"minValue",{get:()=>-1});let H={get bufferSize(){},get channelCount(){return b.channelCount},set channelCount(E){b.channelCount!==E&&(k&&R(),{connectGraph:_,disconnectGraph:R}=f(p,E,b,x,C),k&&_()),b.channelCount=E},get channelCountMode(){return b.channelCountMode},set channelCountMode(E){if(E==="clamped-max"||E==="max")throw o();b.channelCountMode=E},get channelInterpretation(){return b.channelInterpretation},set channelInterpretation(E){b.channelInterpretation=E},get context(){return b.context},get inputs(){return[b]},get numberOfInputs(){return b.numberOfInputs},get numberOfOutputs(){return b.numberOfOutputs},get pan(){return x.gain},addEventListener(...E){return b.addEventListener(E[0],E[1],E[2])},dispatchEvent(...E){return b.dispatchEvent(E[0])},removeEventListener(...E){return b.removeEventListener(E[0],E[1],E[2])}},k=!1,N=()=>{_(),k=!0},W=()=>{R(),k=!1};return i(In(H,C),N,W)}};var ob=(t,e,n,r,o,i,s)=>(a,c)=>{let u=a.createWaveShaper();if(i!==null&&i.name==="webkitAudioContext"&&a.createGain().gain.automationRate===void 0)return n(a,c);pe(u,c);let l=c.curve===null||c.curve instanceof Float32Array?c.curve:new Float32Array(c.curve);if(l!==null&&l.length<2)throw e();be(u,{curve:l},"curve"),be(u,c,"oversample");let d=null,h=!1;return s(u,"curve",g=>()=>g.call(u),g=>m=>(g.call(u,m),h&&(r(m)&&d===null?d=t(a,u):!r(m)&&d!==null&&(d(),d=null)),m)),o(u,()=>{h=!0,r(u.curve)&&(d=t(a,u))},()=>{h=!1,d!==null&&(d(),d=null)})};var ib=(t,e,n,r,o)=>(i,u)=>{var l=u,{curve:s,oversample:a}=l,c=Br(l,["curve","oversample"]);let d=i.createWaveShaper(),h=i.createWaveShaper();pe(d,c),pe(h,c);let f=n(i,V(w({},c),{gain:1})),p=n(i,V(w({},c),{gain:-1})),g=n(i,V(w({},c),{gain:1})),m=n(i,V(w({},c),{gain:-1})),v=null,D=!1,I=null,M={get bufferSize(){},get channelCount(){return d.channelCount},set channelCount(x){f.channelCount=x,p.channelCount=x,d.channelCount=x,g.channelCount=x,h.channelCount=x,m.channelCount=x},get channelCountMode(){return d.channelCountMode},set channelCountMode(x){f.channelCountMode=x,p.channelCountMode=x,d.channelCountMode=x,g.channelCountMode=x,h.channelCountMode=x,m.channelCountMode=x},get channelInterpretation(){return d.channelInterpretation},set channelInterpretation(x){f.channelInterpretation=x,p.channelInterpretation=x,d.channelInterpretation=x,g.channelInterpretation=x,h.channelInterpretation=x,m.channelInterpretation=x},get context(){return d.context},get curve(){return I},set curve(x){if(x!==null&&x.length<2)throw e();if(x===null)d.curve=x,h.curve=x;else{let _=x.length,R=new Float32Array(_+2-_%2),H=new Float32Array(_+2-_%2);R[0]=x[0],H[0]=-x[_-1];let k=Math.ceil((_+1)/2),N=(_+1)/2-1;for(let W=1;W<k;W+=1){let E=W/k*N,S=Math.floor(E),A=Math.ceil(E);R[W]=S===A?x[S]:(1-(E-S))*x[S]+(1-(A-E))*x[A],H[W]=S===A?-x[_-1-S]:-((1-(E-S))*x[_-1-S])-(1-(A-E))*x[_-1-A]}R[k]=_%2===1?x[k-1]:(x[k-2]+x[k-1])/2,d.curve=R,h.curve=H}I=x,D&&(r(I)&&v===null?v=t(i,f):v!==null&&(v(),v=null))},get inputs(){return[f]},get numberOfInputs(){return d.numberOfInputs},get numberOfOutputs(){return d.numberOfOutputs},get oversample(){return d.oversample},set oversample(x){d.oversample=x,h.oversample=x},addEventListener(...x){return f.addEventListener(x[0],x[1],x[2])},dispatchEvent(...x){return f.dispatchEvent(x[0])},removeEventListener(...x){return f.removeEventListener(x[0],x[1],x[2])}};s!==null&&(M.curve=s instanceof Float32Array?s:new Float32Array(s)),a!==M.oversample&&(M.oversample=a);let C=()=>{f.connect(d).connect(g),f.connect(p).connect(h).connect(m).connect(g),D=!0,r(I)&&(v=t(i,f))},b=()=>{f.disconnect(d),d.disconnect(g),f.disconnect(p),p.disconnect(h),h.disconnect(m),m.disconnect(g),D=!1,v!==null&&(v(),v=null)};return o(In(M,g),C,b)};var Tt=()=>new DOMException("","NotSupportedError");var _O={numberOfChannels:1},sb=(t,e,n,r,o)=>class extends t{constructor(s,a,c){let u;if(typeof s=="number"&&a!==void 0&&c!==void 0)u={length:a,numberOfChannels:s,sampleRate:c};else if(typeof s=="object")u=s;else throw new Error("The given parameters are not valid.");let{length:l,numberOfChannels:d,sampleRate:h}=w(w({},_O),u),f=r(d,l,h);e(zn,()=>zn(f))||f.addEventListener("statechange",(()=>{let p=0,g=m=>{this._state==="running"&&(p>0?(f.removeEventListener("statechange",g),m.stopImmediatePropagation(),this._waitForThePromiseToSettle(m)):p+=1)};return g})()),super(f,d),this._length=l,this._nativeOfflineAudioContext=f,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(n()):(this._state="running",o(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,io(this)}))}_waitForThePromiseToSettle(s){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(s):setTimeout(()=>this._waitForThePromiseToSettle(s))}};var xO={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},ab=(t,e,n,r,o,i,s)=>class extends t{constructor(c,u){let l=o(c),d=w(w({},xO),u),h=n(l,d),f=i(l),p=f?r():null,g=c.sampleRate/2;super(c,!1,h,p),this._detune=e(this,f,h.detune,153600,-153600),this._frequency=e(this,f,h.frequency,g,-g),this._nativeOscillatorNode=h,this._onended=null,this._oscillatorNodeRenderer=p,this._oscillatorNodeRenderer!==null&&d.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=d.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(c){let u=typeof c=="function"?s(this,c):null;this._nativeOscillatorNode.onended=u;let l=this._nativeOscillatorNode.onended;this._onended=l!==null&&l===u?c:l}get type(){return this._nativeOscillatorNode.type}set type(c){this._nativeOscillatorNode.type=c,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(c){this._nativeOscillatorNode.setPeriodicWave(c),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=c)}start(c=0){if(this._nativeOscillatorNode.start(c),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=c),this.context.state!=="closed"){Wn(this);let u=()=>{this._nativeOscillatorNode.removeEventListener("ended",u),jt(this)&&vr(this)};this._nativeOscillatorNode.addEventListener("ended",u)}}stop(c=0){this._nativeOscillatorNode.stop(c),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=c)}};var cb=(t,e,n,r,o)=>()=>{let i=new WeakMap,s=null,a=null,c=null,u=(l,d)=>z(void 0,null,function*(){let h=n(l),f=we(h,d);if(!f){let p={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,detune:h.detune.value,frequency:h.frequency.value,periodicWave:s===null?void 0:s,type:h.type};h=e(d,p),a!==null&&h.start(a),c!==null&&h.stop(c)}return i.set(d,h),f?(yield t(d,l.detune,h.detune),yield t(d,l.frequency,h.frequency)):(yield r(d,l.detune,h.detune),yield r(d,l.frequency,h.frequency)),yield o(l,d,h),h});return{set periodicWave(l){s=l},set start(l){a=l},set stop(l){c=l},render(l,d){let h=i.get(d);return h!==void 0?Promise.resolve(h):u(l,d)}}};var wO={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},ub=(t,e,n,r,o,i,s)=>class extends t{constructor(c,u){let l=o(c),d=w(w({},wO),u),h=n(l,d),f=i(l),p=f?r():null;super(c,!1,h,p),this._nativePannerNode=h,this._orientationX=e(this,f,h.orientationX,Ze,et),this._orientationY=e(this,f,h.orientationY,Ze,et),this._orientationZ=e(this,f,h.orientationZ,Ze,et),this._positionX=e(this,f,h.positionX,Ze,et),this._positionY=e(this,f,h.positionY,Ze,et),this._positionZ=e(this,f,h.positionZ,Ze,et),s(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(c){this._nativePannerNode.coneInnerAngle=c}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(c){this._nativePannerNode.coneOuterAngle=c}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(c){this._nativePannerNode.coneOuterGain=c}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(c){this._nativePannerNode.distanceModel=c}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(c){this._nativePannerNode.maxDistance=c}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(c){this._nativePannerNode.panningModel=c}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(c){this._nativePannerNode.refDistance=c}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(c){this._nativePannerNode.rolloffFactor=c}};var lb=(t,e,n,r,o,i,s,a,c,u)=>()=>{let l=new WeakMap,d=null,h=(f,p)=>z(void 0,null,function*(){let g=null,m=i(f),v={channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation},D=V(w({},v),{coneInnerAngle:m.coneInnerAngle,coneOuterAngle:m.coneOuterAngle,coneOuterGain:m.coneOuterGain,distanceModel:m.distanceModel,maxDistance:m.maxDistance,panningModel:m.panningModel,refDistance:m.refDistance,rolloffFactor:m.rolloffFactor}),I=we(m,p);if("bufferSize"in m)g=r(p,V(w({},v),{gain:1}));else if(!I){let M=V(w({},D),{orientationX:m.orientationX.value,orientationY:m.orientationY.value,orientationZ:m.orientationZ.value,positionX:m.positionX.value,positionY:m.positionY.value,positionZ:m.positionZ.value});m=o(p,M)}if(l.set(p,g===null?m:g),g!==null){if(d===null){if(s===null)throw new Error("Missing the native OfflineAudioContext constructor.");let k=new s(6,f.context.length,p.sampleRate),N=e(k,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});N.connect(k.destination),d=(()=>z(void 0,null,function*(){let W=yield Promise.all([f.orientationX,f.orientationY,f.orientationZ,f.positionX,f.positionY,f.positionZ].map((E,S)=>z(void 0,null,function*(){let A=n(k,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:S===0?1:0});return yield a(k,E,A.offset),A})));for(let E=0;E<6;E+=1)W[E].connect(N,0,E),W[E].start(0);return u(k)}))()}let M=yield d,C=r(p,V(w({},v),{gain:1}));yield c(f,p,C);let b=[];for(let k=0;k<M.numberOfChannels;k+=1)b.push(M.getChannelData(k));let x=[b[0][0],b[1][0],b[2][0]],_=[b[3][0],b[4][0],b[5][0]],R=r(p,V(w({},v),{gain:1})),H=o(p,V(w({},D),{orientationX:x[0],orientationY:x[1],orientationZ:x[2],positionX:_[0],positionY:_[1],positionZ:_[2]}));C.connect(R).connect(H.inputs[0]),H.connect(g);for(let k=128;k<M.length;k+=128){let N=[b[0][k],b[1][k],b[2][k]],W=[b[3][k],b[4][k],b[5][k]];if(N.some((E,S)=>E!==x[S])||W.some((E,S)=>E!==_[S])){x=N,_=W;let E=k/p.sampleRate;R.gain.setValueAtTime(0,E),R=r(p,V(w({},v),{gain:0})),H=o(p,V(w({},D),{orientationX:x[0],orientationY:x[1],orientationZ:x[2],positionX:_[0],positionY:_[1],positionZ:_[2]})),R.gain.setValueAtTime(1,E),C.connect(R).connect(H.inputs[0]),H.connect(g)}}return g}return I?(yield t(p,f.orientationX,m.orientationX),yield t(p,f.orientationY,m.orientationY),yield t(p,f.orientationZ,m.orientationZ),yield t(p,f.positionX,m.positionX),yield t(p,f.positionY,m.positionY),yield t(p,f.positionZ,m.positionZ)):(yield a(p,f.orientationX,m.orientationX),yield a(p,f.orientationY,m.orientationY),yield a(p,f.orientationZ,m.orientationZ),yield a(p,f.positionX,m.positionX),yield a(p,f.positionY,m.positionY),yield a(p,f.positionZ,m.positionZ)),En(m)?yield c(f,p,m.inputs[0]):yield c(f,p,m),m});return{render(f,p){let g=l.get(p);return g!==void 0?Promise.resolve(g):h(f,p)}}};var bO={disableNormalization:!1},db=(t,e,n,r)=>class hb{constructor(i,s){let a=e(i),c=r(w(w({},bO),s)),u=t(a,c);return n.add(u),u}static[Symbol.hasInstance](i){return i!==null&&typeof i=="object"&&Object.getPrototypeOf(i)===hb.prototype||n.has(i)}};var fb=(t,e)=>(n,r,o)=>(t(r).replay(o),e(r,n,o));var pb=(t,e,n)=>(r,o,i)=>z(void 0,null,function*(){let s=t(r);yield Promise.all(s.activeInputs.map((a,c)=>Array.from(a).map(d=>z(void 0,[d],function*([u,l]){let f=yield e(u).render(u,o),p=r.context.destination;!n(u)&&(r!==p||!n(r))&&f.connect(i,l,c)}))).reduce((a,c)=>[...a,...c],[]))});var mb=(t,e,n)=>(r,o,i)=>z(void 0,null,function*(){let s=e(r);yield Promise.all(Array.from(s.activeInputs).map(u=>z(void 0,[u],function*([a,c]){let d=yield t(a).render(a,o);n(a)||d.connect(i,c)})))});var gb=(t,e,n,r)=>o=>t(zn,()=>zn(o))?Promise.resolve(t(r,r)).then(i=>{if(!i){let s=n(o,512,0,1);o.oncomplete=()=>{s.onaudioprocess=null,s.disconnect()},s.onaudioprocess=()=>o.currentTime,s.connect(o.destination)}return o.startRendering()}):new Promise(i=>{let s=e(o,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});o.oncomplete=a=>{s.disconnect(),i(a.renderedBuffer)},s.connect(o.destination),o.startRendering()});var vb=t=>(e,n)=>{t.set(e,n)};var yb=t=>(e,n)=>t.set(e,n);var _b=(t,e,n,r,o,i,s,a)=>(c,u)=>n(c).render(c,u).then(()=>Promise.all(Array.from(r(u)).map(l=>n(l).render(l,u)))).then(()=>o(u)).then(l=>(typeof l.copyFromChannel!="function"?(s(l),Qi(l)):e(i,()=>i(l))||a(l),t.add(l),l));var CO={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},xb=(t,e,n,r,o,i)=>class extends t{constructor(a,c){let u=o(a),l=w(w({},CO),c),d=n(u,l),h=i(u),f=h?r():null;super(a,!1,d,f),this._pan=e(this,h,d.pan)}get pan(){return this._pan}};var wb=(t,e,n,r,o)=>()=>{let i=new WeakMap,s=(a,c)=>z(void 0,null,function*(){let u=n(a),l=we(u,c);if(!l){let d={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,pan:u.pan.value};u=e(c,d)}return i.set(c,u),l?yield t(c,a.pan,u.pan):yield r(c,a.pan,u.pan),En(u)?yield o(a,c,u.inputs[0]):yield o(a,c,u),u});return{render(a,c){let u=i.get(c);return u!==void 0?Promise.resolve(u):s(a,c)}}};var bb=t=>()=>{if(t===null)return!1;try{new t({length:1,sampleRate:44100})}catch{return!1}return!0};var Cb=(t,e)=>()=>z(void 0,null,function*(){if(t===null)return!0;if(e===null)return!1;let n=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),r=new e(1,128,44100),o=URL.createObjectURL(n),i=!1,s=!1;try{yield r.audioWorklet.addModule(o);let a=new t(r,"a",{numberOfOutputs:0}),c=r.createOscillator();a.port.onmessage=()=>i=!0,a.onprocessorerror=()=>s=!0,c.connect(a),c.start(0),yield r.startRendering(),yield new Promise(u=>setTimeout(u))}catch{}finally{URL.revokeObjectURL(o)}return i&&!s});var Db=(t,e)=>()=>{if(e===null)return Promise.resolve(!1);let n=new e(1,1,44100),r=t(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(o=>{n.oncomplete=()=>{r.disconnect(),o(n.currentTime!==0)},n.startRendering()})};var Pp=()=>new DOMException("","UnknownError");var DO={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},Sb=(t,e,n,r,o,i,s)=>class extends t{constructor(c,u){let l=o(c),d=w(w({},DO),u),h=n(l,d),p=i(l)?r():null;super(c,!0,h,p),this._isCurveNullified=!1,this._nativeWaveShaperNode=h,s(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(c){if(c===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(c.length<2)throw e();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=c}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(c){this._nativeWaveShaperNode.oversample=c}};var Tb=(t,e,n)=>()=>{let r=new WeakMap,o=(i,s)=>z(void 0,null,function*(){let a=e(i);if(!we(a,s)){let u={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,curve:a.curve,oversample:a.oversample};a=t(s,u)}return r.set(s,a),En(a)?yield n(i,s,a.inputs[0]):yield n(i,s,a),a});return{render(i,s){let a=r.get(s);return a!==void 0?Promise.resolve(a):o(i,s)}}};var Eb=()=>typeof window>"u"?null:window;var Ib=(t,e)=>n=>{n.copyFromChannel=(r,o,i=0)=>{let s=t(i),a=t(o);if(a>=n.numberOfChannels)throw e();let c=n.length,u=n.getChannelData(a),l=r.length;for(let d=s<0?-s:0;d+s<c&&d<l;d+=1)r[d]=u[d+s]},n.copyToChannel=(r,o,i=0)=>{let s=t(i),a=t(o);if(a>=n.numberOfChannels)throw e();let c=n.length,u=n.getChannelData(a),l=r.length;for(let d=s<0?-s:0;d+s<c&&d<l;d+=1)u[d+s]=r[d]}};var Ab=t=>e=>{e.copyFromChannel=(n=>(r,o,i=0)=>{let s=t(i),a=t(o);if(s<e.length)return n.call(e,r,a,s)})(e.copyFromChannel),e.copyToChannel=(n=>(r,o,i=0)=>{let s=t(i),a=t(o);if(s<e.length)return n.call(e,r,a,s)})(e.copyToChannel)};var Mb=t=>(e,n)=>{let r=n.createBuffer(1,1,44100);e.buffer===null&&(e.buffer=r),t(e,"buffer",o=>()=>{let i=o.call(e);return i===r?null:i},o=>i=>o.call(e,i===null?r:i))};var Nb=(t,e)=>(n,r)=>{r.channelCount=1,r.channelCountMode="explicit",Object.defineProperty(r,"channelCount",{get:()=>1,set:()=>{throw t()}}),Object.defineProperty(r,"channelCountMode",{get:()=>"explicit",set:()=>{throw t()}});let o=n.createBufferSource();e(r,()=>{let a=r.numberOfInputs;for(let c=0;c<a;c+=1)o.connect(r,0,c)},()=>o.disconnect(r))};var Vp=(t,e,n)=>t.copyFromChannel===void 0?t.getChannelData(n)[0]:(t.copyFromChannel(e,n),e[0]);var Lp=t=>{if(t===null)return!1;let e=t.length;return e%2!==0?t[Math.floor(e/2)]!==0:t[e/2-1]+t[e/2]!==0};var cs=(t,e,n,r)=>{let o=t;for(;!o.hasOwnProperty(e);)o=Object.getPrototypeOf(o);let{get:i,set:s}=Object.getOwnPropertyDescriptor(o,e);Object.defineProperty(t,e,{get:n(i),set:r(s)})};var Ob=t=>V(w({},t),{outputChannelCount:t.outputChannelCount!==void 0?t.outputChannelCount:t.numberOfInputs===1&&t.numberOfOutputs===1?[t.channelCount]:Array.from({length:t.numberOfOutputs},()=>1)});var kb=t=>V(w({},t),{channelCount:t.numberOfOutputs});var Rb=t=>{let{imag:e,real:n}=t;return e===void 0?n===void 0?V(w({},t),{imag:[0,0],real:[0,0]}):V(w({},t),{imag:Array.from(n,()=>0),real:n}):n===void 0?V(w({},t),{imag:e,real:Array.from(e,()=>0)}):V(w({},t),{imag:e,real:n})};var jp=(t,e,n)=>{try{t.setValueAtTime(e,n)}catch(r){if(r.code!==9)throw r;jp(t,e,n+1e-7)}};var Fb=t=>{let e=t.createBufferSource();e.start();try{e.start()}catch{return!0}return!1};var Pb=t=>{let e=t.createBufferSource(),n=t.createBuffer(1,1,44100);e.buffer=n;try{e.start(0,1)}catch{return!1}return!0};var Vb=t=>{let e=t.createBufferSource();e.start();try{e.stop()}catch{return!1}return!0};var sl=t=>{let e=t.createOscillator();try{e.start(-1)}catch(n){return n instanceof RangeError}return!1};var Bp=t=>{let e=t.createBuffer(1,1,44100),n=t.createBufferSource();n.buffer=e,n.start(),n.stop();try{return n.stop(),!0}catch{return!1}};var al=t=>{let e=t.createOscillator();try{e.stop(-1)}catch(n){return n instanceof RangeError}return!1};var Lb=t=>{let{port1:e,port2:n}=new MessageChannel;try{e.postMessage(t)}finally{e.close(),n.close()}};var jb=t=>{t.start=(e=>(n=0,r=0,o)=>{let i=t.buffer,s=i===null?r:Math.min(i.duration,r);i!==null&&s>i.duration-.5/t.context.sampleRate?e.call(t,n,0,0):e.call(t,n,s,o)})(t.start)};var Up=(t,e)=>{let n=e.createGain();t.connect(n);let r=(o=>()=>{o.call(t,n),t.removeEventListener("ended",r)})(t.disconnect);t.addEventListener("ended",r),In(t,n),t.stop=(o=>{let i=!1;return(s=0)=>{if(i)try{o.call(t,s)}catch{n.gain.setValueAtTime(0,s)}else o.call(t,s),i=!0}})(t.stop)};var Bo=(t,e)=>n=>{let r={value:t};return Object.defineProperties(n,{currentTarget:r,target:r}),typeof e=="function"?e.call(t,n):e.handleEvent.call(t,n)};var SO=Ix(Gn),TO=Lx(Gn),EO=Rw(ro),Ub=new WeakMap,IO=Qw(Ub),An=mw(new Map,new WeakMap),yr=Eb(),qb=S0(An,Tn),qp=Yw(mt),Et=pb(mt,qp,Rr),AO=qx(qb,Ne,Et),Ve=Jw(Zi),Fr=X0(yr),Oe=p0(Fr),$b=new WeakMap,Hb=$w(Bo),us=A0(yr),$p=l0(us),Hp=d0(yr),Wb=h0(yr),$a=N0(yr),tt=iw(Ax(Zu),Vx(SO,TO,Xi,EO,Ki,mt,IO,gr,Ne,Gn,jt,Rr,Ji),An,i0(ja,Ki,mt,Ne,Lo,jt),Tn,rs,Tt,Nw(Xi,ja,mt,Ne,Lo,Ve,jt,Oe),Vw($b,mt,ct),Hb,Ve,$p,Hp,Wb,Oe,$a),MO=Ux(tt,AO,Tn,qb,Ve,Oe);var Wp=new WeakSet,Bb=T0(yr),Gb=Sw(new Uint32Array(1)),Gp=Ib(Gb,Tn),zp=Ab(Gb),NO=$x(Wp,An,Tt,Bb,Fr,bb(Bb),Gp,zp);var cl=jx(Bt),zb=mb(qp,oo,Rr),_r=xw(zb),ls=I0(cl,An,Fb,Pb,Vb,sl,Bp,al,jb,Mb(cs),Up),xr=fb(Xw(oo),zb),OO=Gx(_r,ls,Ne,xr,Et),Zn=aw(Mx(Yu),$b,La,cw,Zt.createCancelAndHoldAutomationEvent,Zt.createCancelScheduledValuesAutomationEvent,Zt.createExponentialRampToValueAutomationEvent,Zt.createLinearRampToValueAutomationEvent,Zt.createSetTargetAutomationEvent,Zt.createSetValueAutomationEvent,Zt.createSetValueCurveAutomationEvent,us,jp),kO=Wx(tt,OO,Zn,Be,ls,Ve,Oe,Bo);var RO=ew(tt,tw,Tn,Be,M0(Bt,cs),Ve,Oe,Et),FO=pw(_r,Rp,Ne,xr,Et),Uo=yb(Ub),PO=fw(tt,Zn,FO,rs,Rp,Ve,Oe,Uo),ao=C0(Gn,Hp),VO=Nb(Be,ao),co=L0(us,VO),LO=vw(co,Ne,Et),jO=gw(tt,LO,co,Ve,Oe),BO=_w(ss,Ne,Et),UO=yw(tt,BO,ss,Ve,Oe,kb),qO=U0(cl,ls,Bt,ao),ds=B0(cl,An,qO,sl,al),$O=Dw(_r,ds,Ne,xr,Et),HO=Cw(tt,Zn,$O,ds,Ve,Oe,Bo),Zb=q0(Tt,cs),WO=Ew(Zb,Ne,Et),GO=Tw(tt,WO,Zb,Ve,Oe,Uo),zO=kw(_r,Fp,Ne,xr,Et),ZO=Ow(tt,Zn,zO,Fp,Ve,Oe,Uo),Yb=$0(Tt),YO=Bw(_r,Yb,Ne,xr,Et),QO=jw(tt,Zn,YO,Yb,Tt,Ve,Oe,Uo),XO=zw(_r,Bt,Ne,xr,Et),KO=Gw(tt,Zn,XO,Bt,Ve,Oe),JO=G0(rs,Be,as,Tt),ul=gb(An,Bt,as,Db(Bt,Fr)),ek=o0(ls,Ne,Fr,Et,ul),tk=H0(JO),nk=r0(tt,tk,ek,Ve,Oe,Uo),rk=nw(Zn,co,ds,as,Tt,Vp,Oe,cs),Qb=new WeakMap,Zp=w0(RO,rk,Hb,Oe,Qb,Bo),Xb=K0(cl,An,sl,Bp,al,Up),ok=cb(_r,Xb,Ne,xr,Et),ik=ab(tt,Zn,Xb,ok,Ve,Oe,Bo),Kb=bw(ls),sk=ib(Kb,Be,Bt,Lp,ao),ll=ob(Kb,Be,sk,Lp,ao,us,cs),ak=eb(Xi,Be,co,Bt,as,ll,Tt,Ki,Vp,ao),Jb=J0(ak),ck=lb(_r,co,ds,Bt,Jb,Ne,Fr,xr,Et,ul),uk=ub(tt,Zn,Jb,ck,Ve,Oe,Uo),lk=tb(Tn),dk=db(lk,Ve,new WeakSet,Rb),hk=rb(co,ss,Bt,ll,Tt,ao),eC=nb(hk,Tt),fk=wb(_r,eC,Ne,xr,Et),pk=xb(tt,Zn,eC,fk,Ve,Oe),mk=Tb(ll,Ne,Et),gk=Sb(tt,Be,ll,mk,Ve,Oe,Uo),tC=m0(yr),Yp=Hw(yr),nC=new WeakMap,vk=e0(nC,Fr),yk=tC?Px(An,Tt,qw(yr),Yp,Ww(Ex),Ve,vk,Oe,$a,new WeakMap,new WeakMap,Cb($a,Fr),yr):void 0,_k=f0($p,Oe),xk=Mw(Wp,An,Aw,Uw,new WeakSet,Ve,_k,Yi,zn,Gp,zp),rC=hw(yk,MO,NO,kO,PO,jO,UO,HO,GO,xk,ZO,QO,KO,nk,Zp,ik,uk,dk,pk,gk),wk=g0(tt,z0,Ve,Oe),bk=v0(tt,Z0,Ve,Oe),Ck=y0(tt,Y0,Ve,Oe),Dk=Q0(Be,Oe),Sk=_0(tt,Dk,Ve),oC=Jx(rC,Be,Tt,Pp,wk,bk,Ck,Sk,us);var Qp=t0(Qb),Tk=Bx(Qp),iC=ww(Tn),Ek=Fw(Qp),sC=Lw(Tn),aC=new WeakMap,Ik=Zw(aC,ct),Ak=V0(iC,Tn,Be,co,ss,ds,Bt,as,Tt,sC,Yp,Ik,ao),Mk=k0(Be,Ak,Bt,Tt,ao),Nk=dw(_r,iC,ls,co,ss,ds,Bt,Ek,sC,Yp,Ne,$a,Fr,xr,Et,ul),Ok=Kw(nC),kk=vb(aC),Xp=tC?uw(Tk,tt,Zn,Nk,Mk,mt,Ok,Ve,Oe,$a,Ob,kk,Lb,Bo):void 0;var Coe=x0(Be,Tt,Pp,Zp,us);var cC=Iw(Tt,Fr),uC=_b(Wp,An,qp,Qp,ul,Yi,Gp,zp),Doe=b0(An,Be,cC,Zp,uC);var lC=sb(rC,An,Be,cC,uC);var dC=s0(Zi,$p),hC=a0(zi,Hp),fC=c0(La,Wb),pC=u0(Zi,Oe);function G(t,e){if(!t)throw new Error(e)}function yt(t,e,n=1/0){if(!(e<=t&&t<=n))throw new RangeError(`Value must be within [${e}, ${n}], got: ${t}`)}function dl(t){!t.isOffline&&t.state!=="running"&&Ha('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}var mC=console;function gC(...t){mC.log(...t)}function Ha(...t){mC.warn(...t)}function ut(t){return typeof t>"u"}function te(t){return!ut(t)}function vC(t){return typeof t=="function"}function It(t){return typeof t=="number"}function Yn(t){return Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object}function hl(t){return typeof t=="boolean"}function nt(t){return Array.isArray(t)}function _t(t){return typeof t=="string"}function Wa(t){return _t(t)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(t)}function yC(t){return new oC(t)}function _C(t,e,n){return new lC(t,e,n)}var wr=typeof self=="object"?self:null,xC=wr&&(wr.hasOwnProperty("AudioContext")||wr.hasOwnProperty("webkitAudioContext"));function wC(t,e,n){return G(te(Xp),"This node only works in a secure context (https or localhost)"),new Xp(t,e,n)}var fl=class{constructor(e,n,r){this._callback=e,this._type=n,this._updateInterval=r,this._createClock()}_createWorker(){let e=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),n=URL.createObjectURL(e),r=new Worker(n);r.onmessage=this._callback.bind(this),this._worker=r}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&(clearTimeout(this._timeout),this._timeout=0),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(e){this._updateInterval=Math.max(e,128/44100),this._type==="worker"&&this._worker.postMessage(Math.max(e*1e3,1))}get type(){return this._type}set type(e){this._disposeClock(),this._type=e,this._createClock()}dispose(){this._disposeClock()}};function Qn(t){return fC(t)}function br(t){return hC(t)}function hs(t){return pC(t)}function uo(t){return dC(t)}function pl(t){return t instanceof AudioBuffer}function Pk(t,e){return t==="value"||Qn(e)||br(e)||pl(e)}function Xn(t,...e){if(!e.length)return t;let n=e.shift();if(Yn(t)&&Yn(n))for(let r in n)Pk(r,n[r])?t[r]=n[r]:Yn(n[r])?(t[r]||Object.assign(t,{[r]:{}}),Xn(t[r],n[r])):Object.assign(t,{[r]:n[r]});return Xn(t,...e)}function bC(t,e){return t.length===e.length&&t.every((n,r)=>e[r]===n)}function y(t,e,n=[],r){let o={},i=Array.from(e);if(Yn(i[0])&&r&&!Reflect.has(i[0],r)&&(Object.keys(i[0]).some(a=>Reflect.has(t,a))||(Xn(o,{[r]:i[0]}),n.splice(n.indexOf(r),1),i.shift())),i.length===1&&Yn(i[0]))Xn(o,i[0]);else for(let s=0;s<n.length;s++)te(i[s])&&(o[n[s]]=i[s]);return Xn(t,o)}function CC(t){return t.constructor.getDefaults()}function Yt(t,e){return ut(t)?e:t}function Cr(t,e){return e.forEach(n=>{Reflect.has(t,n)&&delete t[n]}),t}var Rt=(()=>{class t{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...n){(this.debug||wr&&this.toString()===wr.TONE_DEBUG_CLASS)&&gC(this,...n)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}return t.version=Ea,t})();function fs(t,e){return t>e+1e-6}function Ga(t,e){return fs(t,e)||Ut(t,e)}function ml(t,e){return t+1e-6<e}function Ut(t,e){return Math.abs(t-e)<1e-6}function Kp(t,e,n){return Math.max(Math.min(t,n),e)}var xt=class t extends Rt{constructor(){super(),this.name="Timeline",this._timeline=[];let e=y(t.getDefaults(),arguments,["memory"]);this.memory=e.memory,this.increasing=e.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(e){if(G(Reflect.has(e,"time"),"Timeline: events must have a time attribute"),e.time=e.time.valueOf(),this.increasing&&this.length){let n=this._timeline[this.length-1];G(Ga(e.time,n.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(e)}else{let n=this._search(e.time);this._timeline.splice(n+1,0,e)}if(this.length>this.memory){let n=this.length-this.memory;this._timeline.splice(0,n)}return this}remove(e){let n=this._timeline.indexOf(e);return n!==-1&&this._timeline.splice(n,1),this}get(e,n="time"){let r=this._search(e,n);return r!==-1?this._timeline[r]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(e,n="time"){let r=this._search(e,n);return r+1<this._timeline.length?this._timeline[r+1]:null}getBefore(e){let n=this._timeline.length;if(n>0&&this._timeline[n-1].time<e)return this._timeline[n-1];let r=this._search(e);return r-1>=0?this._timeline[r-1]:null}cancel(e){if(this._timeline.length>1){let n=this._search(e);if(n>=0)if(Ut(this._timeline[n].time,e)){for(let r=n;r>=0&&Ut(this._timeline[r].time,e);r--)n=r;this._timeline=this._timeline.slice(0,n)}else this._timeline=this._timeline.slice(0,n+1);else this._timeline=[]}else this._timeline.length===1&&Ga(this._timeline[0].time,e)&&(this._timeline=[]);return this}cancelBefore(e){let n=this._search(e);return n>=0&&(this._timeline=this._timeline.slice(n+1)),this}previousEvent(e){let n=this._timeline.indexOf(e);return n>0?this._timeline[n-1]:null}_search(e,n="time"){if(this._timeline.length===0)return-1;let r=0,o=this._timeline.length,i=o;if(o>0&&this._timeline[o-1][n]<=e)return o-1;for(;r<i;){let s=Math.floor(r+(i-r)/2),a=this._timeline[s],c=this._timeline[s+1];if(Ut(a[n],e)){for(let u=s;u<this._timeline.length;u++){let l=this._timeline[u];if(Ut(l[n],e))s=u;else break}return s}else{if(ml(a[n],e)&&fs(c[n],e))return s;fs(a[n],e)?i=s:r=s+1}}return-1}_iterate(e,n=0,r=this._timeline.length-1){this._timeline.slice(n,r+1).forEach(e)}forEach(e){return this._iterate(e),this}forEachBefore(e,n){let r=this._search(e);return r!==-1&&this._iterate(n,0,r),this}forEachAfter(e,n){let r=this._search(e);return this._iterate(n,r+1),this}forEachBetween(e,n,r){let o=this._search(e),i=this._search(n);return o!==-1&&i!==-1?(this._timeline[o].time!==e&&(o+=1),this._timeline[i].time===n&&(i-=1),this._iterate(r,o,i)):o===-1&&this._iterate(r,0,i),this}forEachFrom(e,n){let r=this._search(e);for(;r>=0&&this._timeline[r].time>=e;)r--;return this._iterate(n,r+1),this}forEachAtTime(e,n){let r=this._search(e);if(r!==-1&&Ut(this._timeline[r].time,e)){let o=r;for(let i=r;i>=0&&Ut(this._timeline[i].time,e);i--)o=i;this._iterate(i=>{n(i)},o,r)}return this}dispose(){return super.dispose(),this._timeline=[],this}};var DC=[];function lo(t){DC.push(t)}function SC(t){DC.forEach(e=>e(t))}var TC=[];function ho(t){TC.push(t)}function EC(t){TC.forEach(e=>e(t))}var fo=class t extends Rt{constructor(){super(...arguments),this.name="Emitter"}on(e,n){return e.split(/\W+/).forEach(o=>{ut(this._events)&&(this._events={}),this._events.hasOwnProperty(o)||(this._events[o]=[]),this._events[o].push(n)}),this}once(e,n){let r=(...o)=>{n(...o),this.off(e,r)};return this.on(e,r),this}off(e,n){return e.split(/\W+/).forEach(o=>{if(ut(this._events)&&(this._events={}),this._events.hasOwnProperty(e))if(ut(n))this._events[e]=[];else{let i=this._events[e];for(let s=i.length-1;s>=0;s--)i[s]===n&&i.splice(s,1)}}),this}emit(e,...n){if(this._events&&this._events.hasOwnProperty(e)){let r=this._events[e].slice(0);for(let o=0,i=r.length;o<i;o++)r[o].apply(this,n)}return this}static mixin(e){["on","once","off","emit"].forEach(n=>{let r=Object.getOwnPropertyDescriptor(t.prototype,n);Object.defineProperty(e.prototype,n,r)})}dispose(){return super.dispose(),this._events=void 0,this}};var ps=class extends fo{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}};var qo=class t extends ps{constructor(){super(),this.name="Context",this._constants=new Map,this._timeouts=new xt,this._timeoutIds=0,this._initialized=!1,this.isOffline=!1,this._workletModules=new Map;let e=y(t.getDefaults(),arguments,["context"]);e.context?this._context=e.context:this._context=yC({latencyHint:e.latencyHint}),this._ticker=new fl(this.emit.bind(this,"tick"),e.clockSource,e.updateInterval),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this._setLatencyHint(e.latencyHint),this.lookAhead=e.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(SC(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(e,n,r){return this._context.createBuffer(e,n,r)}createChannelMerger(e){return this._context.createChannelMerger(e)}createChannelSplitter(e){return this._context.createChannelSplitter(e)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(e){return this._context.createDelay(e)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(e,n){return this._context.createIIRFilter(e,n)}createPanner(){return this._context.createPanner()}createPeriodicWave(e,n,r){return this._context.createPeriodicWave(e,n,r)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(e){return G(uo(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(e)}createMediaElementSource(e){return G(uo(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(e)}createMediaStreamDestination(){return G(uo(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(e){return this._context.decodeAudioData(e)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(e){G(!this._initialized,"The listener cannot be set after initialization."),this._listener=e}get transport(){return this.initialize(),this._transport}set transport(e){G(!this._initialized,"The transport cannot be set after initialization."),this._transport=e}get draw(){return this.initialize(),this._draw}set draw(e){G(!this._initialized,"Draw cannot be set after initialization."),this._draw=e}get destination(){return this.initialize(),this._destination}set destination(e){G(!this._initialized,"The destination cannot be set after initialization."),this._destination=e}createAudioWorkletNode(e,n){return wC(this.rawContext,e,n)}addAudioWorkletModule(e,n){return ve(this,void 0,void 0,function*(){G(te(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletModules.has(n)||this._workletModules.set(n,this.rawContext.audioWorklet.addModule(e)),yield this._workletModules.get(n)})}workletsAreReady(){return ve(this,void 0,void 0,function*(){let e=[];this._workletModules.forEach(n=>e.push(n)),yield Promise.all(e)})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(e){this._ticker.updateInterval=e}get clockSource(){return this._ticker.type}set clockSource(e){this._ticker.type=e}get latencyHint(){return this._latencyHint}_setLatencyHint(e){let n=0;if(this._latencyHint=e,_t(e))switch(e){case"interactive":n=.1;break;case"playback":n=.5;break;case"balanced":n=.25;break}this.lookAhead=n,this.updateInterval=n/2}get rawContext(){return this._context}now(){return this._context.currentTime+this.lookAhead}immediate(){return this._context.currentTime}resume(){return uo(this._context)?this._context.resume():Promise.resolve()}close(){return ve(this,void 0,void 0,function*(){uo(this._context)&&(yield this._context.close()),this._initialized&&EC(this)})}getConstant(e){if(this._constants.has(e))return this._constants.get(e);{let n=this._context.createBuffer(1,128,this._context.sampleRate),r=n.getChannelData(0);for(let i=0;i<r.length;i++)r[i]=e;let o=this._context.createBufferSource();return o.channelCount=1,o.channelCountMode="explicit",o.buffer=n,o.loop=!0,o.start(0),this._constants.set(e,o),o}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(e=>this._constants[e].disconnect()),this}_timeoutLoop(){let e=this.now(),n=this._timeouts.peek();for(;this._timeouts.length&&n&&n.time<=e;)n.callback(),this._timeouts.shift(),n=this._timeouts.peek()}setTimeout(e,n){this._timeoutIds++;let r=this.now();return this._timeouts.add({callback:e,id:this._timeoutIds,time:r+n}),this._timeoutIds}clearTimeout(e){return this._timeouts.forEach(n=>{n.id===e&&this._timeouts.remove(n)}),this}clearInterval(e){return this.clearTimeout(e)}setInterval(e,n){let r=++this._timeoutIds,o=()=>{let i=this.now();this._timeouts.add({callback:()=>{e(),o()},id:r,time:i+n})};return o(),r}};var gl=class extends ps{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(e,n,r){return{}}createChannelMerger(e){return{}}createChannelSplitter(e){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(e){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(e,n){return{}}createPanner(){return{}}createPeriodicWave(e,n,r){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(e){return{}}createMediaElementSource(e){return{}}createMediaStreamDestination(){return{}}decodeAudioData(e){return Promise.resolve({})}createAudioWorkletNode(e,n){return{}}get rawContext(){return{}}addAudioWorkletModule(e,n){return ve(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(e,n){return 0}clearTimeout(e){return this}setInterval(e,n){return 0}clearInterval(e){return this}getConstant(e){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(e){}get destination(){return{}}set destination(e){}now(){return 0}immediate(){return 0}};function B(t,e){nt(e)?e.forEach(n=>B(t,n)):Object.defineProperty(t,e,{enumerable:!0,writable:!1})}function ms(t,e){nt(e)?e.forEach(n=>ms(t,n)):Object.defineProperty(t,e,{writable:!0})}var re=()=>{};var Ft=(()=>{class t extends Rt{constructor(){super(),this.name="ToneAudioBuffer",this.onload=re;let n=y(t.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=n.reverse,this.onload=n.onload,n.url&&pl(n.url)||n.url instanceof t?this.set(n.url):_t(n.url)&&this.load(n.url).catch(n.onerror)}static getDefaults(){return{onerror:re,onload:re,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:Ye().sampleRate}set(n){return n instanceof t?n.loaded?this._buffer=n.get():n.onload=()=>{this.set(n),this.onload(this)}:this._buffer=n,this._reversed&&this._reverse(),this}get(){return this._buffer}load(n){return ve(this,void 0,void 0,function*(){let r=t.load(n).then(o=>{this.set(o),this.onload(this)});t.downloads.push(r);try{yield r}finally{let o=t.downloads.indexOf(r);t.downloads.splice(o,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(n){let r=nt(n)&&n[0].length>0,o=r?n.length:1,i=r?n[0].length:n.length,s=Ye(),a=s.createBuffer(o,i,s.sampleRate),c=!r&&o===1?[n]:n;for(let u=0;u<o;u++)a.copyToChannel(c[u],u);return this._buffer=a,this}toMono(n){if(It(n))this.fromArray(this.toArray(n));else{let r=new Float32Array(this.length),o=this.numberOfChannels;for(let i=0;i<o;i++){let s=this.toArray(i);for(let a=0;a<s.length;a++)r[a]+=s[a]}r=r.map(i=>i/o),this.fromArray(r)}return this}toArray(n){if(It(n))return this.getChannelData(n);if(this.numberOfChannels===1)return this.toArray(0);{let r=[];for(let o=0;o<this.numberOfChannels;o++)r[o]=this.getChannelData(o);return r}}getChannelData(n){return this._buffer?this._buffer.getChannelData(n):new Float32Array(0)}slice(n,r=this.duration){let o=Math.floor(n*this.sampleRate),i=Math.floor(r*this.sampleRate);G(o<i,"The start time must be less than the end time");let s=i-o,a=Ye().createBuffer(this.numberOfChannels,s,this.sampleRate);for(let c=0;c<this.numberOfChannels;c++)a.copyToChannel(this.getChannelData(c).subarray(o,i),c);return new t(a)}_reverse(){if(this.loaded)for(let n=0;n<this.numberOfChannels;n++)this.getChannelData(n).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(n){this._reversed!==n&&(this._reversed=n,this._reverse())}static fromArray(n){return new t().fromArray(n)}static fromUrl(n){return ve(this,void 0,void 0,function*(){return yield new t().load(n)})}static load(n){return ve(this,void 0,void 0,function*(){let r=n.match(/\[([^\]\[]+\|.+)\]$/);if(r){let c=r[1].split("|"),u=c[0];for(let l of c)if(t.supportsType(l)){u=l;break}n=n.replace(r[0],u)}let o=t.baseUrl===""||t.baseUrl.endsWith("/")?t.baseUrl:t.baseUrl+"/",i=yield fetch(o+n);if(!i.ok)throw new Error(`could not load url: ${n}`);let s=yield i.arrayBuffer();return yield Ye().decodeAudioData(s)})}static supportsType(n){let r=n.split("."),o=r[r.length-1];return document.createElement("audio").canPlayType("audio/"+o)!==""}static loaded(){return ve(this,void 0,void 0,function*(){for(yield Promise.resolve();t.downloads.length;)yield t.downloads[0]})}}return t.baseUrl="",t.downloads=[],t})();var Dr=class extends qo{constructor(){super({clockSource:"offline",context:hs(arguments[0])?arguments[0]:_C(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:hs(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=hs(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(e){return ve(this,void 0,void 0,function*(){let n=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,n++;let r=Math.floor(this.sampleRate/128);e&&n%r===0&&(yield new Promise(o=>setTimeout(o,1)))}})}render(e=!0){return ve(this,void 0,void 0,function*(){yield this.workletsAreReady(),yield this._renderClock(e);let n=yield this._context.startRendering();return new Ft(n)})}close(){return Promise.resolve()}};var IC=new gl,gs=IC;function Ye(){return gs===IC&&xC&&Jp(new qo),gs}function Jp(t){uo(t)?gs=new qo(t):hs(t)?gs=new Dr(t):gs=t}function za(){return gs.resume()}if(wr&&!wr.TONE_SILENCE_LOGGING){let t="v";Ea==="dev"&&(t="");let e=` * Tone.js ${t}${Ea} * `;console.log(`%c${e}`,"background: #000; color: #fff")}function vs(t){return Math.pow(10,t/20)}function ys(t){return 20*(Math.log(t)/Math.LN10)}function $o(t){return Math.pow(2,t/12)}var vl=440;function AC(){return vl}function MC(t){vl=t}function Ho(t){return Math.round(em(t))}function em(t){return 69+12*Math.log2(t/vl)}function yl(t){return vl*Math.pow(2,(t-69)/12)}var _l=class t extends Rt{constructor(e,n,r){super(),this.defaultUnits="s",this._val=n,this._units=r,this.context=e,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:e=>this._frequencyToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:e=>this._ticksToUnits(parseInt(e,10)),regexp:/^(\d+)i$/i},m:{method:e=>this._beatsToUnits(parseInt(e,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(e,n)=>{let r=parseInt(e,10),o=n==="."?1.5:1;return r===1?this._beatsToUnits(this._getTimeSignature())*o:this._beatsToUnits(4/r)*o},regexp:/^(\d+)n(\.?)$/i},number:{method:e=>this._expressions[this.defaultUnits].method.call(this,e),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:e=>this._secondsToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:e=>parseInt(e,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:e=>{let n=parseInt(e,10);return this._beatsToUnits(8/(Math.floor(n)*3))},regexp:/^(\d+)t$/i},tr:{method:(e,n,r)=>{let o=0;return e&&e!=="0"&&(o+=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),n&&n!=="0"&&(o+=this._beatsToUnits(parseFloat(n))),r&&r!=="0"&&(o+=this._beatsToUnits(parseFloat(r)/4)),o},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof t&&this.fromType(this._val),ut(this._val))return this._noArg();if(_t(this._val)&&ut(this._units)){for(let e in this._expressions)if(this._expressions[e].regexp.test(this._val.trim())){this._units=e;break}}else if(Yn(this._val)){let e=0;for(let n in this._val)if(te(this._val[n])){let r=this._val[n],o=new this.constructor(this.context,n).valueOf()*r;e+=o}return e}if(te(this._units)){let e=this._expressions[this._units],n=this._val.toString().trim().match(e.regexp);return n?e.method.apply(this,n.slice(1)):e.method.call(this,this._val)}else return _t(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(e){return 1/e}_beatsToUnits(e){return 60/this._getBpm()*e}_secondsToUnits(e){return e}_ticksToUnits(e){return e*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(e){switch(this._units=void 0,this.defaultUnits){case"s":this._val=e.toSeconds();break;case"i":this._val=e.toTicks();break;case"hz":this._val=e.toFrequency();break;case"midi":this._val=e.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}};var Qt=class t extends _l{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:e=>this._now()+new this.constructor(this.context,e).valueOf(),regexp:/^\+(.+)/},quantize:{method:e=>{let n=new t(this.context,e).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(n))},regexp:/^@(.+)/}})}quantize(e,n=1){let r=new this.constructor(this.context,e).valueOf(),o=this.valueOf(),a=Math.round(o/r)*r-o;return o+a*n}toNotation(){let e=this.toSeconds(),n=["1m"];for(let i=1;i<9;i++){let s=Math.pow(2,i);n.push(s+"n."),n.push(s+"n"),n.push(s+"t")}n.push("0");let r=n[0],o=new t(this.context,n[0]).toSeconds();return n.forEach(i=>{let s=new t(this.context,i).toSeconds();Math.abs(s-e)<Math.abs(o-e)&&(r=i,o=s)}),r}toBarsBeatsSixteenths(){let e=this._beatsToUnits(1),n=this.valueOf()/e;n=parseFloat(n.toFixed(4));let r=Math.floor(n/this._getTimeSignature()),o=n%1*4;n=Math.floor(n)%this._getTimeSignature();let i=o.toString();return i.length>3&&(o=parseFloat(parseFloat(i).toFixed(3))),[r,n,o].join(":")}toTicks(){let e=this._beatsToUnits(1),n=this.valueOf()/e;return Math.round(n*this._getPPQ())}toSeconds(){return this.valueOf()}toMidi(){return Ho(this.toFrequency())}_now(){return this.context.now()}};function Mn(t,e){return new Qt(Ye(),t,e)}var Xt=class t extends Qt{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return AC()}static set A4(e){MC(e)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(e){return this.defaultUnits==="midi"?e:t.mtof(e)}},note:{regexp:/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i,method(e,n){let o=Vk[e.toLowerCase()]+(parseInt(n,10)+1)*12;return this.defaultUnits==="midi"?o:t.mtof(o)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(e,n,r){let o=1;return e&&e!=="0"&&(o*=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),n&&n!=="0"&&(o*=this._beatsToUnits(parseFloat(n))),r&&r!=="0"&&(o*=this._beatsToUnits(parseFloat(r)/4)),o}}})}transpose(e){return new t(this.context,this.valueOf()*$o(e))}harmonize(e){return e.map(n=>this.transpose(n))}toMidi(){return Ho(this.valueOf())}toNote(){let e=this.toFrequency(),n=Math.log2(e/t.A4),r=Math.round(12*n)+57,o=Math.floor(r/12);return o<0&&(r+=-12*o),Lk[r%12]+o.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){let e=this._beatsToUnits(1),n=this.valueOf()/e;return Math.floor(n*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(e){return e}_ticksToUnits(e){return 1/(e*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(e){return 1/super._beatsToUnits(e)}_secondsToUnits(e){return 1/e}static mtof(e){return yl(e)}static ftom(e){return Ho(e)}},Vk={cbb:-2,cb:-1,c:0,"c#":1,cx:2,dbb:0,db:1,d:2,"d#":3,dx:4,ebb:2,eb:3,e:4,"e#":5,ex:6,fbb:3,fb:4,f:5,"f#":6,fx:7,gbb:5,gb:6,g:7,"g#":8,gx:9,abb:7,ab:8,a:9,"a#":10,ax:11,bbb:9,bb:10,b:11,"b#":12,bx:13},Lk=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];var Nn=class extends Qt{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}};var Ue=class t extends Rt{constructor(){super();let e=y(t.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=e.context}static getDefaults(){return{context:Ye()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(e){return new Qt(this.context,e).toSeconds()}toFrequency(e){return new Xt(this.context,e).toFrequency()}toTicks(e){return new Nn(this.context,e).toTicks()}_getPartialProperties(e){let n=this.get();return Object.keys(n).forEach(r=>{ut(e[r])&&delete n[r]}),n}get(){let e=CC(this);return Object.keys(e).forEach(n=>{if(Reflect.has(this,n)){let r=this[n];te(r)&&te(r.value)&&te(r.setValueAtTime)?e[n]=r.value:r instanceof t?e[n]=r._getPartialProperties(e[n]):nt(r)||It(r)||_t(r)||hl(r)?e[n]=r:delete e[n]}}),e}set(e){return Object.keys(e).forEach(n=>{Reflect.has(this,n)&&te(this[n])&&(this[n]&&te(this[n].value)&&te(this[n].setValueAtTime)?this[n].value!==e[n]&&(this[n].value=e[n]):this[n]instanceof t?this[n].set(e[n]):this[n]=e[n])}),this}};var Kn=class extends xt{constructor(e="stopped"){super(),this.name="StateTimeline",this._initial=e,this.setStateAtTime(this._initial,0)}getValueAtTime(e){let n=this.get(e);return n!==null?n.state:this._initial}setStateAtTime(e,n,r){return yt(n,0),this.add(Object.assign({},r,{state:e,time:n})),this}getLastState(e,n){let r=this._search(n);for(let o=r;o>=0;o--){let i=this._timeline[o];if(i.state===e)return i}}getNextState(e,n){let r=this._search(n);if(r!==-1)for(let o=r;o<this._timeline.length;o++){let i=this._timeline[o];if(i.state===e)return i}}};var de=class t extends Ue{constructor(){super(y(t.getDefaults(),arguments,["param","units","convert"])),this.name="Param",this.overridden=!1,this._minOutput=1e-7;let e=y(t.getDefaults(),arguments,["param","units","convert"]);for(G(te(e.param)&&(Qn(e.param)||e.param instanceof t),"param must be an AudioParam");!Qn(e.param);)e.param=e.param._param;this._swappable=te(e.swappable)?e.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=e.param,this.input.connect(this._param)):this._param=this.input=e.param,this._events=new xt(1e3),this._initialValue=this._param.defaultValue,this.units=e.units,this.convert=e.convert,this._minValue=e.minValue,this._maxValue=e.maxValue,te(e.value)&&e.value!==this._toType(this._initialValue)&&this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(Ue.getDefaults(),{convert:!0,units:"number"})}get value(){let e=this.now();return this.getValueAtTime(e)}set value(e){this.cancelScheduledValues(this.now()),this.setValueAtTime(e,this.now())}get minValue(){return te(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return te(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(e,n){return this.units===n}_assertRange(e){return te(this.maxValue)&&te(this.minValue)&&yt(e,this._fromType(this.minValue),this._fromType(this.maxValue)),e}_fromType(e){return this.convert&&!this.overridden?this._is(e,"time")?this.toSeconds(e):this._is(e,"decibels")?vs(e):this._is(e,"frequency")?this.toFrequency(e):e:this.overridden?0:e}_toType(e){return this.convert&&this.units==="decibels"?ys(e):e}setValueAtTime(e,n){let r=this.toSeconds(n),o=this._fromType(e);return G(isFinite(o)&&isFinite(r),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._assertRange(o),this.log(this.units,"setValueAtTime",e,r),this._events.add({time:r,type:"setValueAtTime",value:o}),this._param.setValueAtTime(o,r),this}getValueAtTime(e){let n=Math.max(this.toSeconds(e),0),r=this._events.getAfter(n),o=this._events.get(n),i=this._initialValue;if(o===null)i=this._initialValue;else if(o.type==="setTargetAtTime"&&(r===null||r.type==="setValueAtTime")){let s=this._events.getBefore(o.time),a;s===null?a=this._initialValue:a=s.value,o.type==="setTargetAtTime"&&(i=this._exponentialApproach(o.time,a,o.value,o.constant,n))}else if(r===null)i=o.value;else if(r.type==="linearRampToValueAtTime"||r.type==="exponentialRampToValueAtTime"){let s=o.value;if(o.type==="setTargetAtTime"){let a=this._events.getBefore(o.time);a===null?s=this._initialValue:s=a.value}r.type==="linearRampToValueAtTime"?i=this._linearInterpolate(o.time,s,r.time,r.value,n):i=this._exponentialInterpolate(o.time,s,r.time,r.value,n)}else i=o.value;return this._toType(i)}setRampPoint(e){e=this.toSeconds(e);let n=this.getValueAtTime(e);return this.cancelAndHoldAtTime(e),this._fromType(n)===0&&(n=this._toType(this._minOutput)),this.setValueAtTime(n,e),this}linearRampToValueAtTime(e,n){let r=this._fromType(e),o=this.toSeconds(n);return G(isFinite(r)&&isFinite(o),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._assertRange(r),this._events.add({time:o,type:"linearRampToValueAtTime",value:r}),this.log(this.units,"linearRampToValueAtTime",e,o),this._param.linearRampToValueAtTime(r,o),this}exponentialRampToValueAtTime(e,n){let r=this._fromType(e);r=Ut(r,0)?this._minOutput:r,this._assertRange(r);let o=this.toSeconds(n);return G(isFinite(r)&&isFinite(o),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._events.add({time:o,type:"exponentialRampToValueAtTime",value:r}),this.log(this.units,"exponentialRampToValueAtTime",e,o),this._param.exponentialRampToValueAtTime(r,o),this}exponentialRampTo(e,n,r){return r=this.toSeconds(r),this.setRampPoint(r),this.exponentialRampToValueAtTime(e,r+this.toSeconds(n)),this}linearRampTo(e,n,r){return r=this.toSeconds(r),this.setRampPoint(r),this.linearRampToValueAtTime(e,r+this.toSeconds(n)),this}targetRampTo(e,n,r){return r=this.toSeconds(r),this.setRampPoint(r),this.exponentialApproachValueAtTime(e,r,n),this}exponentialApproachValueAtTime(e,n,r){n=this.toSeconds(n),r=this.toSeconds(r);let o=Math.log(r+1)/Math.log(200);return this.setTargetAtTime(e,n,o),this.cancelAndHoldAtTime(n+r*.9),this.linearRampToValueAtTime(e,n+r),this}setTargetAtTime(e,n,r){let o=this._fromType(e);G(isFinite(r)&&r>0,"timeConstant must be a number greater than 0");let i=this.toSeconds(n);return this._assertRange(o),G(isFinite(o)&&isFinite(i),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._events.add({constant:r,time:i,type:"setTargetAtTime",value:o}),this.log(this.units,"setTargetAtTime",e,i,r),this._param.setTargetAtTime(o,i,r),this}setValueCurveAtTime(e,n,r,o=1){r=this.toSeconds(r),n=this.toSeconds(n);let i=this._fromType(e[0])*o;this.setValueAtTime(this._toType(i),n);let s=r/(e.length-1);for(let a=1;a<e.length;a++){let c=this._fromType(e[a])*o;this.linearRampToValueAtTime(this._toType(c),n+a*s)}return this}cancelScheduledValues(e){let n=this.toSeconds(e);return G(isFinite(n),`Invalid argument to cancelScheduledValues: ${JSON.stringify(e)}`),this._events.cancel(n),this._param.cancelScheduledValues(n),this.log(this.units,"cancelScheduledValues",n),this}cancelAndHoldAtTime(e){let n=this.toSeconds(e),r=this._fromType(this.getValueAtTime(n));G(isFinite(n),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(e)}`),this.log(this.units,"cancelAndHoldAtTime",n,"value="+r);let o=this._events.get(n),i=this._events.getAfter(n);return o&&Ut(o.time,n)?i?(this._param.cancelScheduledValues(i.time),this._events.cancel(i.time)):(this._param.cancelAndHoldAtTime(n),this._events.cancel(n+this.sampleTime)):i&&(this._param.cancelScheduledValues(i.time),this._events.cancel(i.time),i.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(r),n):i.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(r),n)),this._events.add({time:n,type:"setValueAtTime",value:r}),this._param.setValueAtTime(r,n),this}rampTo(e,n=.1,r){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(e,n,r):this.linearRampTo(e,n,r),this}apply(e){let n=this.context.currentTime;e.setValueAtTime(this.getValueAtTime(n),n);let r=this._events.get(n);if(r&&r.type==="setTargetAtTime"){let o=this._events.getAfter(r.time),i=o?o.time:n+2,s=(i-n)/10;for(let a=n;a<i;a+=s)e.linearRampToValueAtTime(this.getValueAtTime(a),a)}return this._events.forEachAfter(this.context.currentTime,o=>{o.type==="cancelScheduledValues"?e.cancelScheduledValues(o.time):o.type==="setTargetAtTime"?e.setTargetAtTime(o.value,o.time,o.constant):e[o.type](o.value,o.time)}),this}setParam(e){G(this._swappable,"The Param must be assigned as 'swappable' in the constructor");let n=this.input;return n.disconnect(this._param),this.apply(e),this._param=e,n.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(e,n,r,o,i){return r+(n-r)*Math.exp(-(i-e)/o)}_linearInterpolate(e,n,r,o,i){return n+(o-n)*((i-e)/(r-e))}_exponentialInterpolate(e,n,r,o,i){return n*Math.pow(o/n,(i-e)/(r-e))}};var F=class t extends Ue{constructor(){super(...arguments),this.name="ToneAudioNode",this._internalChannels=[]}get numberOfInputs(){return te(this.input)?Qn(this.input)||this.input instanceof de?1:this.input.numberOfInputs:0}get numberOfOutputs(){return te(this.output)?this.output.numberOfOutputs:0}_isAudioNode(e){return te(e)&&(e instanceof t||br(e))}_getInternalNodes(){let e=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&e.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&e.push(this.output),e}_setChannelProperties(e){this._getInternalNodes().forEach(r=>{r.channelCount=e.channelCount,r.channelCountMode=e.channelCountMode,r.channelInterpretation=e.channelInterpretation})}_getChannelProperties(){let e=this._getInternalNodes();G(e.length>0,"ToneAudioNode does not have any internal nodes");let n=e[0];return{channelCount:n.channelCount,channelCountMode:n.channelCountMode,channelInterpretation:n.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(e){let n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelCount:e}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(e){let n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelCountMode:e}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(e){let n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelInterpretation:e}))}connect(e,n=0,r=0){return qt(this,e,n,r),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return Ha("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(e,n=0,r=0){return NC(this,e,n,r),this}chain(...e){return Jn(this,...e),this}fan(...e){return e.forEach(n=>this.connect(n)),this}dispose(){return super.dispose(),te(this.input)&&(this.input instanceof t?this.input.dispose():br(this.input)&&this.input.disconnect()),te(this.output)&&(this.output instanceof t?this.output.dispose():br(this.output)&&this.output.disconnect()),this._internalChannels=[],this}};function Jn(...t){let e=t.shift();t.reduce((n,r)=>(n instanceof F?n.connect(r):br(n)&&qt(n,r),r),e)}function qt(t,e,n=0,r=0){for(G(te(t),"Cannot connect from undefined node"),G(te(e),"Cannot connect to undefined node"),(e instanceof F||br(e))&&G(e.numberOfInputs>0,"Cannot connect to node with no inputs"),G(t.numberOfOutputs>0,"Cannot connect from node with no outputs");e instanceof F||e instanceof de;)te(e.input)&&(e=e.input);for(;t instanceof F;)te(t.output)&&(t=t.output);Qn(e)?t.connect(e,n):t.connect(e,n,r)}function NC(t,e,n=0,r=0){if(te(e))for(;e instanceof F;)e=e.input;for(;!br(t);)te(t.output)&&(t=t.output);Qn(e)?t.disconnect(e,n):br(e)?t.disconnect(e,n,r):t.disconnect()}var Q=class t extends F{constructor(){super(y(t.getDefaults(),arguments,["gain","units"])),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode;let e=y(t.getDefaults(),arguments,["gain","units"]);this.gain=new de({context:this.context,convert:e.convert,param:this._gainNode.gain,units:e.units,value:e.gain,minValue:e.minValue,maxValue:e.maxValue}),B(this,"gain")}static getDefaults(){return Object.assign(F.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}};var er=class extends F{constructor(e){super(e),this.onended=re,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new Q({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(n){let r=this.toSeconds(n);return this._startTime!==-1&&r>=this._startTime&&(this._stopTime===-1||r<=this._stopTime)?"started":"stopped"},this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut,this._curve=e.curve,this.onended=e.onended}static getDefaults(){return Object.assign(F.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:re})}_startGain(e,n=1){G(this._startTime===-1,"Source cannot be started more than once");let r=this.toSeconds(this._fadeIn);return this._startTime=e+r,this._startTime=Math.max(this._startTime,this.context.currentTime),r>0?(this._gainNode.gain.setValueAtTime(0,e),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(n,e+r):this._gainNode.gain.exponentialApproachValueAtTime(n,e,r)):this._gainNode.gain.setValueAtTime(n,e),this}stop(e){return this.log("stop",e),this._stopGain(this.toSeconds(e)),this}_stopGain(e){G(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();let n=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(e)+n,this._stopTime=Math.max(this._stopTime,this.context.currentTime),n>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,n,e):this._gainNode.gain.targetRampTo(0,n,e):(this._gainNode.gain.cancelAndHoldAtTime(e),this._gainNode.gain.setValueAtTime(0,e)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{let r=this._curve==="exponential"?n*2:0;this._stopSource(this.now()+r),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==re&&(this.onended(this),this.onended=re,!this.context.isOffline)){let e=()=>this.dispose();typeof window.requestIdleCallback<"u"?window.requestIdleCallback(e):setTimeout(e,1e3)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),G(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.disconnect(),this}};var Za=class t extends er{constructor(){super(y(t.getDefaults(),arguments,["offset"])),this.name="ToneConstantSource",this._source=this.context.createConstantSource();let e=y(t.getDefaults(),arguments,["offset"]);qt(this._source,this._gainNode),this.offset=new de({context:this.context,convert:e.convert,param:this._source.offset,units:e.units,value:e.offset,minValue:e.minValue,maxValue:e.maxValue})}static getDefaults(){return Object.assign(er.getDefaults(),{convert:!0,offset:1,units:"number"})}start(e){let n=this.toSeconds(e);return this.log("start",n),this._startGain(n),this._source.start(n),this}_stopSource(e){this._source.stop(e)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}};var ie=class t extends F{constructor(){super(y(t.getDefaults(),arguments,["value","units"])),this.name="Signal",this.override=!0;let e=y(t.getDefaults(),arguments,["value","units"]);this.output=this._constantSource=new Za({context:this.context,convert:e.convert,offset:e.value,units:e.units,minValue:e.minValue,maxValue:e.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(F.getDefaults(),{convert:!0,units:"number",value:0})}connect(e,n=0,r=0){return _s(this,e,n,r),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(e,n){return this._param.setValueAtTime(e,n),this}getValueAtTime(e){return this._param.getValueAtTime(e)}setRampPoint(e){return this._param.setRampPoint(e),this}linearRampToValueAtTime(e,n){return this._param.linearRampToValueAtTime(e,n),this}exponentialRampToValueAtTime(e,n){return this._param.exponentialRampToValueAtTime(e,n),this}exponentialRampTo(e,n,r){return this._param.exponentialRampTo(e,n,r),this}linearRampTo(e,n,r){return this._param.linearRampTo(e,n,r),this}targetRampTo(e,n,r){return this._param.targetRampTo(e,n,r),this}exponentialApproachValueAtTime(e,n,r){return this._param.exponentialApproachValueAtTime(e,n,r),this}setTargetAtTime(e,n,r){return this._param.setTargetAtTime(e,n,r),this}setValueCurveAtTime(e,n,r,o){return this._param.setValueCurveAtTime(e,n,r,o),this}cancelScheduledValues(e){return this._param.cancelScheduledValues(e),this}cancelAndHoldAtTime(e){return this._param.cancelAndHoldAtTime(e),this}rampTo(e,n,r){return this._param.rampTo(e,n,r),this}get value(){return this._param.value}set value(e){this._param.value=e}get convert(){return this._param.convert}set convert(e){this._param.convert=e}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(e){this._param.overridden=e}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(e){return this._param.apply(e),this}};function _s(t,e,n,r){(e instanceof de||Qn(e)||e instanceof ie&&e.override)&&(e.cancelScheduledValues(0),e.setValueAtTime(0,0),e instanceof ie&&(e.overridden=!0)),qt(t,e,n,r)}var xl=class t extends de{constructor(){super(y(t.getDefaults(),arguments,["value"])),this.name="TickParam",this._events=new xt(1/0),this._multiplier=1;let e=y(t.getDefaults(),arguments,["value"]);this._multiplier=e.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(e.value)}),this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(de.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(e,n,r){n=this.toSeconds(n),this.setRampPoint(n);let o=this._fromType(e),i=this._events.get(n),s=Math.round(Math.max(1/r,1));for(let a=0;a<=s;a++){let c=r*a+n,u=this._exponentialApproach(i.time,i.value,o,r,c);this.linearRampToValueAtTime(this._toType(u),c)}return this}setValueAtTime(e,n){let r=this.toSeconds(n);super.setValueAtTime(e,n);let o=this._events.get(r),i=this._events.previousEvent(o),s=this._getTicksUntilEvent(i,r);return o.ticks=Math.max(s,0),this}linearRampToValueAtTime(e,n){let r=this.toSeconds(n);super.linearRampToValueAtTime(e,n);let o=this._events.get(r),i=this._events.previousEvent(o),s=this._getTicksUntilEvent(i,r);return o.ticks=Math.max(s,0),this}exponentialRampToValueAtTime(e,n){n=this.toSeconds(n);let r=this._fromType(e),o=this._events.get(n),i=Math.round(Math.max((n-o.time)*10,1)),s=(n-o.time)/i;for(let a=0;a<=i;a++){let c=s*a+o.time,u=this._exponentialInterpolate(o.time,o.value,n,r,c);this.linearRampToValueAtTime(this._toType(u),c)}return this}_getTicksUntilEvent(e,n){if(e===null)e={ticks:0,time:0,type:"setValueAtTime",value:0};else if(ut(e.ticks)){let s=this._events.previousEvent(e);e.ticks=this._getTicksUntilEvent(s,e.time)}let r=this._fromType(this.getValueAtTime(e.time)),o=this._fromType(this.getValueAtTime(n)),i=this._events.get(n);return i&&i.time===n&&i.type==="setValueAtTime"&&(o=this._fromType(this.getValueAtTime(n-this.sampleTime))),.5*(n-e.time)*(r+o)+e.ticks}getTicksAtTime(e){let n=this.toSeconds(e),r=this._events.get(n);return Math.max(this._getTicksUntilEvent(r,n),0)}getDurationOfTicks(e,n){let r=this.toSeconds(n),o=this.getTicksAtTime(n);return this.getTimeOfTick(o+e)-r}getTimeOfTick(e){let n=this._events.get(e,"ticks"),r=this._events.getAfter(e,"ticks");if(n&&n.ticks===e)return n.time;if(n&&r&&r.type==="linearRampToValueAtTime"&&n.value!==r.value){let o=this._fromType(this.getValueAtTime(n.time)),s=(this._fromType(this.getValueAtTime(r.time))-o)/(r.time-n.time),a=Math.sqrt(Math.pow(o,2)-2*s*(n.ticks-e)),c=(-o+a)/s,u=(-o-a)/s;return(c>0?c:u)+n.time}else return n?n.value===0?1/0:n.time+(e-n.ticks)/n.value:e/this._initialValue}ticksToTime(e,n){return this.getDurationOfTicks(e,n)}timeToTicks(e,n){let r=this.toSeconds(n),o=this.toSeconds(e),i=this.getTicksAtTime(r);return this.getTicksAtTime(r+o)-i}_fromType(e){return this.units==="bpm"&&this.multiplier?1/(60/e/this.multiplier):super._fromType(e)}_toType(e){return this.units==="bpm"&&this.multiplier?e/this.multiplier*60:super._toType(e)}get multiplier(){return this._multiplier}set multiplier(e){let n=this.value;this._multiplier=e,this.cancelScheduledValues(0),this.setValueAtTime(n,0)}};var wl=class t extends ie{constructor(){super(y(t.getDefaults(),arguments,["value"])),this.name="TickSignal";let e=y(t.getDefaults(),arguments,["value"]);this.input=this._param=new xl({context:this.context,convert:e.convert,multiplier:e.multiplier,param:this._constantSource.offset,units:e.units,value:e.value})}static getDefaults(){return Object.assign(ie.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(e,n){return this._param.ticksToTime(e,n)}timeToTicks(e,n){return this._param.timeToTicks(e,n)}getTimeOfTick(e){return this._param.getTimeOfTick(e)}getDurationOfTicks(e,n){return this._param.getDurationOfTicks(e,n)}getTicksAtTime(e){return this._param.getTicksAtTime(e)}get multiplier(){return this._param.multiplier}set multiplier(e){this._param.multiplier=e}dispose(){return super.dispose(),this._param.dispose(),this}};var bl=class t extends Ue{constructor(){super(y(t.getDefaults(),arguments,["frequency"])),this.name="TickSource",this._state=new Kn,this._tickOffset=new xt;let e=y(t.getDefaults(),arguments,["frequency"]);this.frequency=new wl({context:this.context,units:e.units,value:e.frequency}),B(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},Ue.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(e,n){let r=this.toSeconds(e);return this._state.getValueAtTime(r)!=="started"&&(this._state.setStateAtTime("started",r),te(n)&&this.setTicksAtTime(n,r)),this}stop(e){let n=this.toSeconds(e);if(this._state.getValueAtTime(n)==="stopped"){let r=this._state.get(n);r&&r.time>0&&(this._tickOffset.cancel(r.time),this._state.cancel(r.time))}return this._state.cancel(n),this._state.setStateAtTime("stopped",n),this.setTicksAtTime(0,n),this}pause(e){let n=this.toSeconds(e);return this._state.getValueAtTime(n)==="started"&&this._state.setStateAtTime("paused",n),this}cancel(e){return e=this.toSeconds(e),this._state.cancel(e),this._tickOffset.cancel(e),this}getTicksAtTime(e){let n=this.toSeconds(e),r=this._state.getLastState("stopped",n),o={state:"paused",time:n};this._state.add(o);let i=r,s=0;return this._state.forEachBetween(r.time,n+this.sampleTime,a=>{let c=i.time,u=this._tickOffset.get(a.time);u&&u.time>=i.time&&(s=u.ticks,c=u.time),i.state==="started"&&a.state!=="started"&&(s+=this.frequency.getTicksAtTime(a.time)-this.frequency.getTicksAtTime(c)),i=a}),this._state.remove(o),s}get ticks(){return this.getTicksAtTime(this.now())}set ticks(e){this.setTicksAtTime(e,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(e){let n=this.now(),r=this.frequency.timeToTicks(e,n);this.setTicksAtTime(r,n)}getSecondsAtTime(e){e=this.toSeconds(e);let n=this._state.getLastState("stopped",e),r={state:"paused",time:e};this._state.add(r);let o=n,i=0;return this._state.forEachBetween(n.time,e+this.sampleTime,s=>{let a=o.time,c=this._tickOffset.get(s.time);c&&c.time>=o.time&&(i=c.seconds,a=c.time),o.state==="started"&&s.state!=="started"&&(i+=s.time-a),o=s}),this._state.remove(r),i}setTicksAtTime(e,n){return n=this.toSeconds(n),this._tickOffset.cancel(n),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(e,n),ticks:e,time:n}),this}getStateAtTime(e){return e=this.toSeconds(e),this._state.getValueAtTime(e)}getTimeOfTick(e,n=this.now()){let r=this._tickOffset.get(n),o=this._state.get(n),i=Math.max(r.time,o.time),s=this.frequency.getTicksAtTime(i)+e-r.ticks;return this.frequency.getTimeOfTick(s)}forEachTickBetween(e,n,r){let o=this._state.get(e);this._state.forEachBetween(e,n,s=>{o&&o.state==="started"&&s.state!=="started"&&this.forEachTickBetween(Math.max(o.time,e),s.time-this.sampleTime,r),o=s});let i=null;if(o&&o.state==="started"){let s=Math.max(o.time,e),a=this.frequency.getTicksAtTime(s),c=this.frequency.getTicksAtTime(o.time),u=a-c,l=Math.ceil(u)-u;l=Ut(l,1)?0:l;let d=this.frequency.getTimeOfTick(a+l);for(;d<n;){try{r(d,Math.round(this.getTicksAtTime(d)))}catch(h){i=h;break}d+=this.frequency.getDurationOfTicks(1,d)}}if(i)throw i;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this.frequency.dispose(),this}};var xs=class t extends Ue{constructor(){super(y(t.getDefaults(),arguments,["callback","frequency"])),this.name="Clock",this.callback=re,this._lastUpdate=0,this._state=new Kn("stopped"),this._boundLoop=this._loop.bind(this);let e=y(t.getDefaults(),arguments,["callback","frequency"]);this.callback=e.callback,this._tickSource=new bl({context:this.context,frequency:e.frequency,units:e.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,B(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(Ue.getDefaults(),{callback:re,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(e,n){dl(this.context);let r=this.toSeconds(e);return this.log("start",r),this._state.getValueAtTime(r)!=="started"&&(this._state.setStateAtTime("started",r),this._tickSource.start(r,n),r<this._lastUpdate&&this.emit("start",r,n)),this}stop(e){let n=this.toSeconds(e);return this.log("stop",n),this._state.cancel(n),this._state.setStateAtTime("stopped",n),this._tickSource.stop(n),n<this._lastUpdate&&this.emit("stop",n),this}pause(e){let n=this.toSeconds(e);return this._state.getValueAtTime(n)==="started"&&(this._state.setStateAtTime("paused",n),this._tickSource.pause(n),n<this._lastUpdate&&this.emit("pause",n)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(e){this._tickSource.ticks=e}get seconds(){return this._tickSource.seconds}set seconds(e){this._tickSource.seconds=e}getSecondsAtTime(e){return this._tickSource.getSecondsAtTime(e)}setTicksAtTime(e,n){return this._tickSource.setTicksAtTime(e,n),this}getTimeOfTick(e,n=this.now()){return this._tickSource.getTimeOfTick(e,n)}getTicksAtTime(e){return this._tickSource.getTicksAtTime(e)}nextTickTime(e,n){let r=this.toSeconds(n),o=this.getTicksAtTime(r);return this._tickSource.getTimeOfTick(o+e,r)}_loop(){let e=this._lastUpdate,n=this.now();this._lastUpdate=n,this.log("loop",e,n),e!==n&&(this._state.forEachBetween(e,n,r=>{switch(r.state){case"started":let o=this._tickSource.getTicksAtTime(r.time);this.emit("start",r.time,o);break;case"stopped":r.time!==0&&this.emit("stop",r.time);break;case"paused":this.emit("pause",r.time);break}}),this._tickSource.forEachTickBetween(e,n,(r,o)=>{this.callback(r,o)}))}getStateAtTime(e){let n=this.toSeconds(e);return this._state.getValueAtTime(n)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}};fo.mixin(xs);var ws=class t extends Rt{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;let e=y(t.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=e.baseUrl,Object.keys(e.urls).forEach(n=>{this._loadingCount++;let r=e.urls[n];this.add(n,r,this._bufferLoaded.bind(this,e.onload),e.onerror)})}static getDefaults(){return{baseUrl:"",onerror:re,onload:re,urls:{}}}has(e){return this._buffers.has(e.toString())}get(e){return G(this.has(e),`ToneAudioBuffers has no buffer named: ${e}`),this._buffers.get(e.toString())}_bufferLoaded(e){this._loadingCount--,this._loadingCount===0&&e&&e()}get loaded(){return Array.from(this._buffers).every(([e,n])=>n.loaded)}add(e,n,r=re,o=re){return _t(n)?this._buffers.set(e.toString(),new Ft(this.baseUrl+n,r,o)):this._buffers.set(e.toString(),new Ft(n,r,o)),this}dispose(){return super.dispose(),this._buffers.forEach(e=>e.dispose()),this._buffers.clear(),this}};var Qe=class extends Nn{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(e){return this._getPPQ()*e}_secondsToUnits(e){return Math.floor(e/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(e){return e}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}};var tm=class extends Ue{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new xt,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(e,n){return this._events.add({callback:e,time:this.toSeconds(n)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(e){return this._events.cancel(this.toSeconds(e)),this}_drawLoop(){let e=this.context.currentTime;for(;this._events.length&&this._events.peek().time-this.anticipation<=e;){let n=this._events.shift();n&&e-n.time<=this.expiration&&n.callback()}this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}};lo(t=>{t.draw=new tm({context:t})});ho(t=>{t.draw.dispose()});var Cl=class extends Rt{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(e){G(te(e.time),"Events must have a time property"),G(te(e.duration),"Events must have a duration parameter"),e.time=e.time.valueOf();let n=new nm(e.time,e.time+e.duration,e);for(this._root===null?this._root=n:this._root.insert(n),this._length++;n!==null;)n.updateHeight(),n.updateMax(),this._rebalance(n),n=n.parent;return this}remove(e){if(this._root!==null){let n=[];this._root.search(e.time,n);for(let r of n)if(r.event===e){this._removeNode(r),this._length--;break}}return this}get length(){return this._length}cancel(e){return this.forEachFrom(e,n=>this.remove(n)),this}_setRoot(e){this._root=e,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(e,n){e.parent!==null?(e.isLeftChild()?e.parent.left=n:e.parent.right=n,this._rebalance(e.parent)):this._setRoot(n)}_removeNode(e){if(e.left===null&&e.right===null)this._replaceNodeInParent(e,null);else if(e.right===null)this._replaceNodeInParent(e,e.left);else if(e.left===null)this._replaceNodeInParent(e,e.right);else{let n=e.getBalance(),r,o=null;if(n>0)if(e.left.right===null)r=e.left,r.right=e.right,o=r;else{for(r=e.left.right;r.right!==null;)r=r.right;r.parent&&(r.parent.right=r.left,o=r.parent,r.left=e.left,r.right=e.right)}else if(e.right.left===null)r=e.right,r.left=e.left,o=r;else{for(r=e.right.left;r.left!==null;)r=r.left;r.parent&&(r.parent.left=r.right,o=r.parent,r.left=e.left,r.right=e.right)}e.parent!==null?e.isLeftChild()?e.parent.left=r:e.parent.right=r:this._setRoot(r),o&&this._rebalance(o)}e.dispose()}_rotateLeft(e){let n=e.parent,r=e.isLeftChild(),o=e.right;o&&(e.right=o.left,o.left=e),n!==null?r?n.left=o:n.right=o:this._setRoot(o)}_rotateRight(e){let n=e.parent,r=e.isLeftChild(),o=e.left;o&&(e.left=o.right,o.right=e),n!==null?r?n.left=o:n.right=o:this._setRoot(o)}_rebalance(e){let n=e.getBalance();n>1&&e.left?e.left.getBalance()<0?this._rotateLeft(e.left):this._rotateRight(e):n<-1&&e.right&&(e.right.getBalance()>0?this._rotateRight(e.right):this._rotateLeft(e))}get(e){if(this._root!==null){let n=[];if(this._root.search(e,n),n.length>0){let r=n[0];for(let o=1;o<n.length;o++)n[o].low>r.low&&(r=n[o]);return r.event}}return null}forEach(e){if(this._root!==null){let n=[];this._root.traverse(r=>n.push(r)),n.forEach(r=>{r.event&&e(r.event)})}return this}forEachAtTime(e,n){if(this._root!==null){let r=[];this._root.search(e,r),r.forEach(o=>{o.event&&n(o.event)})}return this}forEachFrom(e,n){if(this._root!==null){let r=[];this._root.searchAfter(e,r),r.forEach(o=>{o.event&&n(o.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(e=>e.dispose()),this._root=null,this}},nm=class{constructor(e,n,r){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=r,this.low=e,this.high=n,this.max=this.high}insert(e){e.low<=this.low?this.left===null?this.left=e:this.left.insert(e):this.right===null?this.right=e:this.right.insert(e)}search(e,n){e>this.max||(this.left!==null&&this.left.search(e,n),this.low<=e&&this.high>e&&n.push(this),!(this.low>e)&&this.right!==null&&this.right.search(e,n))}searchAfter(e,n){this.low>=e&&(n.push(this),this.left!==null&&this.left.searchAfter(e,n)),this.right!==null&&this.right.searchAfter(e,n)}traverse(e){e(this),this.left!==null&&this.left.traverse(e),this.right!==null&&this.right.traverse(e)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let e=0;return this.left!==null&&this.right!==null?e=this.left.height-this.right.height:this.left!==null?e=this.left.height+1:this.right!==null&&(e=-(this.right.height+1)),e}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(e){this._left=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(e){this._right=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}};var On=class t extends F{constructor(){super(y(t.getDefaults(),arguments,["volume"])),this.name="Volume";let e=y(t.getDefaults(),arguments,["volume"]);this.input=this.output=new Q({context:this.context,gain:e.volume,units:"decibels"}),this.volume=this.output.gain,B(this,"volume"),this._unmutedVolume=e.volume,this.mute=e.mute}static getDefaults(){return Object.assign(F.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(e){!this.mute&&e?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!e&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}};var rm=class t extends F{constructor(){super(y(t.getDefaults(),arguments)),this.name="Destination",this.input=new On({context:this.context}),this.output=new Q({context:this.context}),this.volume=this.input.volume;let e=y(t.getDefaults(),arguments);Jn(this.input,this.output,this.context.rawContext.destination),this.mute=e.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(F.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(e){this.input.mute=e}chain(...e){return this.input.disconnect(),e.unshift(this.input),e.push(this.output),Jn(...e),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}};lo(t=>{t.destination=new rm({context:t})});ho(t=>{t.destination.dispose()});var Dl=class extends Rt{constructor(e){super(),this.name="TimelineValue",this._timeline=new xt({memory:10}),this._initialValue=e}set(e,n){return this._timeline.add({value:e,time:n}),this}get(e){let n=this._timeline.get(e);return n?n.value:this._initialValue}};var bs=(()=>{class t{constructor(n,r){this.id=t._eventId++;let o=Object.assign(t.getDefaults(),r);this.transport=n,this.callback=o.callback,this._once=o.once,this.time=o.time}static getDefaults(){return{callback:re,once:!1,time:0}}invoke(n){this.callback&&(this.callback(n),this._once&&this.transport.clear(this.id))}dispose(){return this.callback=void 0,this}}return t._eventId=0,t})();var Sl=class t extends bs{constructor(e,n){super(e,n),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);let r=Object.assign(t.getDefaults(),n);this.duration=new Qe(e.context,r.duration).valueOf(),this._interval=new Qe(e.context,r.interval).valueOf(),this._nextTick=r.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},bs.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(e){this._createEvents(e),super.invoke(e)}_createEvents(e){let n=this.transport.getTicksAtTime(e);n>=this.time&&n>=this._nextTick&&this._nextTick+this._interval<this.time+this.duration&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new Qe(this.context,this._nextTick).toSeconds()))}_restart(e){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.time;let n=this.transport.getTicksAtTime(e);n>this.time&&(this._nextTick=this.time+Math.ceil((n-this.time)/this._interval)*this._interval),this._currentId=this.transport.scheduleOnce(this.invoke.bind(this),new Qe(this.context,this._nextTick).toSeconds()),this._nextTick+=this._interval,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new Qe(this.context,this._nextTick).toSeconds())}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this}};var Tl=class t extends Ue{constructor(){super(y(t.getDefaults(),arguments)),this.name="Transport",this._loop=new Dl(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new xt,this._repeatedEvents=new Cl,this._syncedSignals=[],this._swingAmount=0;let e=y(t.getDefaults(),arguments);this._ppq=e.ppq,this._clock=new xs({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=e.ppq,this.bpm.setValueAtTime(e.bpm,0),B(this,"bpm"),this._timeSignature=e.timeSignature,this._swingTicks=e.ppq/2}static getDefaults(){return Object.assign(Ue.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(e,n){if(this._loop.get(e)&&n>=this._loopEnd&&(this.emit("loopEnd",e),this._clock.setTicksAtTime(this._loopStart,e),n=this._loopStart,this.emit("loopStart",e,this._clock.getSecondsAtTime(e)),this.emit("loop",e)),this._swingAmount>0&&n%this._ppq!==0&&n%(this._swingTicks*2)!==0){let r=n%(this._swingTicks*2)/(this._swingTicks*2),o=Math.sin(r*Math.PI)*this._swingAmount;e+=new Qe(this.context,this._swingTicks*2/3).toSeconds()*o}this._timeline.forEachAtTime(n,r=>r.invoke(e))}schedule(e,n){let r=new bs(this,{callback:e,time:new Nn(this.context,n).toTicks()});return this._addEvent(r,this._timeline)}scheduleRepeat(e,n,r,o=1/0){let i=new Sl(this,{callback:e,duration:new Qt(this.context,o).toTicks(),interval:new Qt(this.context,n).toTicks(),time:new Nn(this.context,r).toTicks()});return this._addEvent(i,this._repeatedEvents)}scheduleOnce(e,n){let r=new bs(this,{callback:e,once:!0,time:new Nn(this.context,n).toTicks()});return this._addEvent(r,this._timeline)}clear(e){if(this._scheduledEvents.hasOwnProperty(e)){let n=this._scheduledEvents[e.toString()];n.timeline.remove(n.event),n.event.dispose(),delete this._scheduledEvents[e.toString()]}return this}_addEvent(e,n){return this._scheduledEvents[e.id.toString()]={event:e,timeline:n},n.add(e),e.id}cancel(e=0){let n=this.toTicks(e);return this._timeline.forEachFrom(n,r=>this.clear(r.id)),this._repeatedEvents.forEachFrom(n,r=>this.clear(r.id)),this}_bindClockEvents(){this._clock.on("start",(e,n)=>{n=new Qe(this.context,n).toSeconds(),this.emit("start",e,n)}),this._clock.on("stop",e=>{this.emit("stop",e)}),this._clock.on("pause",e=>{this.emit("pause",e)})}get state(){return this._clock.getStateAtTime(this.now())}start(e,n){let r;return te(n)&&(r=this.toTicks(n)),this._clock.start(e,r),this}stop(e){return this._clock.stop(e),this}pause(e){return this._clock.pause(e),this}toggle(e){return e=this.toSeconds(e),this._clock.getStateAtTime(e)!=="started"?this.start(e):this.stop(e),this}get timeSignature(){return this._timeSignature}set timeSignature(e){nt(e)&&(e=e[0]/e[1]*4),this._timeSignature=e}get loopStart(){return new Qt(this.context,this._loopStart,"i").toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e)}get loopEnd(){return new Qt(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e)}get loop(){return this._loop.get(this.now())}set loop(e){this._loop.set(e,this.now())}setLoopPoints(e,n){return this.loopStart=e,this.loopEnd=n,this}get swing(){return this._swingAmount}set swing(e){this._swingAmount=e}get swingSubdivision(){return new Qe(this.context,this._swingTicks).toNotation()}set swingSubdivision(e){this._swingTicks=this.toTicks(e)}get position(){let e=this.now(),n=this._clock.getTicksAtTime(e);return new Qe(this.context,n).toBarsBeatsSixteenths()}set position(e){let n=this.toTicks(e);this.ticks=n}get seconds(){return this._clock.seconds}set seconds(e){let n=this.now(),r=this._clock.frequency.timeToTicks(e,n);this.ticks=r}get progress(){if(this.loop){let e=this.now();return(this._clock.getTicksAtTime(e)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(e){if(this._clock.ticks!==e){let n=this.now();if(this.state==="started"){let r=this._clock.getTicksAtTime(n),o=this._clock.frequency.getDurationOfTicks(Math.ceil(r)-r,n),i=n+o;this.emit("stop",i),this._clock.setTicksAtTime(e,i),this.emit("start",i,this._clock.getSecondsAtTime(i))}else this._clock.setTicksAtTime(e,n)}}getTicksAtTime(e){return Math.round(this._clock.getTicksAtTime(e))}getSecondsAtTime(e){return this._clock.getSecondsAtTime(e)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(e){this._clock.frequency.multiplier=e}nextSubdivision(e){if(e=this.toTicks(e),this.state!=="started")return 0;{let n=this.now(),r=this.getTicksAtTime(n),o=e-r%e;return this._clock.nextTickTime(o,n)}}syncSignal(e,n){if(!n){let o=this.now();if(e.getValueAtTime(o)!==0){let s=1/(60/this.bpm.getValueAtTime(o)/this.PPQ);n=e.getValueAtTime(o)/s}else n=0}let r=new Q(n);return this.bpm.connect(r),r.connect(e._param),this._syncedSignals.push({initial:e.value,ratio:r,signal:e}),e.value=0,this}unsyncSignal(e){for(let n=this._syncedSignals.length-1;n>=0;n--){let r=this._syncedSignals[n];r.signal===e&&(r.ratio.dispose(),r.signal.value=r.initial,this._syncedSignals.splice(n,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),ms(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}};fo.mixin(Tl);lo(t=>{t.transport=new Tl({context:t})});ho(t=>{t.transport.dispose()});var Me=class extends F{constructor(e){super(e),this.input=void 0,this._state=new Kn("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=re,this._syncedStop=re,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new On({context:this.context,mute:e.mute,volume:e.volume}),this.volume=this._volume.volume,B(this,"volume"),this.onstop=e.onstop}static getDefaults(){return Object.assign(F.getDefaults(),{mute:!1,onstop:re,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}_clampToCurrentTime(e){return this._synced?e:Math.max(e,this.context.currentTime)}start(e,n,r){let o=ut(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(o=this._clampToCurrentTime(o),!this._synced&&this._state.getValueAtTime(o)==="started")G(fs(o,this._state.get(o).time),"Start time must be strictly greater than previous start time"),this._state.cancel(o),this._state.setStateAtTime("started",o),this.log("restart",o),this.restart(o,n,r);else if(this.log("start",o),this._state.setStateAtTime("started",o),this._synced){let i=this._state.get(o);i&&(i.offset=this.toSeconds(Yt(n,0)),i.duration=r?this.toSeconds(r):void 0);let s=this.context.transport.schedule(a=>{this._start(a,n,r)},o);this._scheduled.push(s),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>o&&this._syncedStart(this.now(),this.context.transport.seconds)}else dl(this.context),this._start(o,n,r);return this}stop(e){let n=ut(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(n=this._clampToCurrentTime(n),this._state.getValueAtTime(n)==="started"||te(this._state.getNextState("started",n))){if(this.log("stop",n),!this._synced)this._stop(n);else{let r=this.context.transport.schedule(this._stop.bind(this),n);this._scheduled.push(r)}this._state.cancel(n),this._state.setStateAtTime("stopped",n)}return this}restart(e,n,r){return e=this.toSeconds(e),this._state.getValueAtTime(e)==="started"&&(this._state.cancel(e),this._restart(e,n,r)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(e,n)=>{if(n>0){let r=this._state.get(n);if(r&&r.state==="started"&&r.time!==n){let o=n-this.toSeconds(r.time),i;r.duration&&(i=this.toSeconds(r.duration)-o),this._start(e,this.toSeconds(r.offset)+o,i)}}},this._syncedStop=e=>{let n=this.context.transport.getSecondsAtTime(Math.max(e-this.sampleTime,0));this._state.getValueAtTime(n)==="started"&&this._stop(e)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(e=>this.context.transport.clear(e)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=re,this.unsync(),this._volume.dispose(),this._state.dispose(),this}};var Pr=class t extends er{constructor(){super(y(t.getDefaults(),arguments,["url","onload"])),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1;let e=y(t.getDefaults(),arguments,["url","onload"]);qt(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new de({context:this.context,param:this._source.playbackRate,units:"positive",value:e.playbackRate}),this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this._buffer=new Ft(e.url,e.onload,e.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(er.getDefaults(),{url:new Ft,loop:!1,loopEnd:0,loopStart:0,onload:re,onerror:re,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e}get curve(){return this._curve}set curve(e){this._curve=e}start(e,n,r,o=1){G(this.buffer.loaded,"buffer is either not set or not loaded");let i=this.toSeconds(e);this._startGain(i,o),this.loop?n=Yt(n,this.loopStart):n=Yt(n,0);let s=Math.max(this.toSeconds(n),0);if(this.loop){let a=this.toSeconds(this.loopEnd)||this.buffer.duration,c=this.toSeconds(this.loopStart),u=a-c;Ga(s,a)&&(s=(s-c)%u+c),Ut(s,this.buffer.duration)&&(s=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,ml(s,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(i,s)),te(r)){let a=this.toSeconds(r);a=Math.max(a,0),this.stop(i+a)}return this}_stopSource(e){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(e)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(e){this._source.loopStart=this.toSeconds(e)}get loopEnd(){return this._source.loopEnd}set loopEnd(e){this._source.loopEnd=this.toSeconds(e)}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._source.loop}set loop(e){this._source.loop=e,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}};var Rue=44100*5;function Kt(t,e){return ve(this,void 0,void 0,function*(){let n=e/t.context.sampleRate,r=new Dr(1,n,t.context.sampleRate);return new t.constructor(Object.assign(t.get(),{frequency:2/n,detune:0,context:r})).toDestination().start(0),(yield r.render()).getChannelData(0)})}var Ya=class t extends er{constructor(){super(y(t.getDefaults(),arguments,["frequency","type"])),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator];let e=y(t.getDefaults(),arguments,["frequency","type"]);qt(this._oscillator,this._gainNode),this.type=e.type,this.frequency=new de({context:this.context,param:this._oscillator.frequency,units:"frequency",value:e.frequency}),this.detune=new de({context:this.context,param:this._oscillator.detune,units:"cents",value:e.detune}),B(this,["frequency","detune"])}static getDefaults(){return Object.assign(er.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(e){let n=this.toSeconds(e);return this.log("start",n),this._startGain(n),this._oscillator.start(n),this}_stopSource(e){this._oscillator.stop(e)}setPeriodicWave(e){return this._oscillator.setPeriodicWave(e),this}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}};var lt=(()=>{class t extends Me{constructor(){super(y(t.getDefaults(),arguments,["frequency","type"])),this.name="Oscillator",this._oscillator=null;let n=y(t.getDefaults(),arguments,["frequency","type"]);this.frequency=new ie({context:this.context,units:"frequency",value:n.frequency}),B(this,"frequency"),this.detune=new ie({context:this.context,units:"cents",value:n.detune}),B(this,"detune"),this._partials=n.partials,this._partialCount=n.partialCount,this._type=n.type,n.partialCount&&n.type!=="custom"&&(this._type=this.baseType+n.partialCount.toString()),this.phase=n.phase}static getDefaults(){return Object.assign(Me.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(n){let r=this.toSeconds(n),o=new Ya({context:this.context,onended:()=>this.onstop(this)});this._oscillator=o,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(r)}_stop(n){let r=this.toSeconds(n);this._oscillator&&this._oscillator.stop(r)}_restart(n){let r=this.toSeconds(n);return this.log("restart",r),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(r),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return t._periodicWaveCache.find(r=>r.phase===this._phase&&bC(r.partials,this._partials));{let n=t._periodicWaveCache.find(r=>r.type===this._type&&r.phase===this._phase);return this._partialCount=n?n.partialCount:this._partialCount,n}}get type(){return this._type}set type(n){this._type=n;let r=["sine","square","sawtooth","triangle"].indexOf(n)!==-1;if(this._phase===0&&r)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=n);else{let o=this._getCachedPeriodicWave();if(te(o)){let{partials:i,wave:s}=o;this._wave=s,this._partials=i,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{let[i,s]=this._getRealImaginary(n,this._phase),a=this.context.createPeriodicWave(i,s);this._wave=a,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),t._periodicWaveCache.push({imag:s,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:i,type:this._type,wave:this._wave}),t._periodicWaveCache.length>100&&t._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(n){this.partialCount&&this._type!=="custom"&&n!=="custom"?this.type=n+this.partialCount:this.type=n}get partialCount(){return this._partialCount}set partialCount(n){yt(n,0);let r=this._type,o=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(o&&(r=o[1]),this._type!=="custom")n===0?this.type=r:this.type=r+n.toString();else{let i=new Float32Array(n);this._partials.forEach((s,a)=>i[a]=s),this._partials=Array.from(i),this.type=this._type}}_getRealImaginary(n,r){let i=2048,s=new Float32Array(i),a=new Float32Array(i),c=1;if(n==="custom"){if(c=this._partials.length+1,this._partialCount=this._partials.length,i=c,this._partials.length===0)return[s,a]}else{let u=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(n);u?(c=parseInt(u[2],10)+1,this._partialCount=parseInt(u[2],10),n=u[1],c=Math.max(c,2),i=c):this._partialCount=0,this._partials=[]}for(let u=1;u<i;++u){let l=2/(u*Math.PI),d;switch(n){case"sine":d=u<=c?1:0,this._partials[u-1]=d;break;case"square":d=u&1?2*l:0,this._partials[u-1]=d;break;case"sawtooth":d=l*(u&1?1:-1),this._partials[u-1]=d;break;case"triangle":u&1?d=2*(l*l)*(u-1>>1&1?-1:1):d=0,this._partials[u-1]=d;break;case"custom":d=this._partials[u-1];break;default:throw new TypeError("Oscillator: invalid type: "+n)}d!==0?(s[u]=-d*Math.sin(r*u),a[u]=d*Math.cos(r*u)):(s[u]=0,a[u]=0)}return[s,a]}_inverseFFT(n,r,o){let i=0,s=n.length;for(let a=0;a<s;a++)i+=n[a]*Math.cos(a*o)+r[a]*Math.sin(a*o);return i}getInitialValue(){let[n,r]=this._getRealImaginary(this._type,0),o=0,i=Math.PI*2,s=32;for(let a=0;a<s;a++)o=Math.max(this._inverseFFT(n,r,a/s*i),o);return Kp(-this._inverseFFT(n,r,this._phase)/o,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(n){this._partials=n,this._partialCount=this._partials.length,n.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(n){this._phase=n*Math.PI/180,this.type=this._type}asArray(n=1024){return ve(this,void 0,void 0,function*(){return Kt(this,n)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}return t._periodicWaveCache=[],t})();var dn=class t extends F{constructor(){super(Object.assign(y(t.getDefaults(),arguments,["context"])))}connect(e,n=0,r=0){return _s(this,e,n,r),this}};var kn=class t extends dn{constructor(){super(Object.assign(y(t.getDefaults(),arguments,["mapping","length"]))),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper;let e=y(t.getDefaults(),arguments,["mapping","length"]);nt(e.mapping)||e.mapping instanceof Float32Array?this.curve=Float32Array.from(e.mapping):vC(e.mapping)&&this.setMap(e.mapping,e.length)}static getDefaults(){return Object.assign(ie.getDefaults(),{length:1024})}setMap(e,n=1024){let r=new Float32Array(n);for(let o=0,i=n;o<i;o++){let s=o/(i-1)*2-1;r[o]=e(s,o)}return this.curve=r,this}get curve(){return this._shaper.curve}set curve(e){this._shaper.curve=e}get oversample(){return this._shaper.oversample}set oversample(e){let n=["none","2x","4x"].some(r=>r.includes(e));G(n,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.disconnect(),this}};var Cs=class extends dn{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new kn({context:this.context,mapping:e=>(e+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}};var dt=class t extends ie{constructor(){super(Object.assign(y(t.getDefaults(),arguments,["value"]))),this.name="Multiply",this.override=!1;let e=y(t.getDefaults(),arguments,["value"]);this._mult=this.input=this.output=new Q({context:this.context,minValue:e.minValue,maxValue:e.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(ie.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}};var Qa=class t extends Me{constructor(){super(y(t.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="AMOscillator",this._modulationScale=new Cs({context:this.context}),this._modulationNode=new Q({context:this.context});let e=y(t.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new lt({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new lt({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new dt({context:this.context,units:"positive",value:e.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),B(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(lt.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){this._modulator.restart(e),this._carrier.restart(e)}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(e=1024){return ve(this,void 0,void 0,function*(){return Kt(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}};var Ds=class t extends Me{constructor(){super(y(t.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="FMOscillator",this._modulationNode=new Q({context:this.context,gain:0});let e=y(t.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new lt({context:this.context,detune:e.detune,frequency:0,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.detune=this._carrier.detune,this.frequency=new ie({context:this.context,units:"frequency",value:e.frequency}),this._modulator=new lt({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new dt({context:this.context,units:"positive",value:e.harmonicity}),this.modulationIndex=new dt({context:this.context,units:"positive",value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),B(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(lt.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){return this._modulator.restart(e),this._carrier.restart(e),this}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(e=1024){return ve(this,void 0,void 0,function*(){return Kt(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}};var Wo=class t extends Me{constructor(){super(y(t.getDefaults(),arguments,["frequency","width"])),this.name="PulseOscillator",this._widthGate=new Q({context:this.context,gain:0}),this._thresh=new kn({context:this.context,mapping:n=>n<=0?-1:1});let e=y(t.getDefaults(),arguments,["frequency","width"]);this.width=new ie({context:this.context,units:"audioRange",value:e.width}),this._triangle=new lt({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),B(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(Me.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(e){e=this.toSeconds(e),this._triangle.start(e),this._widthGate.gain.setValueAtTime(1,e)}_stop(e){e=this.toSeconds(e),this._triangle.stop(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(0,e)}_restart(e){this._triangle.restart(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(1,e)}get phase(){return this._triangle.phase}set phase(e){this._triangle.phase=e}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(e){this._triangle.type=e}asArray(e=1024){return ve(this,void 0,void 0,function*(){return Kt(this,e)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}};var Xa=class t extends Me{constructor(){super(y(t.getDefaults(),arguments,["frequency","type","spread"])),this.name="FatOscillator",this._oscillators=[];let e=y(t.getDefaults(),arguments,["frequency","type","spread"]);this.frequency=new ie({context:this.context,units:"frequency",value:e.frequency}),this.detune=new ie({context:this.context,units:"cents",value:e.detune}),this._spread=e.spread,this._type=e.type,this._phase=e.phase,this._partials=e.partials,this._partialCount=e.partialCount,this.count=e.count,B(this,["frequency","detune"])}static getDefaults(){return Object.assign(lt.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(e){e=this.toSeconds(e),this._forEach(n=>n.start(e))}_stop(e){e=this.toSeconds(e),this._forEach(n=>n.stop(e))}_restart(e){this._forEach(n=>n.restart(e))}_forEach(e){for(let n=0;n<this._oscillators.length;n++)e(this._oscillators[n],n)}get type(){return this._type}set type(e){this._type=e,this._forEach(n=>n.type=e)}get spread(){return this._spread}set spread(e){if(this._spread=e,this._oscillators.length>1){let n=-e/2,r=e/(this._oscillators.length-1);this._forEach((o,i)=>o.detune.value=n+r*i)}}get count(){return this._oscillators.length}set count(e){if(yt(e,1),this._oscillators.length!==e){this._forEach(n=>n.dispose()),this._oscillators=[];for(let n=0;n<e;n++){let r=new lt({context:this.context,volume:-6-e*1.1,type:this._type,phase:this._phase+n/e*360,partialCount:this._partialCount,onstop:n===0?()=>this.onstop(this):re});this.type==="custom"&&(r.partials=this._partials),this.frequency.connect(r.frequency),this.detune.connect(r.detune),r.detune.overridden=!1,r.connect(this.output),this._oscillators[n]=r}this.spread=this._spread,this.state==="started"&&this._forEach(n=>n.start())}}get phase(){return this._phase}set phase(e){this._phase=e,this._forEach((n,r)=>n.phase=this._phase+r/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(e){this._forEach(n=>n.baseType=e),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this._type="custom",this._forEach(n=>n.partials=e))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(e){this._partialCount=e,this._forEach(n=>n.partialCount=e),this._type=this._oscillators[0].type}asArray(e=1024){return ve(this,void 0,void 0,function*(){return Kt(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(e=>e.dispose()),this}};var Ka=class t extends Me{constructor(){super(y(t.getDefaults(),arguments,["frequency","modulationFrequency"])),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new dt({context:this.context,value:2});let e=y(t.getDefaults(),arguments,["frequency","modulationFrequency"]);this._pulse=new Wo({context:this.context,frequency:e.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new lt({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),B(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(Me.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(e){e=this.toSeconds(e),this._modulator.start(e),this._pulse.start(e)}_stop(e){e=this.toSeconds(e),this._modulator.stop(e),this._pulse.stop(e)}_restart(e){this._modulator.restart(e),this._pulse.restart(e)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(e){this._modulator.phase=e}asArray(e=1024){return ve(this,void 0,void 0,function*(){return Kt(this,e)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}};var OC={am:Qa,fat:Xa,fm:Ds,oscillator:lt,pulse:Wo,pwm:Ka},Go=class t extends Me{constructor(){super(y(t.getDefaults(),arguments,["frequency","type"])),this.name="OmniOscillator";let e=y(t.getDefaults(),arguments,["frequency","type"]);this.frequency=new ie({context:this.context,units:"frequency",value:e.frequency}),this.detune=new ie({context:this.context,units:"cents",value:e.detune}),B(this,["frequency","detune"]),this.set(e)}static getDefaults(){return Object.assign(lt.getDefaults(),Ds.getDefaults(),Qa.getDefaults(),Xa.getDefaults(),Wo.getDefaults(),Ka.getDefaults())}_start(e){this._oscillator.start(e)}_stop(e){this._oscillator.stop(e)}_restart(e){return this._oscillator.restart(e),this}get type(){let e="";return["am","fm","fat"].some(n=>this._sourceType===n)&&(e=this._sourceType),e+this._oscillator.type}set type(e){e.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(3)):e==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):e==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=e)}get partials(){return this._oscillator.partials}set partials(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=e)}get partialCount(){return this._oscillator.partialCount}set partialCount(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=e)}set(e){return Reflect.has(e,"type")&&e.type&&(this.type=e.type),super.set(e),this}_createNewOscillator(e){if(e!==this._sourceType){this._sourceType=e;let n=OC[e],r=this.now();if(this._oscillator){let o=this._oscillator;o.stop(r),this.context.setTimeout(()=>o.dispose(),this.blockTime)}this._oscillator=new n({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(r)}}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e}get sourceType(){return this._sourceType}set sourceType(e){let n="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(n=this._oscillator.type),e==="fm"?this.type="fm"+n:e==="am"?this.type="am"+n:e==="fat"?this.type="fat"+n:e==="oscillator"?this.type=n:e==="pulse"?this.type="pulse":e==="pwm"&&(this.type="pwm")}_getOscType(e,n){return e instanceof OC[n]}get baseType(){return this._oscillator.baseType}set baseType(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&e!=="pulse"&&e!=="pwm"&&(this._oscillator.baseType=e)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(e){this._getOscType(this._oscillator,"fat")&&It(e)&&(this._oscillator.count=e)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(e){this._getOscType(this._oscillator,"fat")&&It(e)&&(this._oscillator.spread=e)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(e){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&_t(e)&&(this._oscillator.modulationType=e)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(e=1024){return ve(this,void 0,void 0,function*(){return Kt(this,e)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}};function Il(t,e=1/0){let n=new WeakMap;return function(r,o){Reflect.defineProperty(r,o,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(i){yt(i,t,e),n.set(this,i)}})}}function Jt(t,e=1/0){let n=new WeakMap;return function(r,o){Reflect.defineProperty(r,o,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(i){yt(this.toSeconds(i),t,e),n.set(this,i)}})}}var zo=class t extends Me{constructor(){super(y(t.getDefaults(),arguments,["url","onload"])),this.name="Player",this._activeSources=new Set;let e=y(t.getDefaults(),arguments,["url","onload"]);this._buffer=new Ft({onload:this._onload.bind(this,e.onload),onerror:e.onerror,reverse:e.reverse,url:e.url}),this.autostart=e.autostart,this._loop=e.loop,this._loopStart=e.loopStart,this._loopEnd=e.loopEnd,this._playbackRate=e.playbackRate,this.fadeIn=e.fadeIn,this.fadeOut=e.fadeOut}static getDefaults(){return Object.assign(Me.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:re,onerror:re,playbackRate:1,reverse:!1})}load(e){return ve(this,void 0,void 0,function*(){return yield this._buffer.load(e),this._onload(),this})}_onload(e=re){e(),this.autostart&&this.start()}_onSourceEnd(e){this.onstop(this),this._activeSources.delete(e),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(e,n,r){return super.start(e,n,r),this}_start(e,n,r){this._loop?n=Yt(n,this._loopStart):n=Yt(n,0);let o=this.toSeconds(n),i=r;r=Yt(r,Math.max(this._buffer.duration-o,0));let s=this.toSeconds(r);s=s/this._playbackRate,e=this.toSeconds(e);let a=new Pr({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(e+s),this._state.setStateAtTime("stopped",e+s,{implicitEnd:!0})),this._activeSources.add(a),this._loop&&ut(i)?a.start(e,o):a.start(e,o,s-this.toSeconds(this.fadeOut))}_stop(e){let n=this.toSeconds(e);this._activeSources.forEach(r=>r.stop(n))}restart(e,n,r){return super.restart(e,n,r),this}_restart(e,n,r){this._stop(e),this._start(e,n,r)}seek(e,n){let r=this.toSeconds(n);if(this._state.getValueAtTime(r)==="started"){let o=this.toSeconds(e);this._stop(r),this._start(r,o)}return this}setLoopPoints(e,n){return this.loopStart=e,this.loopEnd=n,this}get loopStart(){return this._loopStart}set loopStart(e){this._loopStart=e,this.buffer.loaded&&yt(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(n=>{n.loopStart=e})}get loopEnd(){return this._loopEnd}set loopEnd(e){this._loopEnd=e,this.buffer.loaded&&yt(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(n=>{n.loopEnd=e})}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._loop}set loop(e){if(this._loop!==e&&(this._loop=e,this._activeSources.forEach(n=>{n.loop=e}),e)){let n=this._state.getNextState("stopped",this.now());n&&this._state.cancel(n.time)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e;let n=this.now(),r=this._state.getNextState("stopped",n);r&&r.implicitEnd&&(this._state.cancel(r.time),this._activeSources.forEach(o=>o.cancelStop())),this._activeSources.forEach(o=>{o.playbackRate.setValueAtTime(e,n)})}get reverse(){return this._buffer.reverse}set reverse(e){this._buffer.reverse=e}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(e=>e.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}};Mt([Jt(0)],zo.prototype,"fadeIn",void 0);Mt([Jt(0)],zo.prototype,"fadeOut",void 0);var $t=class t extends F{constructor(){super(y(t.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="Envelope",this._sig=new ie({context:this.context,value:0}),this.output=this._sig,this.input=void 0;let e=y(t.getDefaults(),arguments,["attack","decay","sustain","release"]);this.attack=e.attack,this.decay=e.decay,this.sustain=e.sustain,this.release=e.release,this.attackCurve=e.attackCurve,this.releaseCurve=e.releaseCurve,this.decayCurve=e.decayCurve}static getDefaults(){return Object.assign(F.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(e,n){if(_t(e))return e;{let r;for(r in Al)if(Al[r][n]===e)return r;return e}}_setCurve(e,n,r){if(_t(r)&&Reflect.has(Al,r)){let o=Al[r];Yn(o)?e!=="_decayCurve"&&(this[e]=o[n]):this[e]=o}else if(nt(r)&&e!=="_decayCurve")this[e]=r;else throw new Error("Envelope: invalid curve: "+r)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(e){this._setCurve("_attackCurve","In",e)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(e){this._setCurve("_releaseCurve","Out",e)}get decayCurve(){return this._decayCurve}set decayCurve(e){G(["linear","exponential"].some(n=>n===e),`Invalid envelope curve: ${e}`),this._decayCurve=e}triggerAttack(e,n=1){this.log("triggerAttack",e,n),e=this.toSeconds(e);let o=this.toSeconds(this.attack),i=this.toSeconds(this.decay),s=this.getValueAtTime(e);if(s>0){let a=1/o;o=(1-s)/a}if(o<this.sampleTime)this._sig.cancelScheduledValues(e),this._sig.setValueAtTime(n,e);else if(this._attackCurve==="linear")this._sig.linearRampTo(n,o,e);else if(this._attackCurve==="exponential")this._sig.targetRampTo(n,o,e);else{this._sig.cancelAndHoldAtTime(e);let a=this._attackCurve;for(let c=1;c<a.length;c++)if(a[c-1]<=s&&s<=a[c]){a=this._attackCurve.slice(c),a[0]=s;break}this._sig.setValueCurveAtTime(a,e,o,n)}if(i&&this.sustain<1){let a=n*this.sustain,c=e+o;this.log("decay",c),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(a,i+c):this._sig.exponentialApproachValueAtTime(a,c,i)}return this}triggerRelease(e){this.log("triggerRelease",e),e=this.toSeconds(e);let n=this.getValueAtTime(e);if(n>0){let r=this.toSeconds(this.release);r<this.sampleTime?this._sig.setValueAtTime(0,e):this._releaseCurve==="linear"?this._sig.linearRampTo(0,r,e):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,r,e):(G(nt(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(e),this._sig.setValueCurveAtTime(this._releaseCurve,e,r,n))}return this}getValueAtTime(e){return this._sig.getValueAtTime(e)}triggerAttackRelease(e,n,r=1){return n=this.toSeconds(n),this.triggerAttack(n,r),this.triggerRelease(n+this.toSeconds(e)),this}cancel(e){return this._sig.cancelScheduledValues(this.toSeconds(e)),this}connect(e,n=0,r=0){return _s(this,e,n,r),this}asArray(e=1024){return ve(this,void 0,void 0,function*(){let n=e/this.context.sampleRate,r=new Dr(1,n,this.context.sampleRate),o=this.toSeconds(this.attack)+this.toSeconds(this.decay),i=o+this.toSeconds(this.release),s=i*.1,a=i+s,c=new this.constructor(Object.assign(this.get(),{attack:n*this.toSeconds(this.attack)/a,decay:n*this.toSeconds(this.decay)/a,release:n*this.toSeconds(this.release)/a,context:r}));return c._sig.toDestination(),c.triggerAttackRelease(n*(o+s)/a,0),(yield r.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}};Mt([Jt(0)],$t.prototype,"attack",void 0);Mt([Jt(0)],$t.prototype,"decay",void 0);Mt([Il(0,1)],$t.prototype,"sustain",void 0);Mt([Jt(0)],$t.prototype,"release",void 0);var Al=(()=>{let e,n,r=[];for(e=0;e<128;e++)r[e]=Math.sin(e/(128-1)*(Math.PI/2));let o=[],i=6.4;for(e=0;e<128-1;e++){n=e/(128-1);let h=Math.sin(n*(Math.PI*2)*i-Math.PI/2)+1;o[e]=h/10+n*.83}o[128-1]=1;let s=[],a=5;for(e=0;e<128;e++)s[e]=Math.ceil(e/(128-1)*a)/a;let c=[];for(e=0;e<128;e++)n=e/(128-1),c[e]=.5*(1-Math.cos(Math.PI*n));let u=[];for(e=0;e<128;e++){n=e/(128-1);let h=Math.pow(n,3)*4+.2,f=Math.cos(h*Math.PI*2*n);u[e]=Math.abs(f*(1-n))}function l(h){let f=new Array(h.length);for(let p=0;p<h.length;p++)f[p]=1-h[p];return f}function d(h){return h.slice(0).reverse()}return{bounce:{In:l(u),Out:u},cosine:{In:r,Out:d(r)},exponential:"exponential",linear:"linear",ripple:{In:o,Out:l(o)},sine:{In:c,Out:l(c)},step:{In:s,Out:l(s)}}})();var tr=class t extends F{constructor(){super(y(t.getDefaults(),arguments)),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease;let e=y(t.getDefaults(),arguments);this._volume=this.output=new On({context:this.context,volume:e.volume}),this.volume=this._volume.volume,B(this,"volume")}static getDefaults(){return Object.assign(F.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0)),this}_syncState(){let e=!1;return this._synced||(this._synced=!0,e=!0),e}_syncMethod(e,n){let r=this["_original_"+e]=this[e];this[e]=(...o)=>{let i=o[n],s=this.context.transport.schedule(a=>{o[n]=a,r.apply(this,o)},i);this._scheduledEvents.push(s)}}unsync(){return this._scheduledEvents.forEach(e=>this.context.transport.clear(e)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease),this}triggerAttackRelease(e,n,r,o){let i=this.toSeconds(r),s=this.toSeconds(n);return this.triggerAttack(e,i,o),this.triggerRelease(i+s),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}};var Rn=class t extends tr{constructor(){super(y(t.getDefaults(),arguments));let e=y(t.getDefaults(),arguments);this.portamento=e.portamento,this.onsilence=e.onsilence}static getDefaults(){return Object.assign(tr.getDefaults(),{detune:0,onsilence:re,portamento:0})}triggerAttack(e,n,r=1){this.log("triggerAttack",e,n,r);let o=this.toSeconds(n);return this._triggerEnvelopeAttack(o,r),this.setNote(e,o),this}triggerRelease(e){this.log("triggerRelease",e);let n=this.toSeconds(e);return this._triggerEnvelopeRelease(n),this}setNote(e,n){let r=this.toSeconds(n),o=e instanceof Xt?e.toFrequency():e;if(this.portamento>0&&this.getLevelAtTime(r)>.05){let i=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(o,i,r)}else this.frequency.setValueAtTime(o,r);return this}};Mt([Jt(0)],Rn.prototype,"portamento",void 0);var Ss=class t extends $t{constructor(){super(y(t.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new Q({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}};var Zo=class t extends Rn{constructor(){super(y(t.getDefaults(),arguments)),this.name="Synth";let e=y(t.getDefaults(),arguments);this.oscillator=new Go(Object.assign({context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)},e.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new Ss(Object.assign({context:this.context},e.envelope)),this.oscillator.chain(this.envelope,this.output),B(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(Rn.getDefaults(),{envelope:Object.assign(Cr($t.getDefaults(),Object.keys(F.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(Cr(Go.getDefaults(),[...Object.keys(Me.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(e,n){if(this.envelope.triggerAttack(e,n),this.oscillator.start(e),this.envelope.sustain===0){let r=this.toSeconds(this.envelope.attack),o=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+r+o)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}};var Nl=class t extends Zo{constructor(){super(y(t.getDefaults(),arguments)),this.name="MembraneSynth",this.portamento=0;let e=y(t.getDefaults(),arguments);this.pitchDecay=e.pitchDecay,this.octaves=e.octaves,B(this,["oscillator","envelope"])}static getDefaults(){return Xn(Rn.getDefaults(),Zo.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(e,n){let r=this.toSeconds(n),o=this.toFrequency(e instanceof Xt?e.toFrequency():e),i=o*this.octaves;return this.oscillator.frequency.setValueAtTime(i,r),this.oscillator.frequency.exponentialRampToValueAtTime(o,r+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}};Mt([Il(0)],Nl.prototype,"octaves",void 0);Mt([Jt(0)],Nl.prototype,"pitchDecay",void 0);var RC=new Set;function Es(t){RC.add(t)}function Ol(t,e){let n=`registerProcessor("${t}", ${e})`;RC.add(n)}var qk=`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the [[ToneAudioWorklet]]. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`;Es(qk);var $k=`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`;Es($k);var Hk=`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`;Es(Hk);var FC="feedback-comb-filter",Wk=`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`;Ol(FC,Wk);var kl=class t extends tr{constructor(){super(y(t.getDefaults(),arguments,["urls","onload","baseUrl"],"urls")),this.name="Sampler",this._activeSources=new Map;let e=y(t.getDefaults(),arguments,["urls","onload","baseUrl"],"urls"),n={};Object.keys(e.urls).forEach(r=>{let o=parseInt(r,10);if(G(Wa(r)||It(o)&&isFinite(o),`url key is neither a note or midi pitch: ${r}`),Wa(r)){let i=new Xt(this.context,r).toMidi();n[i]=e.urls[r]}else It(o)&&isFinite(o)&&(n[o]=e.urls[o])}),this._buffers=new ws({urls:n,onload:e.onload,baseUrl:e.baseUrl,onerror:e.onerror}),this.attack=e.attack,this.release=e.release,this.curve=e.curve,this._buffers.loaded&&Promise.resolve().then(e.onload)}static getDefaults(){return Object.assign(tr.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:re,onerror:re,release:.1,urls:{}})}_findClosest(e){let r=0;for(;r<96;){if(this._buffers.has(e+r))return-r;if(this._buffers.has(e-r))return r;r++}throw new Error(`No available buffers for note: ${e}`)}triggerAttack(e,n,r=1){return this.log("triggerAttack",e,n,r),Array.isArray(e)||(e=[e]),e.forEach(o=>{let i=em(new Xt(this.context,o).toFrequency()),s=Math.round(i),a=i-s,c=this._findClosest(s),u=s-c,l=this._buffers.get(u),d=$o(c+a),h=new Pr({url:l,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:d}).connect(this.output);h.start(n,0,l.duration/d,r),nt(this._activeSources.get(s))||this._activeSources.set(s,[]),this._activeSources.get(s).push(h),h.onended=()=>{if(this._activeSources&&this._activeSources.has(s)){let f=this._activeSources.get(s),p=f.indexOf(h);p!==-1&&f.splice(p,1)}}}),this}triggerRelease(e,n){return this.log("triggerRelease",e,n),Array.isArray(e)||(e=[e]),e.forEach(r=>{let o=new Xt(this.context,r).toMidi();if(this._activeSources.has(o)&&this._activeSources.get(o).length){let i=this._activeSources.get(o);n=this.toSeconds(n),i.forEach(s=>{s.stop(n)}),this._activeSources.set(o,[])}}),this}releaseAll(e){let n=this.toSeconds(e);return this._activeSources.forEach(r=>{for(;r.length;)r.shift().stop(n)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(e,n,r,o=1){let i=this.toSeconds(r);return this.triggerAttack(e,i,o),nt(n)?(G(nt(e),"notes must be an array when duration is array"),e.forEach((s,a)=>{let c=n[Math.min(a,n.length-1)];this.triggerRelease(s,i+this.toSeconds(c))})):this.triggerRelease(e,i+this.toSeconds(n)),this}add(e,n,r){if(G(Wa(e)||isFinite(e),`note must be a pitch or midi: ${e}`),Wa(e)){let o=new Xt(this.context,e).toMidi();this._buffers.add(o,n,r)}else this._buffers.add(e,n,r);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(e=>{e.forEach(n=>n.dispose())}),this._activeSources.clear(),this}};Mt([Jt(0)],kl.prototype,"attack",void 0);Mt([Jt(0)],kl.prototype,"release",void 0);var Is=class t extends Ue{constructor(){super(y(t.getDefaults(),arguments,["callback","value"])),this.name="ToneEvent",this._state=new Kn("stopped"),this._startOffset=0;let e=y(t.getDefaults(),arguments,["callback","value"]);this._loop=e.loop,this.callback=e.callback,this.value=e.value,this._loopStart=this.toTicks(e.loopStart),this._loopEnd=this.toTicks(e.loopEnd),this._playbackRate=e.playbackRate,this._probability=e.probability,this._humanize=e.humanize,this.mute=e.mute,this._playbackRate=e.playbackRate,this._state.increasing=!0,this._rescheduleEvents()}static getDefaults(){return Object.assign(Ue.getDefaults(),{callback:re,humanize:!1,loop:!1,loopEnd:"1m",loopStart:0,mute:!1,playbackRate:1,probability:1,value:null})}_rescheduleEvents(e=-1){this._state.forEachFrom(e,n=>{let r;if(n.state==="started"){n.id!==-1&&this.context.transport.clear(n.id);let o=n.time+Math.round(this.startOffset/this._playbackRate);if(this._loop===!0||It(this._loop)&&this._loop>1){r=1/0,It(this._loop)&&(r=this._loop*this._getLoopDuration());let i=this._state.getAfter(o);i!==null&&(r=Math.min(r,i.time-o)),r!==1/0&&(this._state.setStateAtTime("stopped",o+r+1,{id:-1}),r=new Qe(this.context,r));let s=new Qe(this.context,this._getLoopDuration());n.id=this.context.transport.scheduleRepeat(this._tick.bind(this),s,new Qe(this.context,o),r)}else n.id=this.context.transport.schedule(this._tick.bind(this),new Qe(this.context,o))}})}get state(){return this._state.getValueAtTime(this.context.transport.ticks)}get startOffset(){return this._startOffset}set startOffset(e){this._startOffset=e}get probability(){return this._probability}set probability(e){this._probability=e}get humanize(){return this._humanize}set humanize(e){this._humanize=e}start(e){let n=this.toTicks(e);return this._state.getValueAtTime(n)==="stopped"&&(this._state.add({id:-1,state:"started",time:n}),this._rescheduleEvents(n)),this}stop(e){this.cancel(e);let n=this.toTicks(e);if(this._state.getValueAtTime(n)==="started"){this._state.setStateAtTime("stopped",n,{id:-1});let r=this._state.getBefore(n),o=n;r!==null&&(o=r.time),this._rescheduleEvents(o)}return this}cancel(e){e=Yt(e,-1/0);let n=this.toTicks(e);return this._state.forEachFrom(n,r=>{this.context.transport.clear(r.id)}),this._state.cancel(n),this}_tick(e){let n=this.context.transport.getTicksAtTime(e);if(!this.mute&&this._state.getValueAtTime(n)==="started"){if(this.probability<1&&Math.random()>this.probability)return;if(this.humanize){let r=.02;hl(this.humanize)||(r=this.toSeconds(this.humanize)),e+=(Math.random()*2-1)*r}this.callback(e,this.value)}}_getLoopDuration(){return Math.round((this._loopEnd-this._loopStart)/this._playbackRate)}get loop(){return this._loop}set loop(e){this._loop=e,this._rescheduleEvents()}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e,this._rescheduleEvents()}get loopEnd(){return new Qe(this.context,this._loopEnd).toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e),this._loop&&this._rescheduleEvents()}get loopStart(){return new Qe(this.context,this._loopStart).toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e),this._loop&&this._rescheduleEvents()}get progress(){if(this._loop){let e=this.context.transport.ticks,n=this._state.get(e);if(n!==null&&n.state==="started"){let r=this._getLoopDuration();return(e-n.time)%r/r}else return 0}else return 0}dispose(){return super.dispose(),this.cancel(),this._state.dispose(),this}};var Ja=class t extends Ue{constructor(){super(y(t.getDefaults(),arguments,["callback","interval"])),this.name="Loop";let e=y(t.getDefaults(),arguments,["callback","interval"]);this._event=new Is({context:this.context,callback:this._tick.bind(this),loop:!0,loopEnd:e.interval,playbackRate:e.playbackRate,probability:e.probability}),this.callback=e.callback,this.iterations=e.iterations}static getDefaults(){return Object.assign(Ue.getDefaults(),{interval:"4n",callback:re,playbackRate:1,iterations:1/0,probability:1,mute:!1,humanize:!1})}start(e){return this._event.start(e),this}stop(e){return this._event.stop(e),this}cancel(e){return this._event.cancel(e),this}_tick(e){this.callback(e)}get state(){return this._event.state}get progress(){return this._event.progress}get interval(){return this._event.loopEnd}set interval(e){this._event.loopEnd=e}get playbackRate(){return this._event.playbackRate}set playbackRate(e){this._event.playbackRate=e}get humanize(){return this._event.humanize}set humanize(e){this._event.humanize=e}get probability(){return this._event.probability}set probability(e){this._event.probability=e}get mute(){return this._event.mute}set mute(e){this._event.mute=e}get iterations(){return this._event.loop===!0?1/0:this._event.loop}set iterations(e){e===1/0?this._event.loop=!0:this._event.loop=e}dispose(){return super.dispose(),this._event.dispose(),this}};var ec=class t extends F{constructor(){super(Object.assign(y(t.getDefaults(),arguments,["pan"]))),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner;let e=y(t.getDefaults(),arguments,["pan"]);this.pan=new de({context:this.context,param:this._panner.pan,value:e.pan,minValue:-1,maxValue:1}),this._panner.channelCount=e.channelCount,this._panner.channelCountMode="explicit",B(this,"pan")}static getDefaults(){return Object.assign(F.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}};var VC="bit-crusher",Kk=`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`;Ol(VC,Kk);var Pxe=[1557/44100,1617/44100,1491/44100,1422/44100,1277/44100,1356/44100,1188/44100,1116/44100];var Hxe=[1687/25e3,1601/25e3,2053/25e3,2251/25e3];var As=class t extends F{constructor(){super(y(t.getDefaults(),arguments,["solo"])),this.name="Solo";let e=y(t.getDefaults(),arguments,["solo"]);this.input=this.output=new Q({context:this.context}),t._allSolos.has(this.context)||t._allSolos.set(this.context,new Set),t._allSolos.get(this.context).add(this),this.solo=e.solo}static getDefaults(){return Object.assign(F.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(e){e?this._addSolo():this._removeSolo(),t._allSolos.get(this.context).forEach(n=>n._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){t._soloed.has(this.context)||t._soloed.set(this.context,new Set),t._soloed.get(this.context).add(this)}_removeSolo(){t._soloed.has(this.context)&&t._soloed.get(this.context).delete(this)}_isSoloed(){return t._soloed.has(this.context)&&t._soloed.get(this.context).has(this)}_noSolos(){return!t._soloed.has(this.context)||t._soloed.has(this.context)&&t._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),t._allSolos.get(this.context).delete(this),this._removeSolo(),this}};As._allSolos=new Map;As._soloed=new Map;var Vl=class t extends F{constructor(){super(y(t.getDefaults(),arguments,["pan","volume"])),this.name="PanVol";let e=y(t.getDefaults(),arguments,["pan","volume"]);this._panner=this.input=new ec({context:this.context,pan:e.pan,channelCount:e.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new On({context:this.context,volume:e.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=e.mute,B(this,["pan","volume"])}static getDefaults(){return Object.assign(F.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}};var cm=class t extends F{constructor(){super(y(t.getDefaults(),arguments,["volume","pan"])),this.name="Channel";let e=y(t.getDefaults(),arguments,["volume","pan"]);this._solo=this.input=new As({solo:e.solo,context:this.context}),this._panVol=this.output=new Vl({context:this.context,pan:e.pan,volume:e.volume,mute:e.mute,channelCount:e.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),B(this,["pan","volume"])}static getDefaults(){return Object.assign(F.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(e){this._solo.solo=e}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(e){this._panVol.mute=e}_getBus(e){return t.buses.has(e)||t.buses.set(e,new Q({context:this.context})),t.buses.get(e)}send(e,n=0){let r=this._getBus(e),o=new Q({context:this.context,units:"decibels",gain:n});return this.connect(o),o.connect(r),o}receive(e){return this._getBus(e).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}};cm.buses=new Map;var um=class extends F{constructor(){super(...arguments),this.name="Listener",this.positionX=new de({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new de({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new de({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new de({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new de({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new de({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new de({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new de({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new de({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(F.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}};lo(t=>{t.listener=new um({context:t})});ho(t=>{t.listener.dispose()});var en=Ye().transport;var ODe=Ye().destination,kDe=Ye().destination;var RDe=Ye().listener;var jC=Ye().draw;var FDe=Ye();function Ll(){return Ft.loaded()}var rt=class t{constructor(e=Mn(0)){this._toneTime=e}static fromValue(e){return new this(Mn(e))}static fromTransport(e){return new this(Mn(e.position))}add(e){let n=this.toBarsBeatsSixteenthsFields(),r=e.toBarsBeatsSixteenthsFields(),o={bars:n.bars+r.bars,beats:n.beats+r.beats,sixteenths:n.sixteenths+r.sixteenths};return t.fromValue(dm(o))}dividedIn(e){let n=this.toBarsBeatsSixteenthsFields(),r={bars:n.bars/e,beats:n.beats/e,sixteenths:n.sixteenths/e};return t.fromValue(dm(r))}relativeTo(e){return new t(Mn(this.toSeconds()-e.toSeconds(),"s"))}compareTo(e){return this.toSeconds()-e.toSeconds()}isBefore(e){return this.compareTo(e)<0}isBeforeOrEquals(e){return this.compareTo(e)<=0}isAfterOrEquals(e){return this.compareTo(e)>=0}toBarsBeatsSixteenths(){return this._toneTime.toBarsBeatsSixteenths()}toBars(){return this.toBarsBeatsSixteenthsFields().bars}toBarsBeatsSixteenthsFields(){let e=this._toneTime.toBarsBeatsSixteenths().split(":");return{bars:+e[0],beats:+e[1],sixteenths:+e[2]}}toAbletonLiveBarsBeatsSixteenths(){let e=this.toBarsBeatsSixteenthsFields();return++e.bars,++e.beats,e.sixteenths=Math.floor(e.sixteenths)+1,dm(e,".")}toAbletonLiveBeatTime(){let e=this.toBarsBeatsSixteenthsFields(),n=e.bars,r=e.beats,o=Math.floor(e.sixteenths);return n*4+r+o/4}toSeconds(){return this._toneTime.toSeconds()}toString(){return this.toBarsBeatsSixteenths()}},BC=rt.fromValue("1m");function dm(t,e=":"){return`${t.bars}${e}${t.beats}${e}${t.sixteenths}`}var jl=class{constructor(e,n,r,o){this.pattern=e,this.structure=n,this.startTime=r,this.eventsStartTime=o,this.endTime=r.add(e.duration)}get initial(){return this.pattern.initial??this.pattern.name.charAt(0)}getChordAt(e){let n=e.relativeTo(this.startTime);return this.pattern.chords?.getChordAt(n)}};var Bl=class{constructor(e,n){this.startTimes=[],this.patternsInStructure=[];let r=new rt;for(let o of e)this.patternsInStructure.push(new jl(o,this,r,n(o))),r=r.add(o.duration);this.duration=r}getPatternInStructureAt(e){let n=this.patternsInStructure[0];if(!e.isBefore(n.startTime)){for(let r of this.patternsInStructure)if(e.isBeforeOrEquals(r.endTime))return r}}};var Ul=["C","C#","D","Eb","E","F","F#","G","Ab","A","Bb","B"],Yo=class{constructor(e){let n=e%12;this.value=n>=0?n:n+12}static getValueFromName(e,n){let r=n.indexOf(e);if(r===-1)throw new Error("invalid name : "+e);return r}equals(e){return this.value===e.value}},At=class t extends Yo{constructor(e){super(e)}static fromName(e){return new t(Yo.getValueFromName(e,Ul))}next(e){return new t(this.value+e)}get name(){return Ul[this.value]}is(e){return this.value===e.value}degreeIn(e){return new hm(this.value-e.note.value)}modeIn(e){return new tc(e.mode.value+this.value-e.note.value)}toString(){return Ul[this.value]}};(function(t){t.C=t.fromName("C"),t.Cs=t.fromName("C#"),t.D=t.fromName("D"),t.Eb=t.fromName("Eb"),t.E=t.fromName("E"),t.F=t.fromName("F"),t.Fs=t.fromName("F#"),t.G=t.fromName("G"),t.Ab=t.fromName("Ab"),t.A=t.fromName("A"),t.Bb=t.fromName("Bb"),t.B=t.fromName("B")})(At||(At={}));var UC=["I","bii","ii","biii","iii","IV","bV","V","bvi","vi","bvii","vii"],tc=class extends Yo{constructor(e){super(e)}static fromName(e){return new At(Yo.getValueFromName(e,UC))}get name(){return UC[this.value]}},Ms=class{constructor(e,n){this.note=e,this.mode=n}},hm=class extends Yo{constructor(e){super(e)}},nc=class t{constructor(e,n){this.name=e,this.root=t.getRootFromName(e)}static getRootFromName(e){if(Ul.includes(e))return At.fromName(e);switch(e){case"Gm":return At.G}throw new Error("Cannot find root from "+e)}toString(){return this.name}};(function(t){t.Gm=new t("Gm",At.G)})(nc||(nc={}));var ql=class t{constructor(e,n,r=[]){this.asciiChords=e,this.duration=n,this.chordsByTime=r}static fromAsciiChords(e){console.log("asciiChords",e);let n=e.split("|").slice(1,-1).map(i=>i.trim());if(n.length===0)throw new Error("Cannot find bars in AsciiChords : "+e);let r=[],o=rt.fromValue(0);return console.log("barGroups",n),n.forEach(i=>{let s=i.split(" "),a=BC.dividedIn(s.length);s.forEach(c=>{let u=new nc(c);console.log(o.toBarsBeatsSixteenths(),u.name),r.push([o,u]),o=o.add(a)})}),new t(e,rt.fromValue(`${n.length}m`),r)}setChordAt(e,n){this.chordsByTime.push([e,n])}getChordAt(e){return[...this.chordsByTime].reverse().find(([o])=>o.isBeforeOrEquals(e))?.[1]}get length(){return this.chordsByTime.length}toString(){return this.chordsByTime.map(([e,n])=>`${e.toBarsBeatsSixteenths()} ${n}`).join(`
`)}toAscii(){return this.asciiChords}};var Lr=class t{constructor(e,n,r,o,i,s){this.name=e,this.duration=n,this.initial=r,this.key=o,this.chords=i,this.events=s}static fromData(e){let n=e.chords?ql.fromAsciiChords(e.chords):void 0,r=o=>{if(!o)throw new Error("Missing duration");return o.duration};return new t(e.name,e.duration?new rt(Mn(e.duration)):r(n),e.initial,e.key,n,e.events)}};var j=class{constructor(e,n){this.secTime=e,this.beatTime=n}};var $l=class t{constructor(e,n){this.strings=e,this.lines=n}static create(e){let{startingNote:n,stringInterval:r,stringsCount:o,lowestFret:i,fretsCount:s}=e,a=this.buildStrings(n,r,o),u=[...Array(s).keys()].map(l=>i+l).map(l=>fm.create(a,l));return new t(a,u)}static buildStrings(e,n,r){return[...Array(r).keys()].map(i=>e.next(i*n.value))}},fm=class t{constructor(e,n){this.fret=e,this.notes=n}static create(e,n){let r=e.map(o=>new pm(o,n));return new t(n,r)}},pm=class extends At{constructor(e,n){super(e.value+n),this.string=e,this.fret=n}};function iR(t,e){if(t&1&&(Le(0,"div"),kt(1),je()),t&2){let n=e.$implicit,r=le().$implicit,o=le();hr("active",o.currentNote==null?null:o.currentNote.equals(n)),Mi("data-fret",r.fret)("data-string",n.string.name)("data-note",n.value)("data-degree",o.key&&n.degreeIn(o.key).value)("data-mode",o.key&&n.modeIn(o.key).name)("title",o.key&&"Mode : "+n.modeIn(o.key).name+`
Degr\xE9 : +`+n.degreeIn(o.key).value+"/12"),Se(1),Cn(" ",n.name," ")}}function sR(t,e){if(t&1&&(Dt(0),Le(1,"div",1),kt(2),je(),$e(3,iR,2,9,"div",2),St()),t&2){let n=e.$implicit;Se(1),Mi("data-fret",n.fret),Se(1),Cn(" ",n.fret==12?"":n.fret," "),Se(1),_e("ngForOf",n.notes)}}var qC=(()=>{let e=class e{constructor(){this.lowestFret=0,this.startingNote=At.fromName("E"),this.stringInterval=new At(5),this.stringsCount=4,this.fretsCount=5,this.key=new Ms(At.fromName("C"),tc.fromName("I"))}ngOnInit(){this.buildFretboard()}buildFretboard(){this.fretboard=$l.create({startingNote:this.startingNote,stringInterval:this.stringInterval,stringsCount:this.stringsCount,lowestFret:this.lowestFret,fretsCount:this.fretsCount})}ngOnChanges(r){this.buildFretboard()}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=ze({type:e,selectors:[["app-fretboard"]],inputs:{lowestFret:"lowestFret",fretsCount:"fretsCount",key:"key",currentNote:"currentNote"},standalone:!0,features:[Eo,at],decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],[1,"fret-mark"],[3,"active",4,"ngFor","ngForOf"]],template:function(o,i){o&1&&$e(0,sR,4,3,"ng-container",0),o&2&&_e("ngForOf",i.fretboard==null?null:i.fretboard.lines)},dependencies:[vt,Dn],styles:['@charset "UTF-8";.viewport[_ngcontent-%COMP%]{display:inline-block}[_nghost-%COMP%]{background:#000;display:inline-grid;grid-template-columns:auto repeat(4,1fr);gap:2mm;padding:2mm;margin:2mm}[data-fret][_ngcontent-%COMP%]{flex:1 1 auto;height:2cm;width:2cm;line-height:2cm;box-sizing:border-box}[data-note][_ngcontent-%COMP%]{background:var(--disabled-color);color:var(--disabled-color);border-radius:.1em}[data-note][data-fret="0"][_ngcontent-%COMP%]{border-top-left-radius:100%;border-top-right-radius:100%}[data-note][_ngcontent-%COMP%]:hover, [data-note].active[_ngcontent-%COMP%]{color:#fff;text-shadow:0 0 1ex #000;border:solid 1pt #fff}.fret-mark[_ngcontent-%COMP%]{color:#444;font-size:5mm;text-align:right;width:1cm;text-wrap:nowrap}.fret-mark[data-fret="3"][_ngcontent-%COMP%], .fret-mark[data-fret="5"][_ngcontent-%COMP%], .fret-mark[data-fret="7"][_ngcontent-%COMP%], .fret-mark[data-fret="9"][_ngcontent-%COMP%], .fret-mark[data-fret="12"][_ngcontent-%COMP%], .fret-mark[data-fret="15"][_ngcontent-%COMP%]{color:#fff}.fret-mark[data-fret="3"][_ngcontent-%COMP%]:before, .fret-mark[data-fret="5"][_ngcontent-%COMP%]:before, .fret-mark[data-fret="7"][_ngcontent-%COMP%]:before, .fret-mark[data-fret="9"][_ngcontent-%COMP%]:before, .fret-mark[data-fret="12"][_ngcontent-%COMP%]:before, .fret-mark[data-fret="15"][_ngcontent-%COMP%]:before{content:"\\2b24";margin-right:1ex}.fret-mark[data-fret="12"][_ngcontent-%COMP%]:before{content:"\\2b24\\2b24"}[data-mode=vi][_ngcontent-%COMP%]{background:var(--vi-color);color:var(--vi-color);border-color:var(--vi-color)}[data-mode=ii][_ngcontent-%COMP%]{background:var(--ii-color);color:var(--ii-color);border-color:var(--ii-color)}[data-mode=iii][_ngcontent-%COMP%]{background:var(--iii-color);color:var(--iii-color);border-color:var(--iii-color)}[data-mode=vii][_ngcontent-%COMP%]{background:var(--vii-color);color:var(--vii-color);border-color:var(--vii-color)}[data-mode=IV][_ngcontent-%COMP%]{background:var(--IV-color);color:var(--IV-color);border-color:var(--IV-color)}[data-mode=V][_ngcontent-%COMP%]{background:var(--V-color);color:var(--V-color);border-color:var(--V-color)}[data-mode=I][_ngcontent-%COMP%]{background:var(--I-color);color:var(--I-color);border-color:var(--I-color)}[data-degree="0"][_ngcontent-%COMP%]{color:#fff4;font-weight:700}']});let t=e;return t})();function aR(t,e){if(t&1){let n=zt();Dt(0),Le(1,"input",1),Je("change",function(o){ft(n);let i=le();return pt(i.uploadFile(o))}),je(),Ct(2,"br"),St()}}function cR(t,e){if(t&1){let n=zt();Le(0,"button",3),Je("click",function(){ft(n);let o=le(2);return pt(o.playSong())}),kt(1,"\u23F5"),je()}}function uR(t,e){if(t&1){let n=zt();Le(0,"button",3),Je("click",function(){ft(n);let o=le(2);return pt(o.pauseSong())}),kt(1,"\u23F8"),je()}}function lR(t,e){if(t&1&&(Dt(0),kt(1),St()),t&2){let n=e.$implicit;Se(1),Cn(" ",n.toAscii()," ")}}function dR(t,e){if(t&1&&(Dt(0),kt(1),St()),t&2){let n=le(3);Se(1),Cn(" ",n.currentPatternInStructure.pattern.duration.toBars(),"m ")}}function hR(t,e){if(t&1){let n=zt();Le(0,"app-rythm-bar",9),Je("addEvent",function(o){ft(n);let i=le(5);return pt(i.addEvent(o))})("removeEvent",function(o){ft(n);let i=le(5);return pt(i.removeEvent(o))}),je()}if(t&2){let n=le().$implicit,r=le(4);_e("number",n)("events",r.currentPatternInStructure.pattern.events)("timecode",r.rythmBarTimecode)}}function fR(t,e){if(t&1&&(Dt(0),$e(1,hR,1,3,"app-rythm-bar",8),Ct(2,"br"),St()),t&2){let n=le(4);Se(1),_e("ngIf",n.currentPatternInStructure.pattern.events==null?null:n.currentPatternInStructure.pattern.events.length)}}function pR(t,e){if(t&1&&(Dt(0),$e(1,fR,3,1,"ng-container",7),St()),t&2){let n=le(3);Se(1),_e("ngForOf",n.sequence(n.currentPatternInStructure.pattern.duration.toBars(),n.currentPatternInStructure.eventsStartTime.toBars()+1))}}function mR(t,e){if(t&1&&(Dt(0),kt(1),Ct(2,"br"),$e(3,lR,2,1,"ng-container",0)(4,dR,2,1,"ng-container",0),Ct(5,"br")(6,"app-fretboard",6),$e(7,pR,2,1,"ng-container",0),St()),t&2){let n=le(2);Se(1),Cn(" ",n.currentPatternInStructure.pattern.name,""),Se(2),_e("ngIf",n.currentPatternInStructure.pattern.chords),Se(1),_e("ngIf",!n.currentPatternInStructure.pattern.chords),Se(2),_e("lowestFret",0)("fretsCount",7)("key",n.currentPatternInStructure.pattern.key)("currentNote",n.currentChord==null?null:n.currentChord.root),Se(1),_e("ngIf",n.currentPatternInStructure.eventsStartTime)}}function gR(t,e){if(t&1){let n=zt();Dt(0),kt(1),$e(2,cR,2,0,"button",2)(3,uR,2,0,"button",2),Le(4,"button",3),Je("click",function(){ft(n);let o=le();return pt(o.stopSong())}),kt(5,"\u23F9"),je(),Ct(6,"br"),Le(7,"input",4),Je("change",function(o){ft(n);let i=le();return pt(i.setProgress(o))}),je(),Ct(8,"br"),kt(9," Gm "),Le(10,"app-structure",5),Je("clickPatternInStructure",function(o){ft(n);let i=le();return pt(i.onClickPatternInStructure(o))}),je(),Ct(11,"br"),$e(12,mR,8,8,"ng-container",0),St()}if(t&2){let n=le();Se(1),Cn(" ",n.timecode," "),Se(1),_e("ngIf",!n.playing),Se(1),_e("ngIf",n.playing),Se(4),_e("value",n.progress),Se(3),_e("structure",n.structure)("currentPatternInStructure",n.currentPatternInStructure),Se(2),_e("ngIf",n.currentPatternInStructure)}}var $C=new rt(Mn(3*60+28,"s")),Fn=[new j(0,-1.1762159715284715),new j(.6474583333333334,0),new j(2.5494791666666665,4),new j(4.533229166666667,8),new j(6.414729166666667,12),new j(8.447458333333334,16),new j(8.623416666666666,16.323610764235763),new j(10.798354166666666,20.323610764235763),new j(12.963208333333332,24.323610764235763),new j(15.102354166666666,28.323610764235763),new j(19.361729166666667,36.32361076423577),new j(21.5016875,40.32361076423577),new j(23.657645833333333,44.32361076423577),new j(25.796,48.32361076423577),new j(30.123145833333332,56.32361076423577),new j(32.3084375,60.32361076423577),new j(36.767270833333335,68.32361076423577),new j(38.93233333333333,72.32361076423577),new j(41.07664583333333,76.32361076423577),new j(45.41322916666667,84.32361076423577),new j(47.56552083333333,88.32361076423577),new j(49.75370833333333,92.32361076423577),new j(54.171625,100.32361076423577),new j(56.36841666666666,104.32361076423577),new j(58.552125,108.32361076423577),new j(60.758874999999996,112.32361076423577),new j(62.94252083333333,116.32361076423577),new j(65.11383333333333,120.32361076423577),new j(69.3805,128.32361076423575),new j(71.57797916666667,132.32361076423575),new j(73.79679166666666,136.32361076423575),new j(76.00502083333333,140.32361076423575),new j(78.20058333333333,144.32361076423575),new j(80.44814583333333,148.32361076423575),new j(82.71722916666667,152.32361076423575),new j(84.971625,156.32361076423575),new j(89.40552083333333,164.32361076423575),new j(91.63077083333333,168.32361076423575),new j(96.12441666666666,176.32361076423575),new j(98.34041666666667,180.32361076423575),new j(100.53739583333333,184.32361076423575),new j(102.71122916666667,188.32361076423575),new j(104.869875,192.32361076423575),new j(107.0630625,196.32361076423575),new j(111.51870833333334,204.32361076423575),new j(115.91847916666666,212.32361076423575),new j(118.13981249999999,216.32361076423575),new j(120.3725625,220.32361076423575),new j(122.5775625,224.32361076423575),new j(124.79789583333333,228.32361076423575),new j(129.27608333333333,236.32361076423575),new j(135.8514375,248.32361076423575),new j(138.0909375,252.32361076423575),new j(140.3044375,256.32361076423575),new j(144.69927083333332,264.32361076423575),new j(146.91591666666667,268.32361076423575),new j(149.09029166666667,272.32361076423575),new j(151.29185416666667,276.32361076423575),new j(155.75666666666666,284.32361076423575),new j(164.63647916666667,300.32361076423575),new j(169.0448125,308.32361076423575),new j(171.278875,312.32361076423575),new j(173.54152083333332,316.32361076423575),new j(175.77772916666666,320.32361076423575),new j(177.99827083333332,324.32361076423575),new j(182.51258333333334,332.32361076423575),new j(184.74072916666665,336.32361076423575),new j(186.95395833333333,340.32361076423575),new j(189.1530833333333,344.32361076423575),new j(191.3145625,348.32361076423575),new j(193.45008333333334,352.32361076423575),new j(195.61702083333333,356.32361076423575),new j(197.8255,360.32361076423575),new j(197.84312565104167,360.35486076423575)],HC=(()=>{let e=class e{constructor(r){this.changeDetectorRef=r,this.events=Gi.fromEach(Po),this.progress=0,this.sequence=no,en.schedule(function(o){console.log("Premi\xE8re mesure")},"1m")}addEvent(r){this.events.push(r),this.logEvents(),this.changeDetectorRef.detectChanges()}removeEvent(r){this.events.splice(this.events.indexOf(r),1),this.logEvents(),this.changeDetectorRef.detectChanges()}logEvents(){console.log(this.events)}uploadFile(r){return z(this,null,function*(){let i=r.currentTarget.files;if(!i?.length)return;let s=i[0];console.log("audioFile",s);let a=URL.createObjectURL(s),c=new zo({url:a}).toDestination();yield Ll();let u=new Ms(new At(7),new At(9)),l=Lr.fromData({name:"Partie bombarde",initial:"B",key:u,chords:"| Gm F | Eb D |",duration:"2m",events:Po.filter(_=>_.bar>=1||_.bar<=2)}),d=Lr.fromData({name:"Bombarde seule",initial:"B*1",duration:"1m",key:u}),h=Lr.fromData({name:"Retour groupe",initial:"B*2",chords:"| Eb D |",duration:"1m",key:u,events:Po.filter(_=>_.bar==2)}),f=Lr.fromData({name:"Couplet",key:u,chords:"| Gm F | Eb D |",duration:"2m",events:Po.filter(_=>_.bar>=3||_.bar<=4)}),p=Lr.fromData({name:"Couplet*",initial:"C*",key:u,chords:"| Gm F | Eb Bb |",duration:"2m",events:Po.filter(_=>_.bar>=3||_.bar<=4)}),g=Lr.fromData({name:"Refrain",duration:"4m",key:u,chords:"| Bb | F | C | Gm |",events:Po.filter(_=>_.bar>=5)}),m=[l,l],v=[g],D=[...m,...m],I=[d,h,l,...m],M=[f,f,f,p],C=[...v,...v],b=new Bl([...m,...m,...m,...M,...D,...M,...C,...I,...M,...D,...M,...C,...I],_=>{if(_===l)return rt.fromValue("0:0");if(_!==d){if(_===h)return rt.fromValue("1:0");if(_===f)return rt.fromValue("2:0");if(_===p)return rt.fromValue("2:0");if(_===g)return rt.fromValue("4:0");throw new Error("Pattern inconnu")}});en.bpm.value=120,en.loop=!0,en.loopStart=0,en.loopEnd=$C.toSeconds(),c.sync().start(0);let x=new Ja(_=>{jC.schedule(()=>{this.refresh(_)},_)},"16n").start(0);this.structure=b})}refresh(r){let o=s=>{let a=s.position.toString().split(":"),c=+a[0]+1,u=+a[1]+1,l=Math.floor(+a[2])+1;return`${c}:${u}:${l}`};this.progress=Math.min(Math.max(0,en.progress),1)*100;let i=this.getWrappedPosition(en.seconds);if(this.timecode=i?.toAbletonLiveBarsBeatsSixteenths(),this.structure&&i){let s=rt.fromValue(0),a=i.add(s);this.currentPatternInStructure=this.structure.getPatternInStructureAt(a),this.currentChord=this.currentPatternInStructure?.getChordAt(a),this.currentPatternInStructure?.eventsStartTime?this.rythmBarTimecode=a.relativeTo(this.currentPatternInStructure.startTime).add(this.currentPatternInStructure.eventsStartTime).toAbletonLiveBarsBeatsSixteenths():delete this.rythmBarTimecode}this.changeDetectorRef.detectChanges()}getWrappedPosition(r){if(r<Fn[0].secTime||r>Fn[Fn.length-1].secTime)return;let o=Fn.findIndex(f=>r<f.secTime),i=Fn[o-1],s=Fn[o],a=(r-i.secTime)/(s.secTime-i.secTime),c=i.beatTime+a*(s.beatTime-i.beatTime),u=Math.floor(c/4),l=Math.floor(c)-u*4,d=c%1*4,h=`${u}:${l}:${d}`;return new rt(Mn(h))}getWrappedTime(r){let o=r.toAbletonLiveBeatTime();if(o<Fn[0].beatTime||o>Fn[Fn.length-1].beatTime)return;let i=Fn.findIndex(l=>o<l.beatTime),s=Fn[i-1],a=Fn[i],c=(o-s.beatTime)/(a.beatTime-s.beatTime),u=s.secTime+c*(a.secTime-s.secTime);return new rt(Mn(u))}playSong(){return z(this,null,function*(){console.log("playSong"),yield Ll(),za(),en.start()})}pauseSong(){return z(this,null,function*(){console.log("pauseSong"),yield Ll(),en.pause()})}stopSong(){console.log("stopSong"),en.stop()}onClickPatternInStructure(r){let o=this.getWrappedTime(r.startTime);if(o){let i=o.toSeconds()/$C.toSeconds();this.setProgressPercent(i*100)}}loopPattern(r){return z(this,null,function*(){let o=i=>{let s=["C","B","R"].indexOf(i);if(s===-1)return;let c=document.getElementsByTagName("input")?.[s].files?.[0];if(c)return console.log("file",c),URL.createObjectURL(c)}})}play(){return z(this,null,function*(){if(this.player){console.log("play");let r="https://drive.google.com/file/d/1DktZf_rGRaoRxoJEbo3NVWd9yYFX39aj/view?usp=sharing",o="https://drive.usercontent.google.com/u/0/uc?id=1DktZf_rGRaoRxoJEbo3NVWd9yYFX39aj&export=download",i="../assets/audio/Petit Papillon/Partie bombarde [2024-01-31 233921].wav";yield za(),this.player.start()}})}stop(){return z(this,null,function*(){this.player&&(yield za(),this.player.stop()),this.refresh()})}setProgress(r){let i=+r.target.value;this.setProgressPercent(i)}setProgressPercent(r){let o=new rt(Mn(r/100*+en.loopEnd.valueOf(),"s"));en.position=o.toBarsBeatsSixteenths(),this.refresh()}get playing(){return en.state==="started"}};e.\u0275fac=function(o){return new(o||e)(Ot(Mr))},e.\u0275cmp=ze({type:e,selectors:[["app-rythm-sandbox"]],standalone:!0,features:[at],decls:2,vars:2,consts:[[4,"ngIf"],["type","file","accept",".wav,.mp3",3,"change"],[3,"click",4,"ngIf"],[3,"click"],["type","range","min","0","max","100","step","1",3,"value","change"],[3,"structure","currentPatternInStructure","clickPatternInStructure"],[3,"lowestFret","fretsCount","key","currentNote"],[4,"ngFor","ngForOf"],[3,"number","events","timecode","addEvent","removeEvent",4,"ngIf"],[3,"number","events","timecode","addEvent","removeEvent"]],template:function(o,i){o&1&&$e(0,aR,3,0,"ng-container",0)(1,gR,13,7,"ng-container",0),o&2&&(_e("ngIf",!i.structure),Se(1),_e("ngIf",i.structure))},dependencies:[lx,hx,vt,Dn,Ri,ox,qC],styles:["[_nghost-%COMP%]{width:100%}input[type=range][_ngcontent-%COMP%]{width:100%}"]});let t=e;return t})();var WC=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=Gt({type:e,bootstrap:[sx]}),e.\u0275inj=Wt({imports:[vt,d_,ix,tx.forRoot([{path:"",component:HC}])]});let t=e;return t})();l_().bootstrapModule(WC).catch(t=>console.error(t));
