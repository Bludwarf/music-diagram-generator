var GC=Object.create;var Hl=Object.defineProperty,zC=Object.defineProperties,ZC=Object.getOwnPropertyDescriptor,YC=Object.getOwnPropertyDescriptors,QC=Object.getOwnPropertyNames,nc=Object.getOwnPropertySymbols,XC=Object.getPrototypeOf,Wl=Object.prototype.hasOwnProperty,pm=Object.prototype.propertyIsEnumerable;var fm=(t,e,n)=>e in t?Hl(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,x=(t,e)=>{for(var n in e||={})Wl.call(e,n)&&fm(t,n,e[n]);if(nc)for(var n of nc(e))pm.call(e,n)&&fm(t,n,e[n]);return t},V=(t,e)=>zC(t,YC(e));var jr=(t,e)=>{var n={};for(var r in t)Wl.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&nc)for(var r of nc(t))e.indexOf(r)<0&&pm.call(t,r)&&(n[r]=t[r]);return n};var gn=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var KC=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of QC(e))!Wl.call(t,o)&&o!==n&&Hl(t,o,{get:()=>e[o],enumerable:!(r=ZC(e,o))||r.enumerable});return t};var mm=(t,e,n)=>(n=t!=null?GC(XC(t)):{},KC(e||!t||!t.__esModule?Hl(n,"default",{value:t,enumerable:!0}):n,t));var z=(t,e,n)=>new Promise((r,o)=>{var i=c=>{try{a(n.next(c))}catch(u){o(u)}},s=c=>{try{a(n.throw(c))}catch(u){o(u)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(i,s);a((n=n.apply(t,e)).next())});var hx=gn((rU,Ia)=>{"use strict";function A1(t){if(Array.isArray(t))return t}Ia.exports=A1,Ia.exports.__esModule=!0,Ia.exports.default=Ia.exports});var fx=gn((oU,Aa)=>{"use strict";function M1(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,o,i,s,a=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(l){u=!0,o=l}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw o}}return a}}Aa.exports=M1,Aa.exports.__esModule=!0,Aa.exports.default=Aa.exports});var px=gn((iU,Ma)=>{"use strict";function N1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Ma.exports=N1,Ma.exports.__esModule=!0,Ma.exports.default=Ma.exports});var gx=gn((sU,Na)=>{"use strict";var mx=px();function O1(t,e){if(t){if(typeof t=="string")return mx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mx(t,e)}}Na.exports=O1,Na.exports.__esModule=!0,Na.exports.default=Na.exports});var vx=gn((aU,Oa)=>{"use strict";function k1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}Oa.exports=k1,Oa.exports.__esModule=!0,Oa.exports.default=Oa.exports});var yx=gn((cU,ka)=>{"use strict";var R1=hx(),F1=fx(),P1=gx(),V1=vx();function L1(t,e){return R1(t)||F1(t,e)||P1(t,e)||V1()}ka.exports=L1,ka.exports.__esModule=!0,ka.exports.default=ka.exports});var _x=gn((uU,Ra)=>{"use strict";function j1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Ra.exports=j1,Ra.exports.__esModule=!0,Ra.exports.default=Ra.exports});var xp=gn((lU,kr)=>{"use strict";function _p(t){"@babel/helpers - typeof";return kr.exports=_p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kr.exports.__esModule=!0,kr.exports.default=kr.exports,_p(t)}kr.exports=_p,kr.exports.__esModule=!0,kr.exports.default=kr.exports});var wx=gn((dU,Fa)=>{"use strict";var xx=xp().default;function B1(t,e){if(xx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(xx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}Fa.exports=B1,Fa.exports.__esModule=!0,Fa.exports.default=Fa.exports});var bx=gn((hU,Pa)=>{"use strict";var U1=xp().default,q1=wx();function $1(t){var e=q1(t,"string");return U1(e)=="symbol"?e:String(e)}Pa.exports=$1,Pa.exports.__esModule=!0,Pa.exports.default=Pa.exports});var Dx=gn((fU,Va)=>{"use strict";var H1=bx();function Cx(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,H1(r.key),r)}}function W1(t,e,n){return e&&Cx(t.prototype,e),n&&Cx(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}Va.exports=W1,Va.exports.__esModule=!0,Va.exports.default=Va.exports});var wp=gn((Gu,Sx)=>{"use strict";(function(t,e){typeof Gu=="object"&&typeof Sx<"u"?e(Gu,yx(),_x(),Dx()):typeof define=="function"&&define.amd?define(["exports","@babel/runtime/helpers/slicedToArray","@babel/runtime/helpers/classCallCheck","@babel/runtime/helpers/createClass"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(t.automationEvents={},t._slicedToArray,t._classCallCheck,t._createClass))})(Gu,function(t,e,n,r){"use strict";var o=function(S,A,T){return{endTime:A,insertTime:T,type:"exponentialRampToValue",value:S}},i=function(S,A,T){return{endTime:A,insertTime:T,type:"linearRampToValue",value:S}},s=function(S,A){return{startTime:A,type:"setValue",value:S}},a=function(S,A,T){return{duration:T,startTime:A,type:"setValueCurve",values:S}},c=function(S,A,T){var L=T.startTime,O=T.target,U=T.timeConstant;return O+(A-O)*Math.exp((L-S)/U)},u=function(S){return S.type==="exponentialRampToValue"},l=function(S){return S.type==="linearRampToValue"},d=function(S){return u(S)||l(S)},h=function(S){return S.type==="setValue"},f=function(S){return S.type==="setValueCurve"},p=function E(S,A,T,L){var O=S[A];return O===void 0?L:d(O)||h(O)?O.value:f(O)?O.values[O.values.length-1]:c(T,E(S,A-1,O.startTime,L),O)},g=function(S,A,T,L,O){return T===void 0?[L.insertTime,O]:d(T)?[T.endTime,T.value]:h(T)?[T.startTime,T.value]:f(T)?[T.startTime+T.duration,T.values[T.values.length-1]]:[T.startTime,p(S,A-1,T.startTime,O)]},m=function(S){return S.type==="cancelAndHold"},v=function(S){return S.type==="cancelScheduledValues"},D=function(S){return m(S)||v(S)?S.cancelTime:u(S)||l(S)?S.endTime:S.startTime},I=function(S,A,T,L){var O=L.endTime,U=L.value;return T===U?U:0<T&&0<U||T<0&&U<0?T*Math.pow(U/T,(S-A)/(O-A)):0},N=function(S,A,T,L){var O=L.endTime,U=L.value;return T+(S-A)/(O-A)*(U-T)},C=function(S,A){var T=Math.floor(A),L=Math.ceil(A);return T===L?S[T]:(1-(A-T))*S[T]+(1-(L-A))*S[L]},b=function(S,A){var T=A.duration,L=A.startTime,O=A.values,U=(S-L)/T*(O.length-1);return C(O,U)},_=function(S){return S.type==="setTarget"},w=function(E){function S(A){n(this,S),this._automationEvents=[],this._currenTime=0,this._defaultValue=A}return r(S,[{key:E,value:function(){return this._automationEvents[Symbol.iterator]()}},{key:"add",value:function(T){var L=D(T);if(m(T)||v(T)){var O=this._automationEvents.findIndex(function(Y){return v(T)&&f(Y)?Y.startTime+Y.duration>=L:D(Y)>=L}),U=this._automationEvents[O];if(O!==-1&&(this._automationEvents=this._automationEvents.slice(0,O)),m(T)){var P=this._automationEvents[this._automationEvents.length-1];if(U!==void 0&&d(U)){if(P!==void 0&&_(P))throw new Error("The internal list is malformed.");var Ie=P===void 0?U.insertTime:f(P)?P.startTime+P.duration:D(P),Le=P===void 0?this._defaultValue:f(P)?P.values[P.values.length-1]:P.value,vt=u(U)?I(L,Ie,Le,U):N(L,Ie,Le,U),bt=u(U)?o(vt,L,this._currenTime):i(vt,L,this._currenTime);this._automationEvents.push(bt)}if(P!==void 0&&_(P)&&this._automationEvents.push(s(this.getValue(L),L)),P!==void 0&&f(P)&&P.startTime+P.duration>L){var xe=L-P.startTime,re=(P.values.length-1)/P.duration,pn=Math.max(2,1+Math.ceil(xe*re)),tr=xe/(pn-1)*re,Z=P.values.slice(0,pn);if(tr<1)for(var nn=1;nn<pn;nn+=1){var Sr=tr*nn%1;Z[nn]=P.values[nn-1]*(1-Sr)+P.values[nn]*Sr}this._automationEvents[this._automationEvents.length-1]=a(Z,P.startTime,xe)}}}else{var Fn=this._automationEvents.findIndex(function(Y){return D(Y)>L}),nr=Fn===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[Fn-1];if(nr!==void 0&&f(nr)&&D(nr)+nr.duration>L)return!1;var q=u(T)?o(T.value,T.endTime,this._currenTime):l(T)?i(T.value,L,this._currenTime):T;if(Fn===-1)this._automationEvents.push(q);else{if(f(T)&&L+T.duration>D(this._automationEvents[Fn]))return!1;this._automationEvents.splice(Fn,0,q)}}return!0}},{key:"flush",value:function(T){var L=this._automationEvents.findIndex(function(P){return D(P)>T});if(L>1){var O=this._automationEvents.slice(L-1),U=O[0];_(U)&&O.unshift(s(p(this._automationEvents,L-2,U.startTime,this._defaultValue),U.startTime)),this._automationEvents=O}}},{key:"getValue",value:function(T){if(this._automationEvents.length===0)return this._defaultValue;var L=this._automationEvents.findIndex(function(Z){return D(Z)>T}),O=this._automationEvents[L],U=(L===-1?this._automationEvents.length:L)-1,P=this._automationEvents[U];if(P!==void 0&&_(P)&&(O===void 0||!d(O)||O.insertTime>T))return c(T,p(this._automationEvents,U-1,P.startTime,this._defaultValue),P);if(P!==void 0&&h(P)&&(O===void 0||!d(O)))return P.value;if(P!==void 0&&f(P)&&(O===void 0||!d(O)||P.startTime+P.duration>T))return T<P.startTime+P.duration?b(T,P):P.values[P.values.length-1];if(P!==void 0&&d(P)&&(O===void 0||!d(O)))return P.value;if(O!==void 0&&u(O)){var Ie=g(this._automationEvents,U,P,O,this._defaultValue),Le=e(Ie,2),vt=Le[0],bt=Le[1];return I(T,vt,bt,O)}if(O!==void 0&&l(O)){var xe=g(this._automationEvents,U,P,O,this._defaultValue),re=e(xe,2),pn=re[0],tr=re[1];return N(T,pn,tr,O)}return this._defaultValue}}]),S}(Symbol.iterator),R=function(S){return{cancelTime:S,type:"cancelAndHold"}},H=function(S){return{cancelTime:S,type:"cancelScheduledValues"}},k=function(S,A){return{endTime:A,type:"exponentialRampToValue",value:S}},M=function(S,A){return{endTime:A,type:"linearRampToValue",value:S}},W=function(S,A,T){return{startTime:A,target:S,timeConstant:T,type:"setTarget"}};t.AutomationEventList=w,t.createCancelAndHoldAutomationEvent=R,t.createCancelScheduledValuesAutomationEvent=H,t.createExponentialRampToValueAutomationEvent=k,t.createLinearRampToValueAutomationEvent=M,t.createSetTargetAutomationEvent=W,t.createSetValueAutomationEvent=s,t.createSetValueCurveAutomationEvent=a})});var gm=null;var Gl=1;function rn(t){let e=gm;return gm=t,e}var vm={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function JC(t){if(!(Yl(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Gl)){if(!t.producerMustRecompute(t)&&!zl(t)){t.dirty=!1,t.lastCleanEpoch=Gl;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Gl}}function ym(t){return t&&(t.nextProducerIndex=0),rn(t)}function _m(t,e){if(rn(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Yl(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Zl(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function zl(t){rc(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(JC(n),r!==n.version))return!0}return!1}function xm(t){if(rc(t),Yl(t))for(let e=0;e<t.producerNode.length;e++)Zl(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Zl(t,e){if(eD(t),rc(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)Zl(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],o=t.liveConsumerNode[e];rc(o),o.producerIndexOfThis[r]=e}}function Yl(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function rc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function eD(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function tD(){throw new Error}var nD=tD;function wm(t){nD=t}function J(t){return typeof t=="function"}function zo(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var oc=zo(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,o)=>`${o+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function ho(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var et=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let i of n)i.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(J(r))try{r()}catch(i){e=i instanceof oc?i.errors:[i]}let{_finalizers:o}=this;if(o){this._finalizers=null;for(let i of o)try{bm(i)}catch(s){e=e??[],s instanceof oc?e=[...e,...s.errors]:e.push(s)}}if(e)throw new oc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)bm(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&ho(n,e)}remove(e){let{_finalizers:n}=this;n&&ho(n,e),e instanceof t&&e._removeParent(this)}};et.EMPTY=(()=>{let t=new et;return t.closed=!0,t})();var Ql=et.EMPTY;function ic(t){return t instanceof et||t&&"closed"in t&&J(t.remove)&&J(t.add)&&J(t.unsubscribe)}function bm(t){J(t)?t():t.unsubscribe()}var Pn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Zo={setTimeout(t,e,...n){let{delegate:r}=Zo;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Zo;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function sc(t){Zo.setTimeout(()=>{let{onUnhandledError:e}=Pn;if(e)e(t);else throw t})}function Os(){}var Cm=(()=>Xl("C",void 0,void 0))();function Dm(t){return Xl("E",void 0,t)}function Sm(t){return Xl("N",t,void 0)}function Xl(t,e,n){return{kind:t,value:e,error:n}}var fo=null;function Yo(t){if(Pn.useDeprecatedSynchronousErrorHandling){let e=!fo;if(e&&(fo={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=fo;if(fo=null,n)throw r}}else t()}function Tm(t){Pn.useDeprecatedSynchronousErrorHandling&&fo&&(fo.errorThrown=!0,fo.error=t)}var po=class extends et{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,ic(e)&&e.add(this)):this.destination=iD}static create(e,n,r){return new Qo(e,n,r)}next(e){this.isStopped?Jl(Sm(e),this):this._next(e)}error(e){this.isStopped?Jl(Dm(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Jl(Cm,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},rD=Function.prototype.bind;function Kl(t,e){return rD.call(t,e)}var ed=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){ac(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){ac(r)}else ac(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){ac(n)}}},Qo=class extends po{constructor(e,n,r){super();let o;if(J(e)||!e)o={next:e??void 0,error:n??void 0,complete:r??void 0};else{let i;this&&Pn.useDeprecatedNextContext?(i=Object.create(e),i.unsubscribe=()=>this.unsubscribe(),o={next:e.next&&Kl(e.next,i),error:e.error&&Kl(e.error,i),complete:e.complete&&Kl(e.complete,i)}):o=e}this.destination=new ed(o)}};function ac(t){Pn.useDeprecatedSynchronousErrorHandling?Tm(t):sc(t)}function oD(t){throw t}function Jl(t,e){let{onStoppedNotification:n}=Pn;n&&Zo.setTimeout(()=>n(t,e))}var iD={closed:!0,next:Os,error:oD,complete:Os};var Xo=(()=>typeof Symbol=="function"&&Symbol.observable||"@@observable")();function on(t){return t}function td(...t){return nd(t)}function nd(t){return t.length===0?on:t.length===1?t[0]:function(n){return t.reduce((r,o)=>o(r),n)}}var Ne=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,o){let i=aD(n)?n:new Qo(n,r,o);return Yo(()=>{let{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Em(r),new r((o,i)=>{let s=new Qo({next:a=>{try{n(a)}catch(c){i(c),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Xo](){return this}pipe(...n){return nd(n)(this)}toPromise(n){return n=Em(n),new n((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return t.create=e=>new t(e),t})();function Em(t){var e;return(e=t??Pn.Promise)!==null&&e!==void 0?e:Promise}function sD(t){return t&&J(t.next)&&J(t.error)&&J(t.complete)}function aD(t){return t&&t instanceof po||sD(t)&&ic(t)}function rd(t){return J(t?.lift)}function ve(t){return e=>{if(rd(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ye(t,e,n,r,o){return new od(t,e,n,r,o)}var od=class extends po{constructor(e,n,r,o,i,s){super(e),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=o?function(a){try{o(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Ko(){return ve((t,e)=>{let n=null;t._refCount++;let r=ye(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let o=t._connection,i=n;n=null,o&&(!i||o===i)&&o.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Jo=class extends Ne{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,rd(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new et;let n=this.getSubject();e.add(this.source.subscribe(ye(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=et.EMPTY)}return e}refCount(){return Ko()(this)}};var Im=zo(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var sn=(()=>{class t extends Ne{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new cc(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Im}next(n){Yo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Yo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Yo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:o,observers:i}=this;return r||o?Ql:(this.currentObservers=null,i.push(n),new et(()=>{this.currentObservers=null,ho(i,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:o,isStopped:i}=this;r?n.error(o):i&&n.complete()}asObservable(){let n=new Ne;return n.source=this,n}}return t.create=(e,n)=>new cc(e,n),t})(),cc=class extends sn{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Ql}};var Ct=class extends sn{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var id={now(){return(id.delegate||Date).now()},delegate:void 0};var uc=class extends et{constructor(e,n){super()}schedule(e,n=0){return this}};var ks={setInterval(t,e,...n){let{delegate:r}=ks;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=ks;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var lc=class extends uc{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let o=this.id,i=this.scheduler;return o!=null&&(this.id=this.recycleAsyncId(i,o,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(i,this.id,n),this}requestAsyncId(e,n,r=0){return ks.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&ks.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,o;try{this.work(e)}catch(i){r=!0,o=i||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,ho(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var ei=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};ei.now=id.now;var dc=class extends ei{constructor(e,n=ei.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Am=new dc(lc);var vn=new Ne(t=>t.complete());function Mm(t){return t&&J(t.schedule)}function Nm(t){return t[t.length-1]}function Om(t){return J(Nm(t))?t.pop():void 0}function Br(t){return Mm(Nm(t))?t.pop():void 0}function At(t,e,n,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(i=(o<3?s(i):o>3?s(e,n,i):s(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i}function _e(t,e,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?i(l.value):o(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}function km(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function mo(t){return this instanceof mo?(this.v=t,this):new mo(t)}function Rm(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),o,i=[];return o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o;function s(h){r[h]&&(o[h]=function(f){return new Promise(function(p,g){i.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{c(r[h](f))}catch(p){d(i[0][3],p)}}function c(h){h.value instanceof mo?Promise.resolve(h.value.v).then(u,l):d(i[0][2],h)}function u(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),i.shift(),i.length&&a(i[0][0],i[0][1])}}function Fm(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof km=="function"?km(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(s){return new Promise(function(a,c){s=t[i](s),o(a,c,s.done,s.value)})}}function o(i,s,a,c){Promise.resolve(c).then(function(u){i({value:u,done:a})},s)}}var ti=t=>t&&typeof t.length=="number"&&typeof t!="function";function hc(t){return J(t?.then)}function fc(t){return J(t[Xo])}function pc(t){return Symbol.asyncIterator&&J(t?.[Symbol.asyncIterator])}function mc(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function cD(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var gc=cD();function vc(t){return J(t?.[gc])}function yc(t){return Rm(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:o}=yield mo(n.read());if(o)return yield mo(void 0);yield yield mo(r)}}finally{n.releaseLock()}})}function _c(t){return J(t?.getReader)}function it(t){if(t instanceof Ne)return t;if(t!=null){if(fc(t))return uD(t);if(ti(t))return lD(t);if(hc(t))return dD(t);if(pc(t))return Pm(t);if(vc(t))return hD(t);if(_c(t))return fD(t)}throw mc(t)}function uD(t){return new Ne(e=>{let n=t[Xo]();if(J(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function lD(t){return new Ne(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function dD(t){return new Ne(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,sc)})}function hD(t){return new Ne(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Pm(t){return new Ne(e=>{pD(t,e).catch(n=>e.error(n))})}function fD(t){return Pm(yc(t))}function pD(t,e){var n,r,o,i;return _e(this,void 0,void 0,function*(){try{for(n=Fm(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=n.return)&&(yield i.call(n))}finally{if(o)throw o.error}}e.complete()})}function Wt(t,e,n,r=0,o=!1){let i=e.schedule(function(){n(),o?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(i),!o)return i}function xc(t,e=0){return ve((n,r)=>{n.subscribe(ye(r,o=>Wt(r,t,()=>r.next(o),e),()=>Wt(r,t,()=>r.complete(),e),o=>Wt(r,t,()=>r.error(o),e)))})}function wc(t,e=0){return ve((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Vm(t,e){return it(t).pipe(wc(e),xc(e))}function Lm(t,e){return it(t).pipe(wc(e),xc(e))}function jm(t,e){return new Ne(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function Bm(t,e){return new Ne(n=>{let r;return Wt(n,e,()=>{r=t[gc](),Wt(n,e,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){n.error(s);return}i?n.complete():n.next(o)},0,!0)}),()=>J(r?.return)&&r.return()})}function bc(t,e){if(!t)throw new Error("Iterable cannot be null");return new Ne(n=>{Wt(n,e,()=>{let r=t[Symbol.asyncIterator]();Wt(n,e,()=>{r.next().then(o=>{o.done?n.complete():n.next(o.value)})},0,!0)})})}function Um(t,e){return bc(yc(t),e)}function qm(t,e){if(t!=null){if(fc(t))return Vm(t,e);if(ti(t))return jm(t,e);if(hc(t))return Lm(t,e);if(pc(t))return bc(t,e);if(vc(t))return Bm(t,e);if(_c(t))return Um(t,e)}throw mc(t)}function tt(t,e){return e?qm(t,e):it(t)}function ae(...t){let e=Br(t);return tt(t,e)}function ni(t,e){let n=J(t)?t:()=>t,r=o=>o.error(n());return new Ne(e?o=>e.schedule(r,0,o):r)}function sd(t){return!!t&&(t instanceof Ne||J(t.lift)&&J(t.subscribe))}var Tr=zo(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Ce(t,e){return ve((n,r)=>{let o=0;n.subscribe(ye(r,i=>{r.next(t.call(e,i,o++))}))})}var{isArray:mD}=Array;function gD(t,e){return mD(e)?t(...e):t(e)}function Cc(t){return Ce(e=>gD(t,e))}var{isArray:vD}=Array,{getPrototypeOf:yD,prototype:_D,keys:xD}=Object;function $m(t){if(t.length===1){let e=t[0];if(vD(e))return{args:e,keys:null};if(wD(e)){let n=xD(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function wD(t){return t&&typeof t=="object"&&yD(t)===_D}function Hm(t,e){return t.reduce((n,r,o)=>(n[r]=e[o],n),{})}function Rs(...t){let e=Br(t),n=Om(t),{args:r,keys:o}=$m(t);if(r.length===0)return tt([],e);let i=new Ne(bD(r,e,o?s=>Hm(o,s):on));return n?i.pipe(Cc(n)):i}function bD(t,e,n=on){return r=>{Wm(e,()=>{let{length:o}=t,i=new Array(o),s=o,a=o;for(let c=0;c<o;c++)Wm(e,()=>{let u=tt(t[c],e),l=!1;u.subscribe(ye(r,d=>{i[c]=d,l||(l=!0,a--),a||r.next(n(i.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Wm(t,e,n){t?Wt(n,t,e):e()}function Gm(t,e,n,r,o,i,s,a){let c=[],u=0,l=0,d=!1,h=()=>{d&&!c.length&&!u&&e.complete()},f=g=>u<r?p(g):c.push(g),p=g=>{i&&e.next(g),u++;let m=!1;it(n(g,l++)).subscribe(ye(e,v=>{o?.(v),i?f(v):e.next(v)},()=>{m=!0},void 0,()=>{if(m)try{for(u--;c.length&&u<r;){let v=c.shift();s?Wt(e,s,()=>p(v)):p(v)}h()}catch(v){e.error(v)}}))};return t.subscribe(ye(e,f,()=>{d=!0,h()})),()=>{a?.()}}function Ze(t,e,n=1/0){return J(e)?Ze((r,o)=>Ce((i,s)=>e(r,i,o,s))(it(t(r,o))),n):(typeof e=="number"&&(n=e),ve((r,o)=>Gm(r,o,t,n)))}function ri(t=1/0){return Ze(on,t)}function zm(){return ri(1)}function oi(...t){return zm()(tt(t,Br(t)))}function Dc(t){return new Ne(e=>{it(t()).subscribe(e)})}var CD=["addListener","removeListener"],DD=["addEventListener","removeEventListener"],SD=["on","off"];function Fs(t,e,n,r){if(J(n)&&(r=n,n=void 0),r)return Fs(t,e,n).pipe(Cc(r));let[o,i]=ID(t)?DD.map(s=>a=>t[s](e,a,n)):TD(t)?CD.map(Zm(t,e)):ED(t)?SD.map(Zm(t,e)):[];if(!o&&ti(t))return Ze(s=>Fs(s,e,n))(it(t));if(!o)throw new TypeError("Invalid event target");return new Ne(s=>{let a=(...c)=>s.next(1<c.length?c:c[0]);return o(a),()=>i(a)})}function Zm(t,e){return n=>r=>t[n](e,r)}function TD(t){return J(t.addListener)&&J(t.removeListener)}function ED(t){return J(t.on)&&J(t.off)}function ID(t){return J(t.addEventListener)&&J(t.removeEventListener)}function yn(t,e){return ve((n,r)=>{let o=0;n.subscribe(ye(r,i=>t.call(e,i,o++)&&r.next(i)))})}function Ur(t){return ve((e,n)=>{let r=null,o=!1,i;r=e.subscribe(ye(n,void 0,void 0,s=>{i=it(t(s,Ur(t)(e))),r?(r.unsubscribe(),r=null,i.subscribe(n)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(n))})}function Ym(t,e,n,r,o){return(i,s)=>{let a=n,c=e,u=0;i.subscribe(ye(s,l=>{let d=u++;c=a?t(c,l,d):(a=!0,l),r&&s.next(c)},o&&(()=>{a&&s.next(c),s.complete()})))}}function go(t,e){return J(e)?Ze(t,e,1):Ze(t,1)}function ad(t,e=Am){return ve((n,r)=>{let o=null,i=null,s=null,a=()=>{if(o){o.unsubscribe(),o=null;let u=i;i=null,r.next(u)}};function c(){let u=s+t,l=e.now();if(l<u){o=this.schedule(void 0,u-l),r.add(o);return}a()}n.subscribe(ye(r,u=>{i=u,s=e.now(),o||(o=e.schedule(c,t),r.add(o))},()=>{a(),r.complete()},void 0,()=>{i=o=null}))})}function qr(t){return ve((e,n)=>{let r=!1;e.subscribe(ye(n,o=>{r=!0,n.next(o)},()=>{r||n.next(t),n.complete()}))})}function Er(t){return t<=0?()=>vn:ve((e,n)=>{let r=0;e.subscribe(ye(n,o=>{++r<=t&&(n.next(o),t<=r&&n.complete())}))})}function cd(t){return Ce(()=>t)}function Sc(t=AD){return ve((e,n)=>{let r=!1;e.subscribe(ye(n,o=>{r=!0,n.next(o)},()=>r?n.complete():n.error(t())))})}function AD(){return new Tr}function Ps(t){return ve((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function rr(t,e){let n=arguments.length>=2;return r=>r.pipe(t?yn((o,i)=>t(o,i,r)):on,Er(1),n?qr(e):Sc(()=>new Tr))}function ii(t){return t<=0?()=>vn:ve((e,n)=>{let r=[];e.subscribe(ye(n,o=>{r.push(o),t<r.length&&r.shift()},()=>{for(let o of r)n.next(o);n.complete()},void 0,()=>{r=null}))})}function ud(t,e){let n=arguments.length>=2;return r=>r.pipe(t?yn((o,i)=>t(o,i,r)):on,ii(1),n?qr(e):Sc(()=>new Tr))}function ld(t,e){return ve(Ym(t,e,arguments.length>=2,!0))}function dd(...t){let e=Br(t);return ve((n,r)=>{(e?oi(t,n,e):oi(t,n)).subscribe(r)})}function _n(t,e){return ve((n,r)=>{let o=null,i=0,s=!1,a=()=>s&&!o&&r.complete();n.subscribe(ye(r,c=>{o?.unsubscribe();let u=0,l=i++;it(t(c,l)).subscribe(o=ye(r,d=>r.next(e?e(c,d,l,u++):d),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function hd(t){return ve((e,n)=>{it(t).subscribe(ye(n,()=>n.complete(),Os)),!n.closed&&e.subscribe(n)})}function Ye(t,e,n){let r=J(t)||e||n?{next:t,error:e,complete:n}:t;return r?ve((o,i)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;o.subscribe(ye(i,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),i.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),i.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),i.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):on}function je(t){for(let e in t)if(t[e]===je)return e;throw Error("Could not find renamed property on target object.")}function Mt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Mt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function Qm(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var MD=je({__forward_ref__:je});function vh(t){return t.__forward_ref__=vh,t.toString=function(){return Mt(this())},t}function wn(t){return Rg(t)?t():t}function Rg(t){return typeof t=="function"&&t.hasOwnProperty(MD)&&t.__forward_ref__===vh}function Fg(t){return t&&!!t.\u0275providers}var ND="https://g.co/ng/security#xss",X=class extends Error{constructor(e,n){super(yh(e,n)),this.code=e}};function yh(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var OD=je({\u0275cmp:je}),kD=je({\u0275dir:je}),RD=je({\u0275pipe:je}),FD=je({\u0275mod:je}),Fc=je({\u0275fac:je}),Vs=je({__NG_ELEMENT_ID__:je}),Xm=je({__NG_ENV_ID__:je});function _h(t){return typeof t=="string"?t:t==null?"":String(t)}function PD(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():_h(t)}function VD(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new X(-200,`Circular dependency in DI detected for ${t}${n}`)}function xh(t,e){let n=e?` in ${e}`:"";throw new X(-201,!1)}function LD(t,e){t==null&&jD(e,t,null,"!=")}function jD(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(r==null?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}function te(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Gt(t){return{providers:t.providers||[],imports:t.imports||[]}}function Jc(t){return Km(t,Vg)||Km(t,Lg)}function Pg(t){return Jc(t)!==null}function Km(t,e){return t.hasOwnProperty(e)?t[e]:null}function BD(t){let e=t&&(t[Vg]||t[Lg]);return e||null}function Jm(t){return t&&(t.hasOwnProperty(eg)||t.hasOwnProperty(UD))?t[eg]:null}var Vg=je({\u0275prov:je}),eg=je({\u0275inj:je}),Lg=je({ngInjectableDef:je}),UD=je({ngInjectorDef:je}),he=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(he||{}),Sd;function jg(){return Sd}function xn(t){let e=Sd;return Sd=t,e}function Bg(t,e,n){let r=Jc(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&he.Optional)return null;if(e!==void 0)return e;xh(Mt(t),"Injector")}var an=globalThis;var ce=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=te({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};var qD={},js=qD,Td="__NG_DI_FLAG__",Pc="ngTempTokenPath",$D="ngTokenPath",HD=/\n/gm,WD="\u0275",tg="__source",li;function GD(){return li}function $r(t){let e=li;return li=t,e}function zD(t,e=he.Default){if(li===void 0)throw new X(-203,!1);return li===null?Bg(t,void 0,e):li.get(t,e&he.Optional?null:void 0,e)}function ee(t,e=he.Default){return(jg()||zD)(wn(t),e)}function $(t,e=he.Default){return ee(t,eu(e))}function eu(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Ed(t){let e=[];for(let n=0;n<t.length;n++){let r=wn(t[n]);if(Array.isArray(r)){if(r.length===0)throw new X(900,!1);let o,i=he.Default;for(let s=0;s<r.length;s++){let a=r[s],c=ZD(a);typeof c=="number"?c===-1?o=a.token:i|=c:o=a}e.push(ee(o,i))}else e.push(ee(r))}return e}function Ug(t,e){return t[Td]=e,t.prototype[Td]=e,t}function ZD(t){return t[Td]}function YD(t,e,n,r){let o=t[Pc];throw e[tg]&&o.unshift(e[tg]),t.message=QD(`
`+t.message,o,n,r),t[$D]=o,t[Pc]=null,t}function QD(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==WD?t.slice(2):t;let o=Mt(e);if(Array.isArray(e))o=e.map(Mt).join(" -> ");else if(typeof e=="object"){let i=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];i.push(s+":"+(typeof a=="string"?JSON.stringify(a):Mt(a)))}o=`{${i.join(", ")}}`}return`${n}${r?"("+r+")":""}[${o}]: ${t.replace(HD,`
  `)}`}function Qs(t){return{toString:t}.toString()}var qg=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(qg||{}),ar=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(ar||{}),Bs={},Ln=[];function $g(t,e,n){let r=t.length;for(;;){let o=t.indexOf(e,n);if(o===-1)return o;if(o===0||t.charCodeAt(o-1)<=32){let i=e.length;if(o+i===r||t.charCodeAt(o+i)<=32)return o}n=o+1}}function Id(t,e,n){let r=0;for(;r<n.length;){let o=n[r];if(typeof o=="number"){if(o!==0)break;r++;let i=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,i)}else{let i=o,s=n[++r];KD(i)?t.setProperty(e,i,s):t.setAttribute(e,i,s),r++}}return r}function XD(t){return t===3||t===4||t===6}function KD(t){return t.charCodeAt(0)===64}function wh(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let o=e[r];typeof o=="number"?n=o:n===0||(n===-1||n===2?ng(t,n,o,null,e[++r]):ng(t,n,o,null,null))}}return t}function ng(t,e,n,r,o){let i=0,s=t.length;if(e===-1)s=-1;else for(;i<t.length;){let a=t[i++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=i-1;break}}}for(;i<t.length;){let a=t[i];if(typeof a=="number")break;if(a===n){if(r===null){o!==null&&(t[i+1]=o);return}else if(r===t[i+1]){t[i+2]=o;return}}i++,r!==null&&i++,o!==null&&i++}s!==-1&&(t.splice(s,0,e),i=s+1),t.splice(i++,0,n),r!==null&&t.splice(i++,0,r),o!==null&&t.splice(i++,0,o)}var Hg="ng-template";function JD(t,e,n){let r=0,o=!0;for(;r<t.length;){let i=t[r++];if(typeof i=="string"&&o){let s=t[r++];if(n&&i==="class"&&$g(s.toLowerCase(),e,0)!==-1)return!0}else if(i===1){for(;r<t.length&&typeof(i=t[r++])=="string";)if(i.toLowerCase()===e)return!0;return!1}else typeof i=="number"&&(o=!1)}return!1}function Wg(t){return t.type===4&&t.value!==Hg}function eS(t,e,n){let r=t.type===4&&!n?Hg:t.value;return e===r}function tS(t,e,n){let r=4,o=t.attrs||[],i=oS(o),s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!Vn(r)&&!Vn(c))return!1;if(s&&Vn(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!eS(t,c,n)||c===""&&e.length===1){if(Vn(r))return!1;s=!0}}else{let u=r&8?c:e[++a];if(r&8&&t.attrs!==null){if(!JD(t.attrs,u,n)){if(Vn(r))return!1;s=!0}continue}let l=r&8?"class":c,d=nS(l,o,Wg(t),n);if(d===-1){if(Vn(r))return!1;s=!0;continue}if(u!==""){let h;d>i?h="":h=o[d+1].toLowerCase();let f=r&8?h:null;if(f&&$g(f,u,0)!==-1||r&2&&u!==h){if(Vn(r))return!1;s=!0}}}}return Vn(r)||s}function Vn(t){return(t&1)===0}function nS(t,e,n,r){if(e===null)return-1;let o=0;if(r||!n){let i=!1;for(;o<e.length;){let s=e[o];if(s===t)return o;if(s===3||s===6)i=!0;else if(s===1||s===2){let a=e[++o];for(;typeof a=="string";)a=e[++o];continue}else{if(s===4)break;if(s===0){o+=4;continue}}o+=i?1:2}return-1}else return iS(e,t)}function Gg(t,e,n=!1){for(let r=0;r<e.length;r++)if(tS(t,e[r],n))return!0;return!1}function rS(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if(!(n&1))return e[n+1]}return null}function oS(t){for(let e=0;e<t.length;e++){let n=t[e];if(XD(n))return e}return t.length}function iS(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function sS(t,e){e:for(let n=0;n<e.length;n++){let r=e[n];if(t.length===r.length){for(let o=0;o<t.length;o++)if(t[o]!==r[o])continue e;return!0}}return!1}function rg(t,e){return t?":not("+e.trim()+")":e}function aS(t){let e=t[0],n=1,r=2,o="",i=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?o+="."+s:r&4&&(o+=" "+s);else o!==""&&!Vn(s)&&(e+=rg(i,o),o=""),r=s,i=i||!Vn(r);n++}return o!==""&&(e+=rg(i,o)),e}function cS(t){return t.map(aS).join(",")}function uS(t){let e=[],n=[],r=1,o=2;for(;r<t.length;){let i=t[r];if(typeof i=="string")o===2?i!==""&&e.push(i,t[++r]):o===8&&n.push(i);else{if(!Vn(o))break;o=i}r++}return{attrs:e,classes:n}}function Qe(t){return Qs(()=>{let e=Xg(t),n=V(x({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===qg.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||ar.Emulated,styles:t.styles||Ln,_:null,schemas:t.schemas||null,tView:null,id:""});Kg(n);let r=t.dependencies;return n.directiveDefs=ig(r,!1),n.pipeDefs=ig(r,!0),n.id=hS(n),n})}function lS(t){return Wr(t)||zg(t)}function dS(t){return t!==null}function zt(t){return Qs(()=>({type:t.type,bootstrap:t.bootstrap||Ln,declarations:t.declarations||Ln,imports:t.imports||Ln,exports:t.exports||Ln,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function og(t,e){if(t==null)return Bs;let n={};for(let r in t)if(t.hasOwnProperty(r)){let o=t[r],i=o;Array.isArray(o)&&(i=o[1],o=o[0]),n[o]=r,e&&(e[o]=i)}return n}function wi(t){return Qs(()=>{let e=Xg(t);return Kg(e),e})}function Wr(t){return t[OD]||null}function zg(t){return t[kD]||null}function Zg(t){return t[RD]||null}function Yg(t){let e=Wr(t)||zg(t)||Zg(t);return e!==null?e.standalone:!1}function Qg(t,e){let n=t[FD]||null;if(!n&&e===!0)throw new Error(`Type ${Mt(t)} does not have '\u0275mod' property.`);return n}function Xg(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Bs,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Ln,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:og(t.inputs,e),outputs:og(t.outputs),debugInfo:null}}function Kg(t){t.features?.forEach(e=>e(t))}function ig(t,e){if(!t)return null;let n=e?Zg:lS;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(dS)}function hS(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let o of n)e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483647+1,"c"+e}var Ar=0,pe=1,ie=2,st=3,jn=4,ln=5,Us=6,qs=7,Bn=8,hi=9,Gr=10,at=11,$s=12,sg=13,bi=14,Un=15,Xs=16,si=17,sr=18,tu=19,Jg=20,Hr=21,fd=22,_o=23,cr=25,ev=1;var xo=7,Vc=8,fi=9,cn=10,pi=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t[t.HasChildViewsToRefresh=4]="HasChildViewsToRefresh",t}(pi||{});function vo(t){return Array.isArray(t)&&typeof t[ev]=="object"}function qn(t){return Array.isArray(t)&&t[ev]===!0}function bh(t){return(t.flags&4)!==0}function nu(t){return t.componentOffset>-1}function ru(t){return(t.flags&1)===1}function Ks(t){return!!t.template}function fS(t){return(t[ie]&512)!==0}function mi(t,e){let n=t.hasOwnProperty(Fc);return n?t[Fc]:null}var Ad=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function So(){return tv}function tv(t){return t.type.prototype.ngOnChanges&&(t.setInput=mS),pS}So.ngInherit=!0;function pS(){let t=rv(this),e=t?.current;if(e){let n=t.previous;if(n===Bs)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function mS(t,e,n,r){let o=this.declaredInputs[n],i=rv(t)||gS(t,{previous:Bs,current:null}),s=i.current||(i.current={}),a=i.previous,c=a[o];s[o]=new Ad(c&&c.currentValue,e,a===Bs),t[r]=e}var nv="__ngSimpleChanges__";function rv(t){return t[nv]||null}function gS(t,e){return t[nv]=e}var ag=null;var or=function(t,e,n){ag?.(t,e,n)},vS="svg",yS="math",_S=!1;function xS(){return _S}function ur(t){for(;Array.isArray(t);)t=t[Ar];return t}function ov(t,e){return ur(e[t])}function bn(t,e){return ur(e[t.index])}function iv(t,e){return t.data[e]}function To(t,e){let n=e[t];return vo(n)?n:n[Ar]}function wS(t){return(t[ie]&4)===4}function Ch(t){return(t[ie]&128)===128}function bS(t){return qn(t[st])}function gi(t,e){return e==null?null:t[e]}function sv(t){t[si]=0}function CS(t){t[ie]&1024||(t[ie]|=1024,Ch(t)&&Hs(t))}function DS(t,e){for(;t>0;)e=e[bi],t--;return e}function av(t){return t[ie]&9216||t[_o]?.dirty}function Md(t){av(t)?Hs(t):t[ie]&64&&(xS()?(t[ie]|=1024,Hs(t)):t[Gr].changeDetectionScheduler?.notify())}function Hs(t){t[Gr].changeDetectionScheduler?.notify();let e=t[st];for(;e!==null&&!(qn(e)&&e[ie]&pi.HasChildViewsToRefresh||vo(e)&&e[ie]&8192);){if(qn(e))e[ie]|=pi.HasChildViewsToRefresh;else if(e[ie]|=8192,!Ch(e))break;e=e[st]}}function cv(t,e){if((t[ie]&256)===256)throw new X(911,!1);t[Hr]===null&&(t[Hr]=[]),t[Hr].push(e)}function SS(t,e){if(t[Hr]===null)return;let n=t[Hr].indexOf(e);n!==-1&&t[Hr].splice(n,1)}var me={lFrame:mv(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function TS(){return me.lFrame.elementDepthCount}function ES(){me.lFrame.elementDepthCount++}function IS(){me.lFrame.elementDepthCount--}function uv(){return me.bindingsEnabled}function lv(){return me.skipHydrationRootTNode!==null}function AS(t){return me.skipHydrationRootTNode===t}function MS(){me.skipHydrationRootTNode=null}function Be(){return me.lFrame.lView}function Vt(){return me.lFrame.tView}function we(t){return me.lFrame.contextLView=t,t[Bn]}function be(t){return me.lFrame.contextLView=null,t}function $n(){let t=dv();for(;t!==null&&t.type===64;)t=t.parent;return t}function dv(){return me.lFrame.currentTNode}function NS(){let t=me.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Eo(t,e){let n=me.lFrame;n.currentTNode=t,n.isParent=e}function Dh(){return me.lFrame.isParent}function Sh(){me.lFrame.isParent=!1}function OS(t){return me.lFrame.bindingIndex=t}function ou(){return me.lFrame.bindingIndex++}function kS(t){let e=me.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function RS(){return me.lFrame.inI18n}function FS(t,e){let n=me.lFrame;n.bindingIndex=n.bindingRootIndex=t,Nd(e)}function PS(){return me.lFrame.currentDirectiveIndex}function Nd(t){me.lFrame.currentDirectiveIndex=t}function VS(t){let e=me.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function hv(){return me.lFrame.currentQueryIndex}function Th(t){me.lFrame.currentQueryIndex=t}function LS(t){let e=t[pe];return e.type===2?e.declTNode:e.type===1?t[ln]:null}function fv(t,e,n){if(n&he.SkipSelf){let o=e,i=t;for(;o=o.parent,o===null&&!(n&he.Host);)if(o=LS(i),o===null||(i=i[bi],o.type&10))break;if(o===null)return!1;e=o,t=i}let r=me.lFrame=pv();return r.currentTNode=e,r.lView=t,!0}function Eh(t){let e=pv(),n=t[pe];me.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function pv(){let t=me.lFrame,e=t===null?null:t.child;return e===null?mv(t):e}function mv(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function gv(){let t=me.lFrame;return me.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var vv=gv;function Ih(){let t=gv();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function jS(t){return(me.lFrame.contextLView=DS(t,me.lFrame.contextLView))[Bn]}function Ci(){return me.lFrame.selectedIndex}function wo(t){me.lFrame.selectedIndex=t}function Ah(){let t=me.lFrame;return iv(t.tView,t.selectedIndex)}function BS(){return me.lFrame.currentNamespace}var yv=!0;function iu(){return yv}function su(t){yv=t}function US(t,e,n){let{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=e.type.prototype;if(r){let s=tv(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}o&&(n.preOrderHooks??=[]).push(0-t,o),i&&((n.preOrderHooks??=[]).push(t,i),(n.preOrderCheckHooks??=[]).push(t,i))}function au(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let i=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=i;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),l!=null&&(t.destroyHooks??=[]).push(n,l)}}function Ac(t,e,n){_v(t,e,3,n)}function Mc(t,e,n,r){(t[ie]&3)===n&&_v(t,e,n,r)}function pd(t,e){let n=t[ie];(n&3)===e&&(n&=16383,n+=1,t[ie]=n)}function _v(t,e,n,r){let o=r!==void 0?t[si]&65535:0,i=r??-1,s=e.length-1,a=0;for(let c=o;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[si]+=65536),(a<i||i==-1)&&(qS(t,n,e,c),t[si]=(t[si]&4294901760)+c+2),c++}function cg(t,e){or(4,t,e);let n=rn(null);try{e.call(t)}finally{rn(n),or(5,t,e)}}function qS(t,e,n,r){let o=n[r]<0,i=n[r+1],s=o?-n[r]:n[r],a=t[s];o?t[ie]>>14<t[si]>>16&&(t[ie]&3)===e&&(t[ie]+=16384,cg(a,i)):cg(a,i)}var di=-1,Ws=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function $S(t){return t instanceof Ws}function HS(t){return(t.flags&8)!==0}function WS(t){return(t.flags&16)!==0}function xv(t){return t!==di}function Lc(t){let e=t&32767;return t&32767}function GS(t){return t>>16}function jc(t,e){let n=GS(t),r=e;for(;n>0;)r=r[bi],n--;return r}var Od=!0;function ug(t){let e=Od;return Od=t,e}var zS=256,wv=zS-1,bv=5,ZS=0,ir={};function YS(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Vs)&&(r=n[Vs]),r==null&&(r=n[Vs]=ZS++);let o=r&wv,i=1<<o;e.data[t+(o>>bv)]|=i}function Cv(t,e){let n=Dv(t,e);if(n!==-1)return n;let r=e[pe];r.firstCreatePass&&(t.injectorIndex=e.length,md(r.data,t),md(e,null),md(r.blueprint,null));let o=Mh(t,e),i=t.injectorIndex;if(xv(o)){let s=Lc(o),a=jc(o,e),c=a[pe].data;for(let u=0;u<8;u++)e[i+u]=a[s+u]|c[s+u]}return e[i+8]=o,i}function md(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Dv(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Mh(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,o=e;for(;o!==null;){if(r=Av(o),r===null)return di;if(n++,o=o[bi],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return di}function QS(t,e,n){YS(t,e,n)}function Sv(t,e,n){if(n&he.Optional||t!==void 0)return t;xh(e,"NodeInjector")}function Tv(t,e,n,r){if(n&he.Optional&&r===void 0&&(r=null),!(n&(he.Self|he.Host))){let o=t[hi],i=xn(void 0);try{return o?o.get(e,r,n&he.Optional):Bg(e,r,n&he.Optional)}finally{xn(i)}}return Sv(r,e,n)}function Ev(t,e,n,r=he.Default,o){if(t!==null){if(e[ie]&2048&&!(r&he.Self)){let s=eT(t,e,n,r,ir);if(s!==ir)return s}let i=Iv(t,e,n,r,ir);if(i!==ir)return i}return Tv(e,n,r,o)}function Iv(t,e,n,r,o){let i=KS(n);if(typeof i=="function"){if(!fv(e,t,r))return r&he.Host?Sv(o,n,r):Tv(e,n,r,o);try{let s;if(s=i(r),s==null&&!(r&he.Optional))xh(n);else return s}finally{vv()}}else if(typeof i=="number"){let s=null,a=Dv(t,e),c=di,u=r&he.Host?e[Un][ln]:null;for((a===-1||r&he.SkipSelf)&&(c=a===-1?Mh(t,e):e[a+8],c===di||!dg(r,!1)?a=-1:(s=e[pe],a=Lc(c),e=jc(c,e)));a!==-1;){let l=e[pe];if(lg(i,a,l.data)){let d=XS(a,e,n,s,r,u);if(d!==ir)return d}c=e[a+8],c!==di&&dg(r,e[pe].data[a+8]===u)&&lg(i,a,e)?(s=l,a=Lc(c),e=jc(c,e)):a=-1}}return o}function XS(t,e,n,r,o,i){let s=e[pe],a=s.data[t+8],c=r==null?nu(a)&&Od:r!=s&&(a.type&3)!==0,u=o&he.Host&&i===a,l=Nc(a,s,n,c,u);return l!==null?vi(e,s,l,a):ir}function Nc(t,e,n,r,o){let i=t.providerIndexes,s=e.data,a=i&1048575,c=t.directiveStart,u=t.directiveEnd,l=i>>20,d=r?a:a+l,h=o?a+l:u;for(let f=d;f<h;f++){let p=s[f];if(f<c&&n===p||f>=c&&p.type===n)return f}if(o){let f=s[c];if(f&&Ks(f)&&f.type===n)return c}return null}function vi(t,e,n,r){let o=t[n],i=e.data;if($S(o)){let s=o;s.resolving&&VD(PD(i[n]));let a=ug(s.canSeeViewProviders);s.resolving=!0;let c,u=s.injectImpl?xn(s.injectImpl):null,l=fv(t,r,he.Default);try{o=t[n]=s.factory(void 0,i,t,r),e.firstCreatePass&&n>=r.directiveStart&&US(n,i[n],e)}finally{u!==null&&xn(u),ug(a),s.resolving=!1,vv()}}return o}function KS(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Vs)?t[Vs]:void 0;return typeof e=="number"?e>=0?e&wv:JS:e}function lg(t,e,n){let r=1<<t;return!!(n[e+(t>>bv)]&r)}function dg(t,e){return!(t&he.Self)&&!(t&he.Host&&e)}var yo=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return Ev(this._tNode,this._lView,e,eu(r),n)}};function JS(){return new yo($n(),Be())}function cu(t){return Qs(()=>{let e=t.prototype.constructor,n=e[Fc]||kd(e),r=Object.prototype,o=Object.getPrototypeOf(t.prototype).constructor;for(;o&&o!==r;){let i=o[Fc]||kd(o);if(i&&i!==n)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function kd(t){return Rg(t)?()=>{let e=kd(wn(t));return e&&e()}:mi(t)}function eT(t,e,n,r,o){let i=t,s=e;for(;i!==null&&s!==null&&s[ie]&2048&&!(s[ie]&512);){let a=Iv(i,s,n,r|he.Self,ir);if(a!==ir)return a;let c=i.parent;if(!c){let u=s[Jg];if(u){let l=u.get(n,ir,r);if(l!==ir)return l}c=Av(s),s=s[bi]}i=c}return o}function Av(t){let e=t[pe],n=e.type;return n===2?e.declTNode:n===1?t[ln]:null}var Tc="__parameters__";function tT(t){return function(...n){if(t){let r=t(...n);for(let o in r)this[o]=r[o]}}}function Mv(t,e,n){return Qs(()=>{let r=tT(e);function o(...i){if(this instanceof o)return r.apply(this,i),this;let s=new o(...i);return a.annotation=s,a;function a(c,u,l){let d=c.hasOwnProperty(Tc)?c[Tc]:Object.defineProperty(c,Tc,{value:[]})[Tc];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(s),c}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=t,o.annotationCls=o,o})}function nT(t){let e=an.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function rT(t){return typeof t=="function"}function oT(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let o=t[r],i=e[r];if(n&&(o=n(o),i=n(i)),i!==o)return!1}return!0}function iT(t){return t.flat(Number.POSITIVE_INFINITY)}function Nh(t,e){t.forEach(n=>Array.isArray(n)?Nh(n,e):e(n))}function Nv(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Bc(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Ov(t,e){let n=[];for(let r=0;r<t;r++)n.push(e);return n}function sT(t,e,n,r){let o=t.length;if(o==e)t.push(n,r);else if(o===1)t.push(r,t[0]),t[0]=n;else{for(o--,t.push(t[o-1],t[o]);o>e;){let i=o-2;t[o]=t[i],o--}t[e]=n,t[e+1]=r}}function aT(t,e,n){let r=Js(t,e);return r>=0?t[r|1]=n:(r=~r,sT(t,r,e,n)),r}function gd(t,e){let n=Js(t,e);if(n>=0)return t[n|1]}function Js(t,e){return cT(t,e,1)}function cT(t,e,n){let r=0,o=t.length>>n;for(;o!==r;){let i=r+(o-r>>1),s=t[i<<n];if(e===s)return i<<n;s>e?o=i:r=i+1}return~(o<<n)}var uu=Ug(Mv("Optional"),8);var Oh=Ug(Mv("SkipSelf"),4);function uT(t){let e=[],n=new Map;function r(o){let i=n.get(o);if(!i){let s=t(o);n.set(o,i=s.then(fT))}return i}return Uc.forEach((o,i)=>{let s=[];o.templateUrl&&s.push(r(o.templateUrl).then(u=>{o.template=u}));let a=typeof o.styles=="string"?[o.styles]:o.styles||[];if(o.styles=a,o.styleUrl&&o.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(o.styleUrls?.length){let u=o.styles.length,l=o.styleUrls;o.styleUrls.forEach((d,h)=>{a.push(""),s.push(r(d).then(f=>{a[u+h]=f,l.splice(l.indexOf(d),1),l.length==0&&(o.styleUrls=void 0)}))})}else o.styleUrl&&s.push(r(o.styleUrl).then(u=>{a.push(u),o.styleUrl=void 0}));let c=Promise.all(s).then(()=>pT(i));e.push(c)}),dT(),Promise.all(e).then(()=>{})}var Uc=new Map,lT=new Set;function dT(){let t=Uc;return Uc=new Map,t}function hT(){return Uc.size===0}function fT(t){return typeof t=="string"?t:t.text()}function pT(t){lT.delete(t)}var yi=new ce("ENVIRONMENT_INITIALIZER"),kv=new ce("INJECTOR",-1),Rv=new ce("INJECTOR_DEF_TYPES"),qc=class{get(e,n=js){if(n===js){let r=new Error(`NullInjectorError: No provider for ${Mt(e)}!`);throw r.name="NullInjectorError",r}return n}};function mT(...t){return{\u0275providers:Fv(!0,t),\u0275fromNgModule:!0}}function Fv(t,...e){let n=[],r=new Set,o,i=s=>{n.push(s)};return Nh(e,s=>{let a=s;Rd(a,i,[],r)&&(o||=[],o.push(a))}),o!==void 0&&Pv(o,i),n}function Pv(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:o}=t[n];kh(o,i=>{e(i,r)})}}function Rd(t,e,n,r){if(t=wn(t),!t)return!1;let o=null,i=Jm(t),s=!i&&Wr(t);if(!i&&!s){let c=t.ngModule;if(i=Jm(c),i)o=c;else return!1}else{if(s&&!s.standalone)return!1;o=t}let a=r.has(o);if(s){if(a)return!1;if(r.add(o),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of c)Rd(u,e,n,r)}}else if(i){if(i.imports!=null&&!a){r.add(o);let u;try{Nh(i.imports,l=>{Rd(l,e,n,r)&&(u||=[],u.push(l))})}finally{}u!==void 0&&Pv(u,e)}if(!a){let u=mi(o)||(()=>new o);e({provide:o,useFactory:u,deps:Ln},o),e({provide:Rv,useValue:o,multi:!0},o),e({provide:yi,useValue:()=>ee(o),multi:!0},o)}let c=i.providers;if(c!=null&&!a){let u=t;kh(c,l=>{e(l,u)})}}else return!1;return o!==t&&t.providers!==void 0}function kh(t,e){for(let n of t)Fg(n)&&(n=n.\u0275providers),Array.isArray(n)?kh(n,e):e(n)}var gT=je({provide:String,useValue:je});function Vv(t){return t!==null&&typeof t=="object"&&gT in t}function vT(t){return!!(t&&t.useExisting)}function yT(t){return!!(t&&t.useFactory)}function Fd(t){return typeof t=="function"}var lu=new ce("Set Injector scope."),Oc={},_T={},vd;function Rh(){return vd===void 0&&(vd=new qc),vd}var un=class{},Gs=class extends un{get destroyed(){return this._destroyed}constructor(e,n,r,o){super(),this.parent=n,this.source=r,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Vd(e,s=>this.processProvider(s)),this.records.set(kv,ai(void 0,this)),o.has("environment")&&this.records.set(un,ai(void 0,this));let i=this.records.get(lu);i!=null&&typeof i.value=="string"&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(Rv,Ln,he.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(let n of this._ngOnDestroyHooks)n.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=$r(this),r=xn(void 0),o;try{return e()}finally{$r(n),xn(r)}}get(e,n=js,r=he.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Xm))return e[Xm](this);r=eu(r);let o,i=$r(this),s=xn(void 0);try{if(!(r&he.SkipSelf)){let c=this.records.get(e);if(c===void 0){let u=ST(e)&&Jc(e);u&&this.injectableDefInScope(u)?c=ai(Pd(e),Oc):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&he.Self?Rh():this.parent;return n=r&he.Optional&&n===js?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Pc]=a[Pc]||[]).unshift(Mt(e)),i)throw a;return YD(a,e,"R3InjectorError",this.source)}else throw a}finally{xn(s),$r(i)}}resolveInjectorInitializers(){let e=$r(this),n=xn(void 0),r;try{let o=this.get(yi,Ln,he.Self);for(let i of o)i()}finally{$r(e),xn(n)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Mt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new X(205,!1)}processProvider(e){e=wn(e);let n=Fd(e)?e:wn(e&&e.provide),r=wT(e);if(!Fd(e)&&e.multi===!0){let o=this.records.get(n);o||(o=ai(void 0,Oc,!0),o.factory=()=>Ed(o.multi),this.records.set(n,o)),n=e,o.multi.push(e)}else{let o=this.records.get(n)}this.records.set(n,r)}hydrate(e,n){return n.value===Oc&&(n.value=_T,n.value=n.factory()),typeof n.value=="object"&&n.value&&DT(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;let n=wn(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Pd(t){let e=Jc(t),n=e!==null?e.factory:mi(t);if(n!==null)return n;if(t instanceof ce)throw new X(204,!1);if(t instanceof Function)return xT(t);throw new X(204,!1)}function xT(t){let e=t.length;if(e>0){let r=Ov(e,"?");throw new X(204,!1)}let n=BD(t);return n!==null?()=>n.factory(t):()=>new t}function wT(t){if(Vv(t))return ai(void 0,t.useValue);{let e=bT(t);return ai(e,Oc)}}function bT(t,e,n){let r;if(Fd(t)){let o=wn(t);return mi(o)||Pd(o)}else if(Vv(t))r=()=>wn(t.useValue);else if(yT(t))r=()=>t.useFactory(...Ed(t.deps||[]));else if(vT(t))r=()=>ee(wn(t.useExisting));else{let o=wn(t&&(t.useClass||t.provide));if(CT(t))r=()=>new o(...Ed(t.deps));else return mi(o)||Pd(o)}return r}function ai(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function CT(t){return!!t.deps}function DT(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function ST(t){return typeof t=="function"||typeof t=="object"&&t instanceof ce}function Vd(t,e){for(let n of t)Array.isArray(n)?Vd(n,e):n&&Fg(n)?Vd(n.\u0275providers,e):e(n)}function Yr(t,e){t instanceof Gs&&t.assertNotDestroyed();let n,r=$r(t),o=xn(void 0);try{return e()}finally{$r(r),xn(o)}}function TT(t){if(!jg()&&!GD())throw new X(-203,!1)}function hg(t,e=null,n=null,r){let o=Lv(t,e,n,r);return o.resolveInjectorInitializers(),o}function Lv(t,e=null,n=null,r,o=new Set){let i=[n||Ln,mT(t)];return r=r||(typeof t=="object"?void 0:Mt(t)),new Gs(i,e||Rh(),r||null,o)}var Cn=(()=>{let e=class e{static create(r,o){if(Array.isArray(r))return hg({name:""},o,r,"");{let i=r.name??"";return hg({name:i},r.parent,r.providers,i)}}};e.THROW_IF_NOT_FOUND=js,e.NULL=new qc,e.\u0275prov=te({token:e,providedIn:"any",factory:()=>ee(kv)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var Ld;function jv(t){Ld=t}function ET(){if(Ld!==void 0)return Ld;if(typeof document<"u")return document;throw new X(210,!1)}var du=new ce("AppId",{providedIn:"root",factory:()=>IT}),IT="ng",Fh=new ce("Platform Initializer"),Io=new ce("Platform ID",{providedIn:"platform",factory:()=>"unknown"});var Ph=new ce("CSP nonce",{providedIn:"root",factory:()=>ET().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function Bv(t){return t instanceof Function?t():t}function AT(t){return(t??$(Cn)).get(Io)==="browser"}function Uv(t){return(t.flags&128)===128}var Ir=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Ir||{}),MT=/^>|^->|<!--|-->|--!>|<!-$/g,NT=/(<|>)/g,OT="\u200B$1\u200B";function kT(t){return t.replace(MT,e=>e.replace(NT,OT))}var qv=new Map,RT=0;function FT(){return RT++}function PT(t){qv.set(t[tu],t)}function VT(t){qv.delete(t[tu])}var fg="__ngContext__";function zr(t,e){vo(e)?(t[fg]=e[tu],PT(e)):t[fg]=e}var LT;function Vh(t,e){return LT(t,e)}function Lh(t){let e=t[st];return qn(e)?e[st]:e}function $v(t){return Wv(t[$s])}function Hv(t){return Wv(t[jn])}function Wv(t){for(;t!==null&&!qn(t);)t=t[jn];return t}function ci(t,e,n,r,o){if(r!=null){let i,s=!1;qn(r)?i=r:vo(r)&&(s=!0,r=r[Ar]);let a=ur(r);t===0&&n!==null?o==null?Qv(e,n,a):$c(e,n,a,o||null,!0):t===1&&n!==null?$c(e,n,a,o||null,!0):t===2?tE(e,a,s):t===3&&e.destroyNode(a),i!=null&&rE(e,t,i,n,o)}}function jT(t,e){return t.createText(e)}function BT(t,e,n){t.setValue(e,n)}function UT(t,e){return t.createComment(kT(e))}function Gv(t,e,n){return t.createElement(e,n)}function qT(t,e){let n=e[at];ea(t,e,n,2,null,null),e[Ar]=null,e[ln]=null}function $T(t,e,n,r,o,i){r[Ar]=o,r[ln]=e,ea(t,r,n,1,o,i)}function HT(t,e){ea(t,e,e[at],2,null,null)}function WT(t){let e=t[$s];if(!e)return yd(t[pe],t);for(;e;){let n=null;if(vo(e))n=e[$s];else{let r=e[cn];r&&(n=r)}if(!n){for(;e&&!e[jn]&&e!==t;)vo(e)&&yd(e[pe],e),e=e[st];e===null&&(e=t),vo(e)&&yd(e[pe],e),n=e&&e[jn]}e=n}}function GT(t,e,n,r){let o=cn+r,i=n.length;r>0&&(n[o-1][jn]=e),r<i-cn?(e[jn]=n[o],Nv(n,cn+r,e)):(n.push(e),e[jn]=null),e[st]=n;let s=e[Xs];s!==null&&n!==s&&zT(s,e);let a=e[sr];a!==null&&a.insertView(t),Md(e),e[ie]|=128}function zT(t,e){let n=t[fi],o=e[st][st][Un];e[Un]!==o&&(t[ie]|=pi.HasTransplantedViews),n===null?t[fi]=[e]:n.push(e)}function zv(t,e){let n=t[fi],r=n.indexOf(e),o=e[st];n.splice(r,1)}function jd(t,e){if(t.length<=cn)return;let n=cn+e,r=t[n];if(r){let o=r[Xs];o!==null&&o!==t&&zv(o,r),e>0&&(t[n-1][jn]=r[jn]);let i=Bc(t,cn+e);qT(r[pe],r);let s=i[sr];s!==null&&s.detachView(i[pe]),r[st]=null,r[jn]=null,r[ie]&=-129}return r}function Zv(t,e){if(!(e[ie]&256)){let n=e[at];n.destroyNode&&ea(t,e,n,3,null,null),WT(e)}}function yd(t,e){if(!(e[ie]&256)){e[ie]&=-129,e[ie]|=256,e[_o]&&xm(e[_o]),YT(t,e),ZT(t,e),e[pe].type===1&&e[at].destroy();let n=e[Xs];if(n!==null&&qn(e[st])){n!==e[st]&&zv(n,e);let r=e[sr];r!==null&&r.detachView(t)}VT(e)}}function ZT(t,e){let n=t.cleanup,r=e[qs];if(n!==null)for(let i=0;i<n.length-1;i+=2)if(typeof n[i]=="string"){let s=n[i+3];s>=0?r[s]():r[-s].unsubscribe(),i+=2}else{let s=r[n[i+1]];n[i].call(s)}r!==null&&(e[qs]=null);let o=e[Hr];if(o!==null){e[Hr]=null;for(let i=0;i<o.length;i++){let s=o[i];s()}}}function YT(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let o=e[n[r]];if(!(o instanceof Ws)){let i=n[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){let a=o[i[s]],c=i[s+1];or(4,a,c);try{c.call(a)}finally{or(5,a,c)}}else{or(4,o,i);try{i.call(o)}finally{or(5,o,i)}}}}}function Yv(t,e,n){return QT(t,e.parent,n)}function QT(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[Ar];{let{componentOffset:o}=r;if(o>-1){let{encapsulation:i}=t.data[r.directiveStart+o];if(i===ar.None||i===ar.Emulated)return null}return bn(r,n)}}function $c(t,e,n,r,o){t.insertBefore(e,n,r,o)}function Qv(t,e,n){t.appendChild(e,n)}function pg(t,e,n,r,o){r!==null?$c(t,e,n,r,o):Qv(t,e,n)}function XT(t,e,n,r){t.removeChild(e,n,r)}function jh(t,e){return t.parentNode(e)}function KT(t,e){return t.nextSibling(e)}function Xv(t,e,n){return eE(t,e,n)}function JT(t,e,n){return t.type&40?bn(t,n):null}var eE=JT,mg;function hu(t,e,n,r){let o=Yv(t,r,e),i=e[at],s=r.parent||e[ln],a=Xv(s,r,e);if(o!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)pg(i,o,n[c],a,!1);else pg(i,o,n,a,!1);mg!==void 0&&mg(i,r,e,n,o)}function kc(t,e){if(e!==null){let n=e.type;if(n&3)return bn(e,t);if(n&4)return Bd(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return kc(t,r);{let o=t[e.index];return qn(o)?Bd(-1,o):ur(o)}}else{if(n&32)return Vh(e,t)()||ur(t[e.index]);{let r=Kv(t,e);if(r!==null){if(Array.isArray(r))return r[0];let o=Lh(t[Un]);return kc(o,r)}else return kc(t,e.next)}}}return null}function Kv(t,e){if(e!==null){let r=t[Un][ln],o=e.projection;return r.projection[o]}return null}function Bd(t,e){let n=cn+t+1;if(n<e.length){let r=e[n],o=r[pe].firstChild;if(o!==null)return kc(r,o)}return e[xo]}function tE(t,e,n){let r=jh(t,e);r&&XT(t,r,e,n)}function Bh(t,e,n,r,o,i,s){for(;n!=null;){let a=r[n.index],c=n.type;if(s&&e===0&&(a&&zr(ur(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)Bh(t,e,n.child,r,o,i,!1),ci(e,t,o,a,i);else if(c&32){let u=Vh(n,r),l;for(;l=u();)ci(e,t,o,l,i);ci(e,t,o,a,i)}else c&16?Jv(t,e,r,n,o,i):ci(e,t,o,a,i);n=s?n.projectionNext:n.next}}function ea(t,e,n,r,o,i){Bh(n,r,t.firstChild,e,o,i,!1)}function nE(t,e,n){let r=e[at],o=Yv(t,n,e),i=n.parent||e[ln],s=Xv(i,n,e);Jv(r,0,e,n,o,s)}function Jv(t,e,n,r,o,i){let s=n[Un],c=s[ln].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let l=c[u];ci(e,t,o,l,i)}else{let u=c,l=s[st];Uv(r)&&(u.flags|=128),Bh(t,e,u,l,o,i,!0)}}function rE(t,e,n,r,o){let i=n[xo],s=ur(n);i!==s&&ci(e,t,r,i,o);for(let a=cn;a<n.length;a++){let c=n[a];ea(c[pe],c,t,e,r,i)}}function oE(t,e,n,r,o){if(e)o?t.addClass(n,r):t.removeClass(n,r);else{let i=r.indexOf("-")===-1?void 0:Ir.DashCase;o==null?t.removeStyle(n,r,i):(typeof o=="string"&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=Ir.Important),t.setStyle(n,r,o,i))}}function iE(t,e,n){t.setAttribute(e,"style",n)}function ey(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function ty(t,e,n){let{mergedAttrs:r,classes:o,styles:i}=n;r!==null&&Id(t,e,r),o!==null&&ey(t,e,o),i!==null&&iE(t,e,i)}var Ud=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ND})`}};function Uh(t){return t instanceof Ud?t.changingThisBreaksApplicationSecurity:t}var qd=class{};var sE="h",aE="b";var cE=(t,e,n)=>null;function qh(t,e,n=!1){return cE(t,e,n)}var $d=class{},Hc=class{};function uE(t){let e=Error(`No component factory found for ${Mt(t)}.`);return e[lE]=t,e}var lE="ngComponent";var Hd=class{resolveComponentFactory(e){throw uE(e)}},fu=(()=>{let e=class e{};e.NULL=new Hd;let t=e;return t})();function dE(){return Di($n(),Be())}function Di(t,e){return new Dn(bn(t,e))}var Dn=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=dE;let t=e;return t})();function hE(t){return t instanceof Dn?t.nativeElement:t}var zs=class{};var fE=(()=>{let e=class e{};e.\u0275prov=te({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),_d={};function ny(t){return mE(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function pE(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function mE(t){return t!==null&&(typeof t=="function"||typeof t=="object")}var Wd=class{constructor(){}supports(e){return ny(e)}create(e){return new Gd(e)}},gE=(t,e)=>e,Gd=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||gE}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,o=0,i=null;for(;n||r;){let s=!r||n&&n.currentIndex<gg(r,o,i)?n:r,a=gg(s,o,i),c=s.currentIndex;if(s===r)o--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)o++;else{i||(i=[]);let u=a-o,l=c-o;if(u!=l){for(let h=0;h<u;h++){let f=h<i.length?i[h]:i[h]=0,p=f+h;l<=p&&p<u&&(i[h]=f+1)}let d=s.previousIndex;i[d]=l-u}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!ny(e))throw new X(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,o,i,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)i=e[a],s=this._trackByFn(a,i),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,i,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,i,s,a)),Object.is(n.item,i)||this._addIdentityChange(n,i)),n=n._next}else o=0,pE(e,a=>{s=this._trackByFn(o,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,o),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,o)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,o++}),this.length=o;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,o){let i;return e===null?i=this._itTail:(i=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,i,o)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,o),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,i,o)):e=this._addAfter(new zd(n,r),i,o)),e}_verifyReinsertion(e,n,r,o){let i=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return i!==null?e=this._reinsertAfter(i,e._prev,o):e.currentIndex!=o&&(e.currentIndex=o,this._addToMoves(e,o)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let o=e._prevRemoved,i=e._nextRemoved;return o===null?this._removalsHead=i:o._nextRemoved=i,i===null?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let o=n===null?this._itHead:n._next;return e._next=o,e._prev=n,o===null?this._itTail=e:o._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Wc),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Wc),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},zd=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Zd=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Wc=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Zd,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,o=this.map.get(r);return o?o.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function gg(t,e,n){let r=t.previousIndex;if(r===null)return r;let o=0;return n&&r<n.length&&(o=n[r]),r+e+o}function vg(){return new $h([new Wd])}var $h=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,o){if(o!=null){let i=o.factories.slice();r=r.concat(i)}return new e(r)}static extend(r){return{provide:e,useFactory:o=>e.create(r,o||vg()),deps:[[e,new Oh,new uu]]}}find(r){let o=this.factories.find(i=>i.supports(r));if(o!=null)return o;throw new X(901,!1)}};e.\u0275prov=te({token:e,providedIn:"root",factory:vg});let t=e;return t})();function Gc(t,e,n,r,o=!1){for(;n!==null;){let i=e[n.index];i!==null&&r.push(ur(i)),qn(i)&&vE(i,r);let s=n.type;if(s&8)Gc(t,e,n.child,r);else if(s&32){let a=Vh(n,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=Kv(e,n);if(Array.isArray(a))r.push(...a);else{let c=Lh(e[Un]);Gc(c[pe],c,a,r,!0)}}n=o?n.projectionNext:n.next}return r}function vE(t,e){for(let n=cn;n<t.length;n++){let r=t[n],o=r[pe].firstChild;o!==null&&Gc(r[pe],r,o,e)}t[xo]!==t[Ar]&&e.push(t[xo])}var ry=[];function yE(t){return t[_o]??_E(t)}function _E(t){let e=ry.pop()??Object.create(wE);return e.lView=t,e}function xE(t){t.lView[_o]!==t&&(t.lView=null,ry.push(t))}var wE=V(x({},vm),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Hs(t.lView)},consumerOnSignalRead(){this.lView[_o]=this}}),bE="ngOriginalError";function xd(t){return t[bE]}var lr=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&xd(e);for(;n&&xd(n);)n=xd(n);return n||null}},oy=new ce("",{providedIn:"root",factory:()=>$(lr).handleError.bind(void 0)});var iy=!1,CE=new ce("",{providedIn:"root",factory:()=>iy});var Si={};function le(t){sy(Vt(),Be(),Ci()+t,!1)}function sy(t,e,n,r){if(!r)if((e[ie]&3)===3){let i=t.preOrderCheckHooks;i!==null&&Ac(e,i,n)}else{let i=t.preOrderHooks;i!==null&&Mc(e,i,0,n)}wo(n)}function Nt(t,e=he.Default){let n=Be();if(n===null)return ee(t,e);let r=$n();return Ev(r,n,wn(t),e)}function ay(){let t="invalid";throw new Error(t)}function DE(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let o=n[r];if(o<0)wo(~o);else{let i=o,s=n[++r],a=n[++r];FS(s,i);let c=e[i];a(2,c)}}}finally{wo(-1)}}function pu(t,e,n,r,o,i,s,a,c,u,l){let d=e.blueprint.slice();return d[Ar]=o,d[ie]=r|4|128|8|64,(u!==null||t&&t[ie]&2048)&&(d[ie]|=2048),sv(d),d[st]=d[bi]=t,d[Bn]=n,d[Gr]=s||t&&t[Gr],d[at]=a||t&&t[at],d[hi]=c||t&&t[hi]||null,d[ln]=i,d[tu]=FT(),d[Us]=l,d[Jg]=u,d[Un]=e.type==2?t[Un]:d,d}function Ti(t,e,n,r,o){let i=t.data[e];if(i===null)i=SE(t,e,n,r,o),RS()&&(i.flags|=32);else if(i.type&64){i.type=n,i.value=r,i.attrs=o;let s=NS();i.injectorIndex=s===null?-1:s.injectorIndex}return Eo(i,!0),i}function SE(t,e,n,r,o){let i=dv(),s=Dh(),a=s?i:i&&i.parent,c=t.data[e]=NE(t,a,n,e,r,o);return t.firstChild===null&&(t.firstChild=c),i!==null&&(s?i.child==null&&c.parent!==null&&(i.child=c):i.next===null&&(i.next=c,c.prev=i)),c}function cy(t,e,n,r){if(n===0)return-1;let o=e.length;for(let i=0;i<n;i++)e.push(r),t.blueprint.push(r),t.data.push(null);return o}function uy(t,e,n,r,o){let i=Ci(),s=r&2;try{wo(-1),s&&e.length>cr&&sy(t,e,cr,!1),or(s?2:0,o),n(r,o)}finally{wo(i),or(s?3:1,o)}}function Hh(t,e,n){if(bh(e)){let r=rn(null);try{let o=e.directiveStart,i=e.directiveEnd;for(let s=o;s<i;s++){let a=t.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{rn(r)}}}function Wh(t,e,n){uv()&&(VE(t,e,n,bn(n,e)),(n.flags&64)===64&&fy(t,e,n))}function Gh(t,e,n=bn){let r=e.localNames;if(r!==null){let o=e.index+1;for(let i=0;i<r.length;i+=2){let s=r[i+1],a=s===-1?n(e,t):t[s];t[o++]=a}}}function ly(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=zh(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function zh(t,e,n,r,o,i,s,a,c,u,l){let d=cr+r,h=d+o,f=TE(d,h),p=typeof u=="function"?u():u;return f[pe]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof i=="function"?i():i,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:l}}function TE(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Si);return n}function EE(t,e,n,r){let i=r.get(CE,iy)||n===ar.ShadowDom,s=t.selectRootElement(e,i);return IE(s),s}function IE(t){AE(t)}var AE=t=>null;function ME(t,e,n,r){let o=vy(e);o.push(n),t.firstCreatePass&&yy(t).push(r,o.length-1)}function NE(t,e,n,r,o,i){let s=e?e.injectorIndex:-1,a=0;return lv()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function yg(t,e,n,r){for(let o in t)if(t.hasOwnProperty(o)){n=n===null?{}:n;let i=t[o];r===null?_g(n,e,o,i):r.hasOwnProperty(o)&&_g(n,e,r[o],i)}return n}function _g(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function OE(t,e,n){let r=e.directiveStart,o=e.directiveEnd,i=t.data,s=e.attrs,a=[],c=null,u=null;for(let l=r;l<o;l++){let d=i[l],h=n?n.get(d):null,f=h?h.inputs:null,p=h?h.outputs:null;c=yg(d.inputs,l,c,f),u=yg(d.outputs,l,u,p);let g=c!==null&&s!==null&&!Wg(e)?ZE(c,l,s):null;a.push(g)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}function kE(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function dy(t,e,n,r,o,i,s,a){let c=bn(e,n),u=e.inputs,l;!a&&u!=null&&(l=u[r])?(Yh(t,n,l,r,o),nu(e)&&RE(n,e.index)):e.type&3?(r=kE(r),o=s!=null?s(o,e.value||"",r):o,i.setProperty(c,r,o)):e.type&12}function RE(t,e){let n=To(e,t);n[ie]&16||(n[ie]|=64)}function Zh(t,e,n,r){if(uv()){let o=r===null?null:{"":-1},i=jE(t,n),s,a;i===null?s=a=null:[s,a]=i,s!==null&&hy(t,e,n,s,o,a),o&&BE(n,r,o)}n.mergedAttrs=wh(n.mergedAttrs,n.attrs)}function hy(t,e,n,r,o,i){for(let u=0;u<r.length;u++)QS(Cv(n,e),t,r[u].type);qE(n,t.data.length,r.length);for(let u=0;u<r.length;u++){let l=r[u];l.providersResolver&&l.providersResolver(l)}let s=!1,a=!1,c=cy(t,e,r.length,null);for(let u=0;u<r.length;u++){let l=r[u];n.mergedAttrs=wh(n.mergedAttrs,l.hostAttrs),$E(t,n,e,c,l),UE(c,l,o),l.contentQueries!==null&&(n.flags|=4),(l.hostBindings!==null||l.hostAttrs!==null||l.hostVars!==0)&&(n.flags|=64);let d=l.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}OE(t,n,i)}function FE(t,e,n,r,o){let i=o.hostBindings;if(i){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;PE(s)!=a&&s.push(a),s.push(n,r,i)}}function PE(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function VE(t,e,n,r){let o=n.directiveStart,i=n.directiveEnd;nu(n)&&HE(e,n,t.data[o+n.componentOffset]),t.firstCreatePass||Cv(n,e),zr(r,e);let s=n.initialInputs;for(let a=o;a<i;a++){let c=t.data[a],u=vi(e,t,a,n);if(zr(u,e),s!==null&&zE(e,a-o,u,c,n,s),Ks(c)){let l=To(n.index,e);l[Bn]=vi(e,t,a,n)}}}function fy(t,e,n){let r=n.directiveStart,o=n.directiveEnd,i=n.index,s=PS();try{wo(i);for(let a=r;a<o;a++){let c=t.data[a],u=e[a];Nd(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&LE(c,u)}}finally{wo(-1),Nd(s)}}function LE(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function jE(t,e){let n=t.directiveRegistry,r=null,o=null;if(n)for(let i=0;i<n.length;i++){let s=n[i];if(Gg(e,s.selectors,!1))if(r||(r=[]),Ks(s))if(s.findHostDirectiveDefs!==null){let a=[];o=o||new Map,s.findHostDirectiveDefs(s,a,o),r.unshift(...a,s);let c=a.length;Yd(t,e,c)}else r.unshift(s),Yd(t,e,0);else o=o||new Map,s.findHostDirectiveDefs?.(s,r,o),r.push(s)}return r===null?null:[r,o]}function Yd(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function BE(t,e,n){if(e){let r=t.localNames=[];for(let o=0;o<e.length;o+=2){let i=n[e[o+1]];if(i==null)throw new X(-301,!1);r.push(e[o],i)}}}function UE(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Ks(e)&&(n[""]=t)}}function qE(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function $E(t,e,n,r,o){t.data[r]=o;let i=o.factory||(o.factory=mi(o.type,!0)),s=new Ws(i,Ks(o),Nt);t.blueprint[r]=s,n[r]=s,FE(t,e,r,cy(t,n,o.hostVars,Si),o)}function HE(t,e,n){let r=bn(e,t),o=ly(n),i=t[Gr].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=mu(t,pu(t,o,null,s,r,e,null,i.createRenderer(r,n),null,null,null));t[e.index]=a}function WE(t,e,n,r,o,i){let s=bn(t,e);GE(e[at],s,i,t.value,n,r,o)}function GE(t,e,n,r,o,i,s){if(i==null)t.removeAttribute(e,o,n);else{let a=s==null?_h(i):s(i,r||"",o);t.setAttribute(e,o,a,n)}}function zE(t,e,n,r,o,i){let s=i[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],u=s[a++],l=s[a++];py(r,n,c,u,l)}}function py(t,e,n,r,o){let i=rn(null);try{let s=t.inputTransforms;s!==null&&s.hasOwnProperty(r)&&(o=s[r].call(e,o)),t.setInput!==null?t.setInput(e,o,n,r):e[r]=o}finally{rn(i)}}function ZE(t,e,n){let r=null,o=0;for(;o<n.length;){let i=n[o];if(i===0){o+=4;continue}else if(i===5){o+=2;continue}if(typeof i=="number")break;if(t.hasOwnProperty(i)){r===null&&(r=[]);let s=t[i];for(let a=0;a<s.length;a+=2)if(s[a]===e){r.push(i,s[a+1],n[o+1]);break}}o+=2}return r}function my(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function gy(t,e){let n=t.contentQueries;if(n!==null){let r=rn(null);try{for(let o=0;o<n.length;o+=2){let i=n[o],s=n[o+1];if(s!==-1){let a=t.data[s];Th(i),a.contentQueries(2,e[s],s)}}}finally{rn(r)}}}function mu(t,e){return t[$s]?t[sg][jn]=e:t[$s]=e,t[sg]=e,e}function Qd(t,e,n){Th(0);let r=rn(null);try{e(t,n)}finally{rn(r)}}function vy(t){return t[qs]||(t[qs]=[])}function yy(t){return t.cleanup||(t.cleanup=[])}function _y(t,e){let n=t[hi],r=n?n.get(lr,null):null;r&&r.handleError(e)}function Yh(t,e,n,r,o){for(let i=0;i<n.length;){let s=n[i++],a=n[i++],c=e[s],u=t.data[s];py(u,c,r,a,o)}}function YE(t,e,n){let r=ov(e,t);BT(t[at],r,n)}var QE=100;function XE(t,e=!0){let n=t[Gr],r=n.rendererFactory,o=n.afterRenderEventManager,i=!1;i||(r.begin?.(),o?.begin());try{KE(t)}catch(s){throw e&&_y(t,s),s}finally{i||(r.end?.(),n.inlineEffectRunner?.flush(),o?.end())}}function KE(t){Xd(t,0);let e=0;for(;av(t);){if(e===QE)throw new X(103,!1);e++,Xd(t,1)}}function JE(t,e,n,r){let o=e[ie];if((o&256)===256)return;let i=!1;!i&&e[Gr].inlineEffectRunner?.flush(),Eh(e);let s=null,a=null;!i&&eI(t)&&(a=yE(e),s=ym(a));try{sv(e),OS(t.bindingStartIndex),n!==null&&uy(t,e,n,2,r);let c=(o&3)===3;if(!i)if(c){let d=t.preOrderCheckHooks;d!==null&&Ac(e,d,null)}else{let d=t.preOrderHooks;d!==null&&Mc(e,d,0,null),pd(e,0)}if(tI(e),xy(e,0),t.contentQueries!==null&&gy(t,e),!i)if(c){let d=t.contentCheckHooks;d!==null&&Ac(e,d)}else{let d=t.contentHooks;d!==null&&Mc(e,d,1),pd(e,1)}DE(t,e);let u=t.components;u!==null&&by(e,u,0);let l=t.viewQuery;if(l!==null&&Qd(2,l,r),!i)if(c){let d=t.viewCheckHooks;d!==null&&Ac(e,d)}else{let d=t.viewHooks;d!==null&&Mc(e,d,2),pd(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[fd]){for(let d of e[fd])d();e[fd]=null}i||(e[ie]&=-73)}catch(c){throw Hs(e),c}finally{a!==null&&(_m(a,s),xE(a)),Ih()}}function eI(t){return t.type!==2}function xy(t,e){for(let n=$v(t);n!==null;n=Hv(n)){n[ie]&=~pi.HasChildViewsToRefresh;for(let r=cn;r<n.length;r++){let o=n[r];wy(o,e)}}}function tI(t){for(let e=$v(t);e!==null;e=Hv(e)){if(!(e[ie]&pi.HasTransplantedViews))continue;let n=e[fi];for(let r=0;r<n.length;r++){let o=n[r],i=o[st];CS(o)}}}function nI(t,e,n){let r=To(e,t);wy(r,n)}function wy(t,e){Ch(t)&&Xd(t,e)}function Xd(t,e){let r=t[pe],o=t[ie],i=t[_o],s=!!(e===0&&o&16);if(s||=!!(o&64&&e===0),s||=!!(o&1024),s||=!!(i?.dirty&&zl(i)),i&&(i.dirty=!1),t[ie]&=-9217,s)JE(r,t,r.template,t[Bn]);else if(o&8192){xy(t,1);let a=r.components;a!==null&&by(t,a,1)}}function by(t,e,n){for(let r=0;r<e.length;r++)nI(t,e[r],n)}function Qh(t){for(t[Gr].changeDetectionScheduler?.notify();t;){t[ie]|=64;let e=Lh(t);if(fS(t)&&!e)return t;t=e}return null}var bo=class{get rootNodes(){let e=this._lView,n=e[pe];return Gc(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Bn]}set context(e){this._lView[Bn]=e}get destroyed(){return(this._lView[ie]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[st];if(qn(e)){let n=e[Vc],r=n?n.indexOf(this):-1;r>-1&&(jd(e,r),Bc(n,r))}this._attachedToViewContainer=!1}Zv(this._lView[pe],this._lView)}onDestroy(e){cv(this._lView,e)}markForCheck(){Qh(this._cdRefInjectingView||this._lView)}detach(){this._lView[ie]&=-129}reattach(){Md(this._lView),this._lView[ie]|=128}detectChanges(){this._lView[ie]|=1024,XE(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new X(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,HT(this._lView[pe],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new X(902,!1);this._appRef=e,Md(this._lView)}},Mr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=rI;let t=e;return t})();function rI(t){return oI($n(),Be(),(t&16)===16)}function oI(t,e,n){if(nu(t)&&!n){let r=To(t.index,e);return new bo(r,r)}else if(t.type&47){let r=e[Un];return new bo(r,e)}return null}var Cy=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=iI,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Kd=class extends Cy{constructor(e){super(),this._lView=e}onDestroy(e){return cv(this._lView,e),()=>SS(this._lView,e)}};function iI(){return new Kd(Be())}var xg=new Set;function Xh(t){xg.has(t)||(xg.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var Jd=class extends sn{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let o=e,i=n||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;o=c.next?.bind(c),i=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(i=wd(i),o&&(o=wd(o)),s&&(s=wd(s)));let a=super.subscribe({next:o,error:i,complete:s});return e instanceof et&&e.add(a),a}};function wd(t){return e=>{setTimeout(t,void 0,e)}}var Oe=Jd;function wg(...t){}function sI(){let t=typeof an.requestAnimationFrame=="function",e=an[t?"requestAnimationFrame":"setTimeout"],n=an[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var Ue=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Oe(!1),this.onMicrotaskEmpty=new Oe(!1),this.onStable=new Oe(!1),this.onError=new Oe(!1),typeof Zone>"u")throw new X(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&n,o.shouldCoalesceRunChangeDetection=r,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=sI().nativeRequestAnimationFrame,uI(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new X(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new X(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,o){let i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,e,aI,wg,wg);try{return i.runTask(s,n,r)}finally{i.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},aI={};function Kh(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function cI(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(an,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,eh(t),t.isCheckStableRunning=!0,Kh(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),eh(t))}function uI(t){let e=()=>{cI(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,o,i,s,a)=>{if(lI(a))return n.invokeTask(o,i,s,a);try{return bg(t),n.invokeTask(o,i,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&i.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Cg(t)}},onInvoke:(n,r,o,i,s,a,c)=>{try{return bg(t),n.invoke(o,i,s,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),Cg(t)}},onHasTask:(n,r,o,i)=>{n.hasTask(o,i),r===o&&(i.change=="microTask"?(t._hasPendingMicrotasks=i.microTask,eh(t),Kh(t)):i.change=="macroTask"&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(n,r,o,i)=>(n.handleError(o,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}function eh(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function bg(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Cg(t){t._nesting--,Kh(t)}var th=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Oe,this.onMicrotaskEmpty=new Oe,this.onStable=new Oe,this.onError=new Oe}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,o){return e.apply(n,r)}};function lI(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}function dI(t="zone.js",e){return t==="noop"?new th:t==="zone.js"?new Ue(e):t}var ui=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(ui||{}),hI={destroy(){}};function Jh(t,e){!e&&TT(Jh);let n=e?.injector??$(Cn);if(!AT(n))return hI;Xh("NgAfterNextRender");let r=n.get(Dy),o=r.handler??=new rh,i=e?.phase??ui.MixedReadWrite,s=()=>{o.unregister(c),a()},a=n.get(Cy).onDestroy(s),c=new nh(n,i,()=>{s(),t()});return o.register(c),{destroy:s}}var nh=class{constructor(e,n,r){this.phase=n,this.callbackFn=r,this.zone=e.get(Ue),this.errorHandler=e.get(lr,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},rh=class{constructor(){this.executingCallbacks=!1,this.buckets={[ui.EarlyRead]:new Set,[ui.Write]:new Set,[ui.MixedReadWrite]:new Set,[ui.Read]:new Set},this.deferredCallbacks=new Set}validateBegin(){if(this.executingCallbacks)throw new X(102,!1)}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},Dy=(()=>{let e=class e{constructor(){this.renderDepth=0,this.handler=null,this.internalCallbacks=[]}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){if(this.renderDepth--,this.renderDepth===0){for(let r of this.internalCallbacks)r();this.internalCallbacks.length=0,this.handler?.execute()}}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=te({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function fI(t,e){let n=To(e,t),r=n[pe];pI(r,n);let o=n[Ar];o!==null&&n[Us]===null&&(n[Us]=qh(o,n[hi])),ef(r,n,n[Bn])}function pI(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function ef(t,e,n){Eh(e);try{let r=t.viewQuery;r!==null&&Qd(1,r,n);let o=t.template;o!==null&&uy(t,e,o,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&gy(t,e),t.staticViewQueries&&Qd(2,t.viewQuery,n);let i=t.components;i!==null&&mI(e,i)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[ie]&=-5,Ih()}}function mI(t,e){for(let n=0;n<e.length;n++)fI(t,e[n])}function zc(t,e,n){let r=n?t.styles:null,o=n?t.classes:null,i=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")i=a;else if(i==1)o=Qm(o,a);else if(i==2){let c=a,u=e[++s];r=Qm(r,c+": "+u+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=o:t.classesWithoutHost=o}var Zc=class extends fu{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Wr(e);return new _i(n,this.ngModule)}};function Dg(t){let e=[];for(let n in t)if(t.hasOwnProperty(n)){let r=t[n];e.push({propName:r,templateName:n})}return e}function gI(t){let e=t.toLowerCase();return e==="svg"?vS:e==="math"?yS:null}var oh=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=eu(r);let o=this.injector.get(e,_d,r);return o!==_d||n===_d?o:this.parentInjector.get(e,n,r)}},_i=class extends Hc{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=Dg(e.inputs);if(n!==null)for(let o of r)n.hasOwnProperty(o.propName)&&(o.transform=n[o.propName]);return r}get outputs(){return Dg(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=cS(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,o){o=o||this.ngModule;let i=o instanceof un?o:o?.injector;i&&this.componentDef.getStandaloneInjector!==null&&(i=this.componentDef.getStandaloneInjector(i)||i);let s=i?new oh(e,i):e,a=s.get(zs,null);if(a===null)throw new X(407,!1);let c=s.get(fE,null),u=s.get(Dy,null),l=s.get(qd,null),d={rendererFactory:a,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:u,changeDetectionScheduler:l},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",p=r?EE(h,r,this.componentDef.encapsulation,s):Gv(h,f,gI(f)),g=512;this.componentDef.signals?g|=4096:this.componentDef.onPush||(g|=16);let m=null;p!==null&&(m=qh(p,s,!0));let v=zh(0,null,null,1,0,null,null,null,null,null,null),D=pu(null,v,null,g,null,null,d,h,s,null,m);Eh(D);let I,N;try{let C=this.componentDef,b,_=null;C.findHostDirectiveDefs?(b=[],_=new Map,C.findHostDirectiveDefs(C,b,_),b.push(C)):b=[C];let w=vI(D,p),R=yI(w,p,C,b,D,d,h);N=iv(v,cr),p&&wI(h,C,p,r),n!==void 0&&bI(N,this.ngContentSelectors,n),I=xI(R,C,b,_,D,[CI]),ef(v,D,null)}finally{Ih()}return new ih(this.componentType,I,Di(N,D),D,N)}},ih=class extends $d{constructor(e,n,r,o,i){super(),this.location=r,this._rootLView=o,this._tNode=i,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new bo(o,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,o;if(r!==null&&(o=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView;Yh(i[pe],i,o,e,n),this.previousInputValues.set(e,n);let s=To(this._tNode.index,i);Qh(s)}}get injector(){return new yo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function vI(t,e){let n=t[pe],r=cr;return t[r]=e,Ti(n,r,2,"#host",null)}function yI(t,e,n,r,o,i,s){let a=o[pe];_I(r,t,e,s);let c=null;e!==null&&(c=qh(e,o[hi]));let u=i.rendererFactory.createRenderer(e,n),l=16;n.signals?l=4096:n.onPush&&(l=64);let d=pu(o,ly(n),null,l,o[t.index],t,i,u,null,null,c);return a.firstCreatePass&&Yd(a,t,r.length-1),mu(o,d),o[t.index]=d}function _I(t,e,n,r){for(let o of t)e.mergedAttrs=wh(e.mergedAttrs,o.hostAttrs);e.mergedAttrs!==null&&(zc(e,e.mergedAttrs,!0),n!==null&&ty(r,n,e))}function xI(t,e,n,r,o,i){let s=$n(),a=o[pe],c=bn(s,o);hy(a,o,s,n,null,r);for(let l=0;l<n.length;l++){let d=s.directiveStart+l,h=vi(o,a,d,s);zr(h,o)}fy(a,o,s),c&&zr(c,o);let u=vi(o,a,s.directiveStart+s.componentOffset,s);if(t[Bn]=o[Bn]=u,i!==null)for(let l of i)l(u,e);return Hh(a,s,t),u}function wI(t,e,n,r){if(r)Id(t,n,["ng-version","17.0.8"]);else{let{attrs:o,classes:i}=uS(e.selectors[0]);o&&Id(t,n,o),i&&i.length>0&&ey(t,n,i.join(" "))}}function bI(t,e,n){let r=t.projection=[];for(let o=0;o<e.length;o++){let i=n[o];r.push(i!=null?Array.from(i):null)}}function CI(){let t=$n();au(Be()[pe],t)}function ta(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function Ei(t,e,n,r){let o=Be(),i=ou();if(ta(o,i,e)){let s=Vt(),a=Ah();WE(a,o,t,e,n,r)}return Ei}function DI(t,e,n,r){return ta(t,ou(),n)?e+_h(n)+r:Si}function Ec(t,e){return t<<17|e<<2}function Co(t){return t>>17&32767}function SI(t){return(t&2)==2}function TI(t,e){return t&131071|e<<17}function sh(t){return t|2}function xi(t){return(t&131068)>>2}function bd(t,e){return t&-131069|e<<2}function EI(t){return(t&1)===1}function ah(t){return t|1}function II(t,e,n,r,o,i){let s=i?e.classBindings:e.styleBindings,a=Co(s),c=xi(s);t[r]=n;let u=!1,l;if(Array.isArray(n)){let d=n;l=d[1],(l===null||Js(d,l)>0)&&(u=!0)}else l=n;if(o)if(c!==0){let h=Co(t[a+1]);t[r+1]=Ec(h,a),h!==0&&(t[h+1]=bd(t[h+1],r)),t[a+1]=TI(t[a+1],r)}else t[r+1]=Ec(a,0),a!==0&&(t[a+1]=bd(t[a+1],r)),a=r;else t[r+1]=Ec(c,0),a===0?a=r:t[c+1]=bd(t[c+1],r),c=r;u&&(t[r+1]=sh(t[r+1])),Sg(t,l,r,!0,i),Sg(t,l,r,!1,i),AI(e,l,t,r,i),s=Ec(a,c),i?e.classBindings=s:e.styleBindings=s}function AI(t,e,n,r,o){let i=o?t.residualClasses:t.residualStyles;i!=null&&typeof e=="string"&&Js(i,e)>=0&&(n[r+1]=ah(n[r+1]))}function Sg(t,e,n,r,o){let i=t[n+1],s=e===null,a=r?Co(i):xi(i),c=!1;for(;a!==0&&(c===!1||s);){let u=t[a],l=t[a+1];MI(u,e)&&(c=!0,t[a+1]=r?ah(l):sh(l)),a=r?Co(l):xi(l)}c&&(t[n+1]=r?sh(i):ah(i))}function MI(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Js(t,e)>=0:!1}function ue(t,e,n){let r=Be(),o=ou();if(ta(r,o,e)){let i=Vt(),s=Ah();dy(i,s,r,t,e,r[at],n,!1)}return ue}function Tg(t,e,n,r,o){let i=e.inputs,s=o?"class":"style";Yh(t,n,i[s],s,r)}function gu(t,e,n){return Sy(t,e,n,!1),gu}function dr(t,e){return Sy(t,e,null,!0),dr}function Sy(t,e,n,r){let o=Be(),i=Vt(),s=kS(2);if(i.firstUpdatePass&&OI(i,t,s,r),e!==Si&&ta(o,s,e)){let a=i.data[Ci()];VI(i,a,o,o[at],t,o[s+1]=LI(e,n),r,s)}}function NI(t,e){return e>=t.expandoStartIndex}function OI(t,e,n,r){let o=t.data;if(o[n+1]===null){let i=o[Ci()],s=NI(t,n);jI(i,r)&&e===null&&!s&&(e=!1),e=kI(o,i,e,r),II(o,i,e,n,s,r)}}function kI(t,e,n,r){let o=VS(t),i=r?e.residualClasses:e.residualStyles;if(o===null)(r?e.classBindings:e.styleBindings)===0&&(n=Cd(null,t,e,n,r),n=Zs(n,e.attrs,r),i=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==o)if(n=Cd(o,t,e,n,r),i===null){let c=RI(t,e,r);c!==void 0&&Array.isArray(c)&&(c=Cd(null,t,e,c[1],r),c=Zs(c,e.attrs,r),FI(t,e,r,c))}else i=PI(t,e,r)}return i!==void 0&&(r?e.residualClasses=i:e.residualStyles=i),n}function RI(t,e,n){let r=n?e.classBindings:e.styleBindings;if(xi(r)!==0)return t[Co(r)]}function FI(t,e,n,r){let o=n?e.classBindings:e.styleBindings;t[Co(o)]=r}function PI(t,e,n){let r,o=e.directiveEnd;for(let i=1+e.directiveStylingLast;i<o;i++){let s=t[i].hostAttrs;r=Zs(r,s,n)}return Zs(r,e.attrs,n)}function Cd(t,e,n,r,o){let i=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(i=e[a],r=Zs(r,i.hostAttrs,o),i!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Zs(t,e,n){let r=n?1:2,o=-1;if(e!==null)for(let i=0;i<e.length;i++){let s=e[i];typeof s=="number"?o=s:o===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),aT(t,s,n?!0:e[++i]))}return t===void 0?null:t}function VI(t,e,n,r,o,i,s,a){if(!(e.type&3))return;let c=t.data,u=c[a+1],l=EI(u)?Eg(c,e,n,o,xi(u),s):void 0;if(!Yc(l)){Yc(i)||SI(u)&&(i=Eg(c,null,n,o,a,s));let d=ov(Ci(),n);oE(r,s,d,o,i)}}function Eg(t,e,n,r,o,i){let s=e===null,a;for(;o>0;){let c=t[o],u=Array.isArray(c),l=u?c[1]:c,d=l===null,h=n[o+1];h===Si&&(h=d?Ln:void 0);let f=d?gd(h,r):l===r?h:void 0;if(u&&!Yc(f)&&(f=gd(c,r)),Yc(f)&&(a=f,s))return a;let p=t[o+1];o=s?Co(p):xi(p)}if(e!==null){let c=i?e.residualClasses:e.residualStyles;c!=null&&(a=gd(c,r))}return a}function Yc(t){return t!==void 0}function LI(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Mt(Uh(t)))),t}function jI(t,e){return(t.flags&(e?8:16))!==0}var Ej=new RegExp(`^(\\d+)*(${aE}|${sE})*(.*)`);var BI=(t,e)=>null;function Ig(t,e){return BI(t,e)}function UI(t,e,n,r){let o=e.tView,s=t[ie]&4096?4096:16,a=pu(t,o,n,s,null,e,null,null,null,r?.injector??null,r?.dehydratedView??null),c=t[e.index];a[Xs]=c;let u=t[sr];return u!==null&&(a[sr]=u.createEmbeddedView(o)),ef(o,a,n),a}function Ag(t,e){return!e||e.firstChild===null||Uv(t)}function qI(t,e,n,r=!0){let o=e[pe];if(GT(o,e,t,n),r){let s=Bd(n,t),a=e[at],c=jh(a,t[xo]);c!==null&&$T(o,t[ln],a,e,c,s)}let i=e[Us];i!==null&&i.firstChild!==null&&(i.firstChild=null)}var Qr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=$I;let t=e;return t})();function $I(){let t=$n();return Ey(t,Be())}var HI=Qr,Ty=class extends HI{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Di(this._hostTNode,this._hostLView)}get injector(){return new yo(this._hostTNode,this._hostLView)}get parentInjector(){let e=Mh(this._hostTNode,this._hostLView);if(xv(e)){let n=jc(e,this._hostLView),r=Lc(e),o=n[pe].data[r+8];return new yo(o,n)}else return new yo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Mg(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-cn}createEmbeddedView(e,n,r){let o,i;typeof r=="number"?o=r:r!=null&&(o=r.index,i=r.injector);let s=Ig(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},i,s);return this.insertImpl(a,o,Ag(this._hostTNode,s)),a}createComponent(e,n,r,o,i){let s=e&&!rT(e),a;if(s)a=n;else{let p=n||{};a=p.index,r=p.injector,o=p.projectableNodes,i=p.environmentInjector||p.ngModuleRef}let c=s?e:new _i(Wr(e)),u=r||this.parentInjector;if(!i&&c.ngModule==null){let g=(s?u:this.parentInjector).get(un,null);g&&(i=g)}let l=Wr(c.componentType??{}),d=Ig(this._lContainer,l?.id??null),h=d?.firstChild??null,f=c.create(u,o,h,i);return this.insertImpl(f.hostView,a,Ag(this._hostTNode,d)),f}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let o=e._lView;if(bS(o)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=o[st],u=new Ty(c,c[ln],c[st]);u.detach(u.indexOf(e))}}let i=this._adjustIndex(n),s=this._lContainer;return qI(s,o,i,r),e.attachToViewContainerRef(),Nv(Dd(s),i,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Mg(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=jd(this._lContainer,n);r&&(Bc(Dd(this._lContainer),n),Zv(r[pe],r))}detach(e){let n=this._adjustIndex(e,-1),r=jd(this._lContainer,n);return r&&Bc(Dd(this._lContainer),n)!=null?new bo(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Mg(t){return t[Vc]}function Dd(t){return t[Vc]||(t[Vc]=[])}function Ey(t,e){let n,r=e[t.index];return qn(r)?n=r:(n=my(r,e,null,t),e[t.index]=n,mu(e,n)),GI(n,e,t,r),new Ty(n,t,e)}function WI(t,e){let n=t[at],r=n.createComment(""),o=bn(e,t),i=jh(n,o);return $c(n,i,r,KT(n,o),!1),r}var GI=YI,zI=(t,e,n)=>!1;function ZI(t,e,n){return zI(t,e,n)}function YI(t,e,n,r){if(t[xo])return;let o;n.type&8?o=ur(r):o=WI(e,n),t[xo]=o}function QI(t,e,n,r,o,i,s,a,c){let u=e.consts,l=Ti(e,t,4,s||null,gi(u,a));Zh(e,n,l,gi(u,c)),au(e,l);let d=l.tView=zh(2,l,r,o,i,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}function ct(t,e,n,r,o,i,s,a){let c=Be(),u=Vt(),l=t+cr,d=u.firstCreatePass?QI(l,u,c,e,n,r,o,i,s):u.data[l];Eo(d,!1);let h=XI(u,c,d,t);iu()&&hu(u,c,h,d),zr(h,c);let f=my(h,c,h,d);return c[l]=f,mu(c,f),ZI(f,d,c),ru(d)&&Wh(u,c,d),s!=null&&Gh(c,d,a),ct}var XI=KI;function KI(t,e,n,r){return su(!0),e[at].createComment("")}function JI(t,e,n,r,o,i){let s=e.consts,a=gi(s,o),c=Ti(e,t,2,r,a);return Zh(e,n,c,gi(s,i)),c.attrs!==null&&zc(c,c.attrs,!1),c.mergedAttrs!==null&&zc(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function De(t,e,n,r){let o=Be(),i=Vt(),s=cr+t,a=o[at],c=i.firstCreatePass?JI(s,i,o,e,n,r):i.data[s],u=eA(i,o,c,a,e,t);o[s]=u;let l=ru(c);return Eo(c,!0),ty(a,u,c),(c.flags&32)!==32&&iu()&&hu(i,o,u,c),TS()===0&&zr(u,o),ES(),l&&(Wh(i,o,c),Hh(i,c,o)),r!==null&&Gh(o,c),De}function Se(){let t=$n();Dh()?Sh():(t=t.parent,Eo(t,!1));let e=t;AS(e)&&MS(),IS();let n=Vt();return n.firstCreatePass&&(au(n,t),bh(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&HS(e)&&Tg(n,e,Be(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&WS(e)&&Tg(n,e,Be(),e.stylesWithoutHost,!1),Se}function qe(t,e,n,r){return De(t,e,n,r),Se(),qe}var eA=(t,e,n,r,o,i)=>(su(!0),Gv(r,o,BS()));function tA(t,e,n,r,o){let i=e.consts,s=gi(i,r),a=Ti(e,t,8,"ng-container",s);s!==null&&zc(a,s,!0);let c=gi(i,o);return Zh(e,n,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function Ot(t,e,n){let r=Be(),o=Vt(),i=t+cr,s=o.firstCreatePass?tA(i,o,r,e,n):o.data[i];Eo(s,!0);let a=nA(o,r,s,t);return r[i]=a,iu()&&hu(o,r,a,s),zr(a,r),ru(s)&&(Wh(o,r,s),Hh(o,s,r)),n!=null&&Gh(r,s),Ot}function kt(){let t=$n(),e=Vt();return Dh()?Sh():(t=t.parent,Eo(t,!1)),e.firstCreatePass&&(au(e,t),bh(t)&&e.queries.elementEnd(t)),kt}var nA=(t,e,n,r)=>(su(!0),UT(e[at],""));function Dt(){return Be()}function tf(t,e,n){let r=Be(),o=ou();if(ta(r,o,e)){let i=Vt(),s=Ah();dy(i,s,r,t,e,r[at],n,!0)}return tf}var Qc="en-US";var rA=Qc;function oA(t){LD(t,"Expected localeId to be defined"),typeof t=="string"&&(rA=t.toLowerCase().replace(/_/g,"-"))}function Ii(t){return!!t&&typeof t.then=="function"}function Iy(t){return!!t&&typeof t.subscribe=="function"}function ke(t,e,n,r){let o=Be(),i=Vt(),s=$n();return sA(i,o,o[at],s,t,e,r),ke}function iA(t,e,n,r){let o=t.cleanup;if(o!=null)for(let i=0;i<o.length-1;i+=2){let s=o[i];if(s===n&&o[i+1]===r){let a=e[qs],c=o[i+2];return a.length>c?a[c]:null}typeof s=="string"&&(i+=2)}return null}function sA(t,e,n,r,o,i,s){let a=ru(r),u=t.firstCreatePass&&yy(t),l=e[Bn],d=vy(e),h=!0;if(r.type&3||s){let g=bn(r,e),m=s?s(g):g,v=d.length,D=s?N=>s(ur(N[r.index])):r.index,I=null;if(!s&&a&&(I=iA(t,e,o,r.index)),I!==null){let N=I.__ngLastListenerFn__||I;N.__ngNextListenerFn__=i,I.__ngLastListenerFn__=i,h=!1}else{i=Og(r,e,l,i,!1);let N=n.listen(m,o,i);d.push(i,N),u&&u.push(o,D,v,v+1)}}else i=Og(r,e,l,i,!1);let f=r.outputs,p;if(h&&f!==null&&(p=f[o])){let g=p.length;if(g)for(let m=0;m<g;m+=2){let v=p[m],D=p[m+1],C=e[v][D].subscribe(i),b=d.length;d.push(i,C),u&&u.push(o,r.index,b,-(b+1))}}}function Ng(t,e,n,r){try{return or(6,e,n),n(r)!==!1}catch(o){return _y(t,o),!1}finally{or(7,e,n)}}function Og(t,e,n,r,o){return function i(s){if(s===Function)return r;let a=t.componentOffset>-1?To(t.index,e):e;Qh(a);let c=Ng(e,n,r,s),u=i.__ngNextListenerFn__;for(;u;)c=Ng(e,n,u,s)&&c,u=u.__ngNextListenerFn__;return o&&c===!1&&s.preventDefault(),c}}function K(t=1){return jS(t)}function aA(t,e){let n=null,r=rS(t);for(let o=0;o<e.length;o++){let i=e[o];if(i==="*"){n=o;continue}if(r===null?Gg(t,i,!0):sS(r,i))return o}return n}function Ay(t){let e=Be()[Un][ln];if(!e.projection){let n=t?t.length:1,r=e.projection=Ov(n,null),o=r.slice(),i=e.child;for(;i!==null;){let s=t?aA(i,t):0;s!==null&&(o[s]?o[s].projectionNext=i:r[s]=i,o[s]=i),i=i.next}}}function My(t,e=0,n){let r=Be(),o=Vt(),i=Ti(o,cr+t,16,null,n||null);i.projection===null&&(i.projection=e),Sh(),(!r[Us]||lv())&&(i.flags&32)!==32&&nE(o,r,i)}function ut(t,e=""){let n=Be(),r=Vt(),o=t+cr,i=r.firstCreatePass?Ti(r,o,1,e,null):r.data[o],s=cA(r,n,i,e,t);n[o]=s,iu()&&hu(r,n,s,i),Eo(i,!1)}var cA=(t,e,n,r,o)=>(su(!0),jT(e[at],r));function nf(t){return Zt("",t,""),nf}function Zt(t,e,n){let r=Be(),o=DI(r,t,e,n);return o!==Si&&YE(r,Ci(),o),Zt}var Zr=class{},Ys=class{};var Xc=class extends Zr{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Zc(this);let o=Qg(e);this._bootstrapComponents=Bv(o.bootstrap),this._r3Injector=Lv(e,n,[{provide:Zr,useValue:this},{provide:fu,useValue:this.componentFactoryResolver},...r],Mt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Kc=class extends Ys{constructor(e){super(),this.moduleType=e}create(e){return new Xc(this.moduleType,e,[])}};function uA(t,e,n){return new Xc(t,e,n)}var ch=class extends Zr{constructor(e){super(),this.componentFactoryResolver=new Zc(this),this.instance=null;let n=new Gs([...e.providers,{provide:Zr,useValue:this},{provide:fu,useValue:this.componentFactoryResolver}],e.parent||Rh(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function vu(t,e,n=null){return new ch({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var lA=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let o=Fv(!1,r.type),i=o.length>0?vu([o],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,i)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=te({token:e,providedIn:"environment",factory:()=>new e(ee(un))});let t=e;return t})();function lt(t){Xh("NgStandalone"),t.getStandaloneInjector=e=>e.get(lA).getOrCreateStandaloneInjector(t)}function dA(){return this._results[Symbol.iterator]()}var uh=class t{get changes(){return this._changes??=new Oe}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=dA)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=iT(e);(this._changesDetected=!oT(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}},Do=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=pA;let t=e;return t})(),hA=Do,fA=class extends hA{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let o=UI(this._declarationLView,this._declarationTContainer,e,{injector:n,dehydratedView:r});return new bo(o)}};function pA(){return rf($n(),Be())}function rf(t,e){return t.type&4?new fA(e,t,Di(t,e)):null}var lh=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},dh=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,o=[];for(let i=0;i<r;i++){let s=n.getByIndex(i),a=this.queries[s.indexInDeclarationView];o.push(a.clone())}return new t(o)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)ky(e,n).matches!==null&&this.queries[n].setDirty()}},hh=class{constructor(e,n,r=null){this.predicate=e,this.flags=n,this.read=r}},fh=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let o=n!==null?n.length:0,i=this.getByIndex(r).embeddedTView(e,o);i&&(i.indexInDeclarationView=r,n!==null?n.push(i):n=[i])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},ph=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){let i=r[o];this.matchTNodeWithReadOption(e,n,mA(n,i)),this.matchTNodeWithReadOption(e,n,Nc(n,e,i,!1,!1))}else r===Do?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Nc(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let o=this.metadata.read;if(o!==null)if(o===Dn||o===Qr||o===Do&&n.type&4)this.addMatch(n.index,-2);else{let i=Nc(n,e,o,!1,!1);i!==null&&this.addMatch(n.index,i)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function mA(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function gA(t,e){return t.type&11?Di(t,e):t.type&4?rf(t,e):null}function vA(t,e,n,r){return n===-1?gA(e,t):n===-2?yA(t,e,r):vi(t,t[pe],n,e)}function yA(t,e,n){if(n===Dn)return Di(e,t);if(n===Do)return rf(e,t);if(n===Qr)return Ey(e,t)}function Ny(t,e,n,r){let o=e[sr].queries[r];if(o.matches===null){let i=t.data,s=n.matches,a=[];for(let c=0;c<s.length;c+=2){let u=s[c];if(u<0)a.push(null);else{let l=i[u];a.push(vA(e,l,s[c+1],n.metadata.read))}}o.matches=a}return o.matches}function mh(t,e,n,r){let o=t.queries.getByIndex(n),i=o.matches;if(i!==null){let s=Ny(t,e,o,n);for(let a=0;a<i.length;a+=2){let c=i[a];if(c>0)r.push(s[a/2]);else{let u=i[a+1],l=e[-c];for(let d=cn;d<l.length;d++){let h=l[d];h[Xs]===h[st]&&mh(h[pe],h,u,r)}if(l[fi]!==null){let d=l[fi];for(let h=0;h<d.length;h++){let f=d[h];mh(f[pe],f,u,r)}}}}}return r}function of(t){let e=Be(),n=Vt(),r=hv();Th(r+1);let o=ky(n,r);if(t.dirty&&wS(e)===((o.metadata.flags&2)===2)){if(o.matches===null)t.reset([]);else{let i=o.crossesNgTemplate?mh(n,e,r,[]):Ny(n,e,o,r);t.reset(i,hE),t.notifyOnChanges()}return!0}return!1}function Oy(t,e,n){let r=Vt();r.firstCreatePass&&(wA(r,new hh(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),xA(r,Be(),e)}function sf(){return _A(Be(),hv())}function _A(t,e){return t[sr].queries[e].queryList}function xA(t,e,n){let r=new uh((n&4)===4);ME(t,e,r,r.destroy),e[sr]===null&&(e[sr]=new dh),e[sr].queries.push(new lh(r))}function wA(t,e,n){t.queries===null&&(t.queries=new fh),t.queries.track(new ph(e,n))}function ky(t,e){return t.queries.getByIndex(e)}var Ic=null;function bA(t){Ic!==null&&(t.defaultEncapsulation!==Ic.defaultEncapsulation||t.preserveWhitespaces!==Ic.preserveWhitespaces)||(Ic=t)}var yu=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=te({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),gh=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},_u=(()=>{let e=class e{compileModuleSync(r){return new Kc(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let o=this.compileModuleSync(r),i=Qg(r),s=Bv(i.declarations).reduce((a,c)=>{let u=Wr(c);return u&&a.push(new _i(u)),a},[]);return new gh(o,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=te({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),CA=new ce("compilerOptions");var xu=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ct(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=te({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var af=new ce(""),na=new ce(""),wu=(()=>{let e=class e{constructor(r,o,i){this._ngZone=r,this.registry=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,cf||(DA(i),i.addToWindow(o)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ue.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&this._pendingCount===0&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb(this._didWork)}this._didWork=!1});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(o=>o.updateCb&&o.updateCb(r)?(clearTimeout(o.timeoutId),!1):!0),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,o,i){let s=-1;o&&o>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==s),r(this._didWork,this.getPendingTasks())},o)),this._callbacks.push({doneCb:r,timeoutId:s,updateCb:i})}whenStable(r,o,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,o,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,o,i){return[]}};e.\u0275fac=function(o){return new(o||e)(ee(Ue),ee(bu),ee(na))},e.\u0275prov=te({token:e,factory:e.\u0275fac});let t=e;return t})(),bu=(()=>{let e=class e{constructor(){this._applications=new Map}registerApplication(r,o){this._applications.set(r,o)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,o=!0){return cf?.findTestabilityInTree(this,r,o)??null}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=te({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();function DA(t){cf=t}var cf,Cu=new ce("Application Initializer"),Ry=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,o)=>{this.resolve=r,this.reject=o}),this.appInits=$(Cu,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let i of this.appInits){let s=i();if(Ii(s))r.push(s);else if(Iy(s)){let a=new Promise((c,u)=>{s.subscribe({complete:c,error:u})});r.push(a)}}let o=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{o()}).catch(i=>{this.reject(i)}),r.length===0&&o(),this.initialized=!0}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=te({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),uf=new ce("appBootstrapListener");function SA(t,e,n){let r=new Kc(n);return Promise.resolve(r)}function TA(){wm(()=>{throw new X(600,!1)})}function EA(t){return t.isBoundToModule}function IA(t,e,n){try{let r=n();return Ii(r)?r.catch(o=>{throw e.runOutsideAngular(()=>t.handleError(o)),o}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}function Fy(t,e){return Array.isArray(e)?e.reduce(Fy,t):x(x({},t),e)}var Ai=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=$(oy),this.componentTypes=[],this.components=[],this.isStable=$(xu).hasPendingTasks.pipe(Ce(r=>!r)),this._injector=$(un)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,o){let i=r instanceof Hc;if(!this._injector.get(Ry).done){let p="Cannot bootstrap as there are still asynchronous initializers running."+(!i&&Yg(r)?"":" Bootstrap components in the `ngDoBootstrap` method of the root module.");throw new X(405,!1)}let a;i?a=r:a=this._injector.get(fu).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=EA(a)?void 0:this._injector.get(Zr),u=o||a.selector,l=a.create(Cn.NULL,[],u,c),d=l.location.nativeElement,h=l.injector.get(af,null);return h?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),Rc(this.components,l),h?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new X(101,!1);try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1}}attachView(r){let o=r;this._views.push(o),o.attachToAppRef(this)}detachView(r){let o=r;Rc(this._views,o),o.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let o=this._injector.get(uf,[]);[...this._bootstrapListeners,...o].forEach(i=>i(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Rc(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new X(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=te({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Rc(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function kg(t){for(let e=t.length-1;e>=0;e--)if(t[e]!==void 0)return t[e]}var AA=(()=>{let e=class e{constructor(){this.zone=$(Ue),this.applicationRef=$(Ai)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=te({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function MA(t){return[{provide:Ue,useFactory:t},{provide:yi,multi:!0,useFactory:()=>{let e=$(AA,{optional:!0});return()=>e.initialize()}},{provide:yi,multi:!0,useFactory:()=>{let e=$(kA);return()=>{e.initialize()}}},{provide:oy,useFactory:NA}]}function NA(){let t=$(Ue),e=$(lr);return n=>t.runOutsideAngular(()=>e.handleError(n))}function OA(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var kA=(()=>{let e=class e{constructor(){this.subscription=new et,this.initialized=!1,this.zone=$(Ue),this.pendingTasks=$(xu)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ue.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ue.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=te({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function RA(){return typeof $localize<"u"&&$localize.locale||Qc}var lf=new ce("LocaleId",{providedIn:"root",factory:()=>$(lf,he.Optional|he.SkipSelf)||RA()});var Py=new ce("PlatformDestroyListeners"),Vy=(()=>{let e=class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,o){let i=dI(o?.ngZone,OA({eventCoalescing:o?.ngZoneEventCoalescing,runCoalescing:o?.ngZoneRunCoalescing}));return i.run(()=>{let s=uA(r.moduleType,this.injector,MA(()=>i)),a=s.injector.get(lr,null);return i.runOutsideAngular(()=>{let c=i.onError.subscribe({next:u=>{a.handleError(u)}});s.onDestroy(()=>{Rc(this._modules,s),c.unsubscribe()})}),IA(a,i,()=>{let c=s.injector.get(Ry);return c.runInitializers(),c.donePromise.then(()=>{let u=s.injector.get(lf,Qc);return oA(u||Qc),this._moduleDoBootstrap(s),s})})})}bootstrapModule(r,o=[]){let i=Fy({},o);return SA(this.injector,i,r).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(r){let o=r.injector.get(Ai);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(i=>o.bootstrap(i));else if(r.instance.ngDoBootstrap)r.instance.ngDoBootstrap(o);else throw new X(-403,!1);this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new X(404,!1);this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o());let r=this._injector.get(Py,null);r&&(r.forEach(o=>o()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}};e.\u0275fac=function(o){return new(o||e)(ee(Cn))},e.\u0275prov=te({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),Ls=null,Ly=new ce("AllowMultipleToken");function FA(t){if(Ls&&!Ls.get(Ly,!1))throw new X(400,!1);TA(),Ls=t;let e=t.get(Vy);return LA(t),e}function df(t,e,n=[]){let r=`Platform: ${e}`,o=new ce(r);return(i=[])=>{let s=jy();if(!s||s.injector.get(Ly,!1)){let a=[...n,...i,{provide:o,useValue:!0}];t?t(a):FA(PA(a,r))}return VA(o)}}function PA(t=[],e){return Cn.create({name:e,providers:[{provide:lu,useValue:"platform"},{provide:Py,useValue:new Set([()=>Ls=null])},...t]})}function VA(t){let e=jy();if(!e)throw new X(401,!1);return e}function jy(){return Ls?.get(Vy)??null}function LA(t){t.get(Fh,null)?.forEach(n=>n())}var By=df(null,"core",[]),Uy=(()=>{let e=class e{constructor(r){}};e.\u0275fac=function(o){return new(o||e)(ee(Ai))},e.\u0275mod=zt({type:e}),e.\u0275inj=Gt({});let t=e;return t})();function qy(t){let e=Wr(t);if(!e)return null;let n=new _i(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var hf=null;function Ao(){return hf}function Zy(t){hf||(hf=t)}var Du=class{},jt=new ce("DocumentToken"),yf=(()=>{let e=class e{historyGo(r){throw new Error("Not implemented")}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=te({token:e,factory:()=>(()=>$(UA))(),providedIn:"platform"});let t=e;return t})(),Yy=new ce("Location Initialized"),UA=(()=>{let e=class e extends yf{constructor(){super(),this._doc=$(jt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ao().getBaseHref(this._doc)}onPopState(r){let o=Ao().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",r,!1),()=>o.removeEventListener("popstate",r)}onHashChange(r){let o=Ao().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",r,!1),()=>o.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,o,i){this._history.pushState(r,o,i)}replaceState(r,o,i){this._history.replaceState(r,o,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=te({token:e,factory:()=>(()=>new e)(),providedIn:"platform"});let t=e;return t})();function _f(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function $y(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Nr(t){return t&&t[0]!=="?"?"?"+t:t}var Mo=(()=>{let e=class e{historyGo(r){throw new Error("Not implemented")}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=te({token:e,factory:()=>(()=>$(xf))(),providedIn:"root"});let t=e;return t})(),Qy=new ce("appBaseHref"),xf=(()=>{let e=class e extends Mo{constructor(r,o){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=o??this._platformLocation.getBaseHrefFromDOM()??$(jt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return _f(this._baseHref,r)}path(r=!1){let o=this._platformLocation.pathname+Nr(this._platformLocation.search),i=this._platformLocation.hash;return i&&r?`${o}${i}`:o}pushState(r,o,i,s){let a=this.prepareExternalUrl(i+Nr(s));this._platformLocation.pushState(r,o,a)}replaceState(r,o,i,s){let a=this.prepareExternalUrl(i+Nr(s));this._platformLocation.replaceState(r,o,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(o){return new(o||e)(ee(yf),ee(Qy,8))},e.\u0275prov=te({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Xy=(()=>{let e=class e extends Mo{constructor(r,o){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],o!=null&&(this._baseHref=o)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let o=this._platformLocation.hash;return o==null&&(o="#"),o.length>0?o.substring(1):o}prepareExternalUrl(r){let o=_f(this._baseHref,r);return o.length>0?"#"+o:o}pushState(r,o,i,s){let a=this.prepareExternalUrl(i+Nr(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,o,a)}replaceState(r,o,i,s){let a=this.prepareExternalUrl(i+Nr(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,o,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(o){return new(o||e)(ee(yf),ee(Qy,8))},e.\u0275prov=te({token:e,factory:e.\u0275fac});let t=e;return t})(),Mi=(()=>{let e=class e{constructor(r){this._subject=new Oe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let o=this._locationStrategy.getBaseHref();this._basePath=HA($y(Hy(o))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,o=""){return this.path()==this.normalize(r+Nr(o))}normalize(r){return e.stripTrailingSlash($A(this._basePath,Hy(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,o="",i=null){this._locationStrategy.pushState(i,"",r,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Nr(o)),i)}replaceState(r,o="",i=null){this._locationStrategy.replaceState(i,"",r,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Nr(o)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)})),()=>{let o=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(o,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",o){this._urlChangeListeners.forEach(i=>i(r,o))}subscribe(r,o,i){return this._subject.subscribe({next:r,error:o,complete:i})}};e.normalizeQueryParams=Nr,e.joinWithSlash=_f,e.stripTrailingSlash=$y,e.\u0275fac=function(o){return new(o||e)(ee(Mo))},e.\u0275prov=te({token:e,factory:()=>qA(),providedIn:"root"});let t=e;return t})();function qA(){return new Mi(ee(Mo))}function $A(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function Hy(t){return t.replace(/\/index.html$/,"")}function HA(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function Ky(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[o,i]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(o.trim()===e)return decodeURIComponent(i)}return null}var ff=class{constructor(e,n,r,o){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=o}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},hr=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,o,i){this._viewContainer=r,this._template=o,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(!1)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let o=this._viewContainer;r.forEachOperation((i,s,a)=>{if(i.previousIndex==null)o.createEmbeddedView(this._template,new ff(i.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)o.remove(s===null?void 0:s);else if(s!==null){let c=o.get(s);o.move(c,a),Wy(c,i)}});for(let i=0,s=o.length;i<s;i++){let c=o.get(i).context;c.index=i,c.count=s,c.ngForOf=this._ngForOf}r.forEachIdentityChange(i=>{let s=o.get(i.currentIndex);Wy(s,i)})}static ngTemplateContextGuard(r,o){return!0}};e.\u0275fac=function(o){return new(o||e)(Nt(Qr),Nt(Do),Nt($h))},e.\u0275dir=wi({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function Wy(t,e){t.context.$implicit=e.item}var Ni=(()=>{let e=class e{constructor(r,o){this._viewContainer=r,this._context=new pf,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=o}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){Gy("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){Gy("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,o){return!0}};e.\u0275fac=function(o){return new(o||e)(Nt(Qr),Nt(Do))},e.\u0275dir=wi({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),pf=class{constructor(){this.$implicit=null,this.ngIf=null}};function Gy(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Mt(e)}'.`)}var yt=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=zt({type:e}),e.\u0275inj=Gt({});let t=e;return t})(),Jy="browser",WA="server";function wf(t){return t===WA}var e_=(()=>{let e=class e{};e.\u0275prov=te({token:e,providedIn:"root",factory:()=>new mf(ee(jt),window)});let t=e;return t})(),mf=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;let n=GA(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,o=n.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(r-i[0],o-i[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}};function GA(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),o=r.currentNode;for(;o;){let i=o.shadowRoot;if(i){let s=i.getElementById(e)||i.querySelector(`[name="${e}"]`);if(s)return s}o=r.nextNode()}}return null}var Su=class{};var Df=class extends Du{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Sf=class t extends Df{static makeCurrent(){Zy(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=ZA();return n==null?null:YA(n)}resetBaseElement(){ra=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Ky(document.cookie,e)}},ra=null;function ZA(){return ra=ra||document.querySelector("base"),ra?ra.getAttribute("href"):null}function YA(t){return new URL(t,document.baseURI).pathname}var Tf=class{addToWindow(e){an.getAngularTestability=(r,o=!0)=>{let i=e.findTestabilityInTree(r,o);if(i==null)throw new X(5103,!1);return i},an.getAllAngularTestabilities=()=>e.getAllTestabilities(),an.getAllAngularRootElements=()=>e.getAllRootElements();let n=r=>{let o=an.getAllAngularTestabilities(),i=o.length,s=!1,a=function(c){s=s||c,i--,i==0&&r(s)};o.forEach(c=>{c.whenStable(a)})};an.frameworkStabilizers||(an.frameworkStabilizers=[]),an.frameworkStabilizers.push(n)}findTestabilityInTree(e,n,r){if(n==null)return null;let o=e.getTestability(n);return o??(r?Ao().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},QA=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=te({token:e,factory:e.\u0275fac});let t=e;return t})(),Ef=new ce("EventManagerPlugins"),o_=(()=>{let e=class e{constructor(r,o){this._zone=o,this._eventNameToPlugin=new Map,r.forEach(i=>{i.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,o,i){return this._findPluginFor(o).addEventListener(r,o,i)}getZone(){return this._zone}_findPluginFor(r){let o=this._eventNameToPlugin.get(r);if(o)return o;if(o=this._plugins.find(s=>s.supports(r)),!o)throw new X(5101,!1);return this._eventNameToPlugin.set(r,o),o}};e.\u0275fac=function(o){return new(o||e)(ee(Ef),ee(Ue))},e.\u0275prov=te({token:e,factory:e.\u0275fac});let t=e;return t})(),Tu=class{constructor(e){this._doc=e}},bf="ng-app-id",i_=(()=>{let e=class e{constructor(r,o,i,s={}){this.doc=r,this.appId=o,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=wf(s),this.resetHostNodes()}addStyles(r){for(let o of r)this.changeUsageCount(o,1)===1&&this.onStyleAdded(o)}removeStyles(r){for(let o of r)this.changeUsageCount(o,-1)<=0&&this.onStyleRemoved(o)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(o=>o.remove()),r.clear());for(let o of this.getAllStyles())this.onStyleRemoved(o);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let o of this.getAllStyles())this.addStyleToHost(r,o)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let o of this.hostNodes)this.addStyleToHost(o,r)}onStyleRemoved(r){let o=this.styleRef;o.get(r)?.elements?.forEach(i=>i.remove()),o.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${bf}="${this.appId}"]`);if(r?.length){let o=new Map;return r.forEach(i=>{i.textContent!=null&&o.set(i.textContent,i)}),o}return null}changeUsageCount(r,o){let i=this.styleRef;if(i.has(r)){let s=i.get(r);return s.usage+=o,s.usage}return i.set(r,{usage:o,elements:[]}),o}getStyleElement(r,o){let i=this.styleNodesInDOM,s=i?.get(o);if(s?.parentNode===r)return i.delete(o),s.removeAttribute(bf),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=o,this.platformIsServer&&a.setAttribute(bf,this.appId),r.appendChild(a),a}}addStyleToHost(r,o){let i=this.getStyleElement(r,o),s=this.styleRef,a=s.get(o)?.elements;a?a.push(i):s.set(o,{elements:[i],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(o){return new(o||e)(ee(jt),ee(du),ee(Ph,8),ee(Io))},e.\u0275prov=te({token:e,factory:e.\u0275fac});let t=e;return t})(),Cf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Af=/%COMP%/g,s_="%COMP%",XA=`_nghost-${s_}`,KA=`_ngcontent-${s_}`,JA=!0,eM=new ce("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>JA});function tM(t){return KA.replace(Af,t)}function nM(t){return XA.replace(Af,t)}function a_(t,e){return e.map(n=>n.replace(Af,t))}var t_=(()=>{let e=class e{constructor(r,o,i,s,a,c,u,l=null){this.eventManager=r,this.sharedStylesHost=o,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=c,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=wf(c),this.defaultRenderer=new oa(r,a,u,this.platformIsServer)}createRenderer(r,o){if(!r||!o)return this.defaultRenderer;this.platformIsServer&&o.encapsulation===ar.ShadowDom&&(o=V(x({},o),{encapsulation:ar.Emulated}));let i=this.getOrCreateRenderer(r,o);return i instanceof Eu?i.applyToHost(r):i instanceof ia&&i.applyStyles(),i}getOrCreateRenderer(r,o){let i=this.rendererByCompId,s=i.get(o.id);if(!s){let a=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(o.encapsulation){case ar.Emulated:s=new Eu(u,l,o,this.appId,d,a,c,h);break;case ar.ShadowDom:return new If(u,l,r,o,a,c,this.nonce,h);default:s=new ia(u,l,o,d,a,c,h);break}i.set(o.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(o){return new(o||e)(ee(o_),ee(i_),ee(du),ee(eM),ee(jt),ee(Io),ee(Ue),ee(Ph))},e.\u0275prov=te({token:e,factory:e.\u0275fac});let t=e;return t})(),oa=class{constructor(e,n,r,o){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=o,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Cf[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(n_(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(n_(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new X(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,o){if(o){n=o+":"+n;let i=Cf[o];i?e.setAttributeNS(i,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let o=Cf[r];o?e.removeAttributeNS(o,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,o){o&(Ir.DashCase|Ir.Important)?e.style.setProperty(n,r,o&Ir.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Ir.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Ao().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function n_(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var If=class extends oa{constructor(e,n,r,o,i,s,a,c){super(e,i,s,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=a_(o.id,o.styles);for(let l of u){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ia=class extends oa{constructor(e,n,r,o,i,s,a,c){super(e,i,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=o,this.styles=c?a_(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Eu=class extends ia{constructor(e,n,r,o,i,s,a,c){let u=o+"-"+r.id;super(e,n,r,i,s,a,c,u),this.contentAttr=tM(u),this.hostAttr=nM(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},rM=(()=>{let e=class e extends Tu{constructor(r){super(r)}supports(r){return!0}addEventListener(r,o,i){return r.addEventListener(o,i,!1),()=>this.removeEventListener(r,o,i)}removeEventListener(r,o,i){return r.removeEventListener(o,i)}};e.\u0275fac=function(o){return new(o||e)(ee(jt))},e.\u0275prov=te({token:e,factory:e.\u0275fac});let t=e;return t})(),r_=["alt","control","meta","shift"],oM={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},iM={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},sM=(()=>{let e=class e extends Tu{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,o,i){let s=e.parseEventName(o),a=e.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ao().onAndCancel(r,s.domEventName,a))}static parseEventName(r){let o=r.toLowerCase().split("."),i=o.shift();if(o.length===0||!(i==="keydown"||i==="keyup"))return null;let s=e._normalizeKey(o.pop()),a="",c=o.indexOf("code");if(c>-1&&(o.splice(c,1),a="code."),r_.forEach(l=>{let d=o.indexOf(l);d>-1&&(o.splice(d,1),a+=l+".")}),a+=s,o.length!=0||s.length===0)return null;let u={};return u.domEventName=i,u.fullKey=a,u}static matchEventFullKeyCode(r,o){let i=oM[r.key]||r.key,s="";return o.indexOf("code.")>-1&&(i=r.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),r_.forEach(a=>{if(a!==i){let c=iM[a];c(r)&&(s+=a+".")}}),s+=i,s===o)}static eventCallback(r,o,i){return s=>{e.matchEventFullKeyCode(s,r)&&i.runGuarded(()=>o(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(o){return new(o||e)(ee(jt))},e.\u0275prov=te({token:e,factory:e.\u0275fac});let t=e;return t})();function aM(){Sf.makeCurrent()}function cM(){return new lr}function uM(){return jv(document),document}var lM=[{provide:Io,useValue:Jy},{provide:Fh,useValue:aM,multi:!0},{provide:jt,useFactory:uM,deps:[]}],c_=df(By,"browser",lM),dM=new ce(""),hM=[{provide:na,useClass:Tf,deps:[]},{provide:af,useClass:wu,deps:[Ue,bu,na]},{provide:wu,useClass:wu,deps:[Ue,bu,na]}],fM=[{provide:lu,useValue:"root"},{provide:lr,useFactory:cM,deps:[]},{provide:Ef,useClass:rM,multi:!0,deps:[jt,Ue,Io]},{provide:Ef,useClass:sM,multi:!0,deps:[jt]},t_,i_,o_,{provide:zs,useExisting:t_},{provide:Su,useClass:QA,deps:[]},[]],u_=(()=>{let e=class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:du,useValue:r.appId}]}}};e.\u0275fac=function(o){return new(o||e)(ee(dM,12))},e.\u0275mod=zt({type:e}),e.\u0275inj=Gt({providers:[...fM,...hM],imports:[yt,Uy]});let t=e;return t})();function pM(){return new Mf(ee(jt))}var Mf=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(o){return new(o||e)(ee(jt))},e.\u0275prov=te({token:e,factory:function(o){let i=null;return o?i=new o:i=pM(),i},providedIn:"root"});let t=e;return t})();var de="primary",xa=Symbol("RouteTitle"),Ff=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Vi(t){return new Ff(t)}function mM(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let o={};for(let i=0;i<r.length;i++){let s=r[i],a=t[i];if(s.startsWith(":"))o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:o}}function gM(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!fr(t[n],e[n]))return!1;return!0}function fr(t,e){let n=t?Pf(t):void 0,r=e?Pf(e):void 0;if(!n||!r||n.length!=r.length)return!1;let o;for(let i=0;i<n.length;i++)if(o=n[i],!__(t[o],e[o]))return!1;return!0}function Pf(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function __(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((o,i)=>r[i]===o)}else return t===e}function x_(t){return t.length>0?t[t.length-1]:null}function eo(t){return sd(t)?t:Ii(t)?tt(Promise.resolve(t)):ae(t)}var vM={exact:b_,subset:C_},w_={exact:yM,subset:_M,ignored:()=>!0};function d_(t,e,n){return vM[n.paths](t.root,e.root,n.matrixParams)&&w_[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function yM(t,e){return fr(t,e)}function b_(t,e,n){if(!Oo(t.segments,e.segments)||!Mu(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!b_(t.children[r],e.children[r],n))return!1;return!0}function _M(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>__(t[n],e[n]))}function C_(t,e,n){return D_(t,e,e.segments,n)}function D_(t,e,n,r){if(t.segments.length>n.length){let o=t.segments.slice(0,n.length);return!(!Oo(o,n)||e.hasChildren()||!Mu(o,n,r))}else if(t.segments.length===n.length){if(!Oo(t.segments,n)||!Mu(t.segments,n,r))return!1;for(let o in e.children)if(!t.children[o]||!C_(t.children[o],e.children[o],r))return!1;return!0}else{let o=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!Oo(t.segments,o)||!Mu(t.segments,o,r)||!t.children[de]?!1:D_(t.children[de],e,i,r)}}function Mu(t,e,n){return e.every((r,o)=>w_[n](t[o].parameters,r.parameters))}var Xr=class{constructor(e=new Re([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Vi(this.queryParams)),this._queryParamMap}toString(){return bM.serialize(this)}},Re=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Nu(this)}},No=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Vi(this.parameters)),this._parameterMap}toString(){return T_(this)}};function xM(t,e){return Oo(t,e)&&t.every((n,r)=>fr(n.parameters,e[r].parameters))}function Oo(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function wM(t,e){let n=[];return Object.entries(t.children).forEach(([r,o])=>{r===de&&(n=n.concat(e(o,r)))}),Object.entries(t.children).forEach(([r,o])=>{r!==de&&(n=n.concat(e(o,r)))}),n}var wa=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=te({token:e,factory:()=>(()=>new ha)(),providedIn:"root"});let t=e;return t})(),ha=class{parse(e){let n=new Lf(e);return new Xr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${sa(e.root,!0)}`,r=SM(e.queryParams),o=typeof e.fragment=="string"?`#${CM(e.fragment)}`:"";return`${n}${r}${o}`}},bM=new ha;function Nu(t){return t.segments.map(e=>T_(e)).join("/")}function sa(t,e){if(!t.hasChildren())return Nu(t);if(e){let n=t.children[de]?sa(t.children[de],!1):"",r=[];return Object.entries(t.children).forEach(([o,i])=>{o!==de&&r.push(`${o}:${sa(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=wM(t,(r,o)=>o===de?[sa(t.children[de],!1)]:[`${o}:${sa(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[de]!=null?`${Nu(t)}/${n[0]}`:`${Nu(t)}/(${n.join("//")})`}}function S_(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Iu(t){return S_(t).replace(/%3B/gi,";")}function CM(t){return encodeURI(t)}function Vf(t){return S_(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ou(t){return decodeURIComponent(t)}function h_(t){return Ou(t.replace(/\+/g,"%20"))}function T_(t){return`${Vf(t.path)}${DM(t.parameters)}`}function DM(t){return Object.keys(t).map(e=>`;${Vf(e)}=${Vf(t[e])}`).join("")}function SM(t){let e=Object.keys(t).map(n=>{let r=t[n];return Array.isArray(r)?r.map(o=>`${Iu(n)}=${Iu(o)}`).join("&"):`${Iu(n)}=${Iu(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}var TM=/^[^\/()?;#]+/;function Nf(t){let e=t.match(TM);return e?e[0]:""}var EM=/^[^\/()?;=#]+/;function IM(t){let e=t.match(EM);return e?e[0]:""}var AM=/^[^=?&#]+/;function MM(t){let e=t.match(AM);return e?e[0]:""}var NM=/^[^&#]+/;function OM(t){let e=t.match(NM);return e?e[0]:""}var Lf=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Re([],{}):new Re([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[de]=new Re(e,n)),r}parseSegment(){let e=Nf(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new X(4009,!1);return this.capture(e),new No(Ou(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=IM(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=Nf(this.remaining);o&&(r=o,this.capture(r))}e[Ou(n)]=Ou(r)}parseQueryParam(e){let n=MM(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=OM(this.remaining);s&&(r=s,this.capture(r))}let o=h_(n),i=h_(r);if(e.hasOwnProperty(o)){let s=e[o];Array.isArray(s)||(s=[s],e[o]=s),s.push(i)}else e[o]=i}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Nf(this.remaining),o=this.remaining[r.length];if(o!=="/"&&o!==")"&&o!==";")throw new X(4010,!1);let i;r.indexOf(":")>-1?(i=r.slice(0,r.indexOf(":")),this.capture(i),this.capture(":")):e&&(i=de);let s=this.parseChildren();n[i]=Object.keys(s).length===1?s[de]:new Re([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new X(4011,!1)}};function E_(t){return t.segments.length>0?new Re([],{[de]:t}):t}function I_(t){let e={};for(let r of Object.keys(t.children)){let o=t.children[r],i=I_(o);if(r===de&&i.segments.length===0&&i.hasChildren())for(let[s,a]of Object.entries(i.children))e[s]=a;else(i.segments.length>0||i.hasChildren())&&(e[r]=i)}let n=new Re(t.segments,e);return kM(n)}function kM(t){if(t.numberOfChildren===1&&t.children[de]){let e=t.children[de];return new Re(t.segments.concat(e.segments),e.children)}return t}function Li(t){return t instanceof Xr}function RM(t,e,n=null,r=null){let o=A_(t);return M_(o,e,n,r)}function A_(t){let e;function n(i){let s={};for(let c of i.children){let u=n(c);s[c.outlet]=u}let a=new Re(i.url,s);return i===t&&(e=a),a}let r=n(t.root),o=E_(r);return e??o}function M_(t,e,n,r){let o=t;for(;o.parent;)o=o.parent;if(e.length===0)return Of(o,o,o,n,r);let i=FM(e);if(i.toRoot())return Of(o,o,new Re([],{}),n,r);let s=PM(i,o,t),a=s.processChildren?ua(s.segmentGroup,s.index,i.commands):O_(s.segmentGroup,s.index,i.commands);return Of(o,s.segmentGroup,a,n,r)}function ku(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function fa(t){return typeof t=="object"&&t!=null&&t.outlets}function Of(t,e,n,r,o){let i={};r&&Object.entries(r).forEach(([c,u])=>{i[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`});let s;t===e?s=n:s=N_(t,e,n);let a=E_(I_(s));return new Xr(a,i,o)}function N_(t,e,n){let r={};return Object.entries(t.children).forEach(([o,i])=>{i===e?r[o]=n:r[o]=N_(i,e,n)}),new Re(t.segments,r)}var Ru=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&ku(r[0]))throw new X(4003,!1);let o=r.find(fa);if(o&&o!==x_(r))throw new X(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function FM(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Ru(!0,0,t);let e=0,n=!1,r=t.reduce((o,i,s)=>{if(typeof i=="object"&&i!=null){if(i.outlets){let a={};return Object.entries(i.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...o,{outlets:a}]}if(i.segmentPath)return[...o,i.segmentPath]}return typeof i!="string"?[...o,i]:s===0?(i.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&o.push(a))}),o):[...o,i]},[]);return new Ru(n,e,r)}var Fi=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function PM(t,e,n){if(t.isAbsolute)return new Fi(e,!0,0);if(!n)return new Fi(e,!1,NaN);if(n.parent===null)return new Fi(n,!0,0);let r=ku(t.commands[0])?0:1,o=n.segments.length-1+r;return VM(n,o,t.numberOfDoubleDots)}function VM(t,e,n){let r=t,o=e,i=n;for(;i>o;){if(i-=o,r=r.parent,!r)throw new X(4005,!1);o=r.segments.length}return new Fi(r,!1,o-i)}function LM(t){return fa(t[0])?t[0].outlets:{[de]:t}}function O_(t,e,n){if(t||(t=new Re([],{})),t.segments.length===0&&t.hasChildren())return ua(t,e,n);let r=jM(t,e,n),o=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let i=new Re(t.segments.slice(0,r.pathIndex),{});return i.children[de]=new Re(t.segments.slice(r.pathIndex),t.children),ua(i,0,o)}else return r.match&&o.length===0?new Re(t.segments,{}):r.match&&!t.hasChildren()?jf(t,e,n):r.match?ua(t,0,o):jf(t,e,n)}function ua(t,e,n){if(n.length===0)return new Re(t.segments,{});{let r=LM(n),o={};if(Object.keys(r).some(i=>i!==de)&&t.children[de]&&t.numberOfChildren===1&&t.children[de].segments.length===0){let i=ua(t.children[de],e,n);return new Re(t.segments,i.children)}return Object.entries(r).forEach(([i,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(o[i]=O_(t.children[i],e,s))}),Object.entries(t.children).forEach(([i,s])=>{r[i]===void 0&&(o[i]=s)}),new Re(t.segments,o)}}function jM(t,e,n){let r=0,o=e,i={match:!1,pathIndex:0,commandIndex:0};for(;o<t.segments.length;){if(r>=n.length)return i;let s=t.segments[o],a=n[r];if(fa(a))break;let c=`${a}`,u=r<n.length-1?n[r+1]:null;if(o>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!p_(c,u,s))return i;r+=2}else{if(!p_(c,{},s))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}function jf(t,e,n){let r=t.segments.slice(0,e),o=0;for(;o<n.length;){let i=n[o];if(fa(i)){let c=BM(i.outlets);return new Re(r,c)}if(o===0&&ku(n[0])){let c=t.segments[e];r.push(new No(c.path,f_(n[0]))),o++;continue}let s=fa(i)?i.outlets[de]:`${i}`,a=o<n.length-1?n[o+1]:null;s&&a&&ku(a)?(r.push(new No(s,f_(a))),o+=2):(r.push(new No(s,{})),o++)}return new Re(r,{})}function BM(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=jf(new Re([],{}),0,r))}),e}function f_(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function p_(t,e,n){return t==n.path&&fr(e,n.parameters)}var la="imperative",Sn=class{constructor(e,n){this.id=e,this.url=n}},ji=class extends Sn{constructor(e,n,r="imperative",o=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Or=class extends Sn{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Kr=class extends Sn{constructor(e,n,r,o){super(e,n),this.reason=r,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Jr=class extends Sn{constructor(e,n,r,o){super(e,n),this.reason=r,this.code=o,this.type=16}},pa=class extends Sn{constructor(e,n,r,o){super(e,n),this.error=r,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Fu=class extends Sn{constructor(e,n,r,o){super(e,n),this.urlAfterRedirects=r,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Bf=class extends Sn{constructor(e,n,r,o){super(e,n),this.urlAfterRedirects=r,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Uf=class extends Sn{constructor(e,n,r,o,i){super(e,n),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=i,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},qf=class extends Sn{constructor(e,n,r,o){super(e,n),this.urlAfterRedirects=r,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},$f=class extends Sn{constructor(e,n,r,o){super(e,n),this.urlAfterRedirects=r,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Hf=class{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Wf=class{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Gf=class{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},zf=class{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Zf=class{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Yf=class{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Pu=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},ma=class{},ga=class{constructor(e){this.url=e}};var Qf=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new ba,this.attachRef=null}},ba=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,o){let i=this.getOrCreateContext(r);i.outlet=o,this.contexts.set(r,i)}onChildOutletDestroyed(r){let o=this.getContext(r);o&&(o.outlet=null,o.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let o=this.getContext(r);return o||(o=new Qf,this.contexts.set(r,o)),o}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=te({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Vu=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Xf(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Xf(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Kf(e,this._root);return n.length<2?[]:n[n.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return Kf(e,this._root).map(n=>n.value)}};function Xf(t,e){if(t===e.value)return e;for(let n of e.children){let r=Xf(t,n);if(r)return r}return null}function Kf(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Kf(t,n);if(r.length)return r.unshift(e),r}return[]}var dn=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Ri(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Lu=class extends Vu{constructor(e,n){super(e),this.snapshot=n,cp(this,e)}toString(){return this.snapshot.toString()}};function k_(t,e){let n=UM(t,e),r=new Ct([new No("",{})]),o=new Ct({}),i=new Ct({}),s=new Ct({}),a=new Ct(""),c=new Bi(r,o,s,a,i,de,e,n.root);return c.snapshot=n.root,new Lu(new dn(c,[]),n)}function UM(t,e){let n={},r={},o={},i="",s=new va([],n,o,i,r,de,e,null,{});return new ju("",new dn(s,[]))}var Bi=class{constructor(e,n,r,o,i,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=i,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Ce(u=>u[xa]))??ae(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=o,this.data=i}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Ce(e=>Vi(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Ce(e=>Vi(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function ap(t,e,n="emptyOnly"){let r,{routeConfig:o}=t;return e!==null&&(n==="always"||o?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:x(x({},e.params),t.params),data:x(x({},e.data),t.data),resolve:x(x(x(x({},t.data),e.data),o?.data),t._resolvedData)}:r={params:x({},t.params),data:x({},t.data),resolve:x(x({},t.data),t._resolvedData??{})},o&&F_(o)&&(r.resolve[xa]=o.title),r}var va=class{get title(){return this.data?.[xa]}constructor(e,n,r,o,i,s,a,c,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Vi(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Vi(this.queryParams)),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},ju=class extends Vu{constructor(e,n){super(n),this.url=e,cp(this,n)}toString(){return R_(this._root)}};function cp(t,e){e.value._routerState=t,e.children.forEach(n=>cp(t,n))}function R_(t){let e=t.children.length>0?` { ${t.children.map(R_).join(", ")} } `:"";return`${t.value}${e}`}function kf(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,fr(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),fr(e.params,n.params)||t.paramsSubject.next(n.params),gM(e.url,n.url)||t.urlSubject.next(n.url),fr(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Jf(t,e){let n=fr(t.params,e.params)&&xM(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Jf(t.parent,e.parent))}function F_(t){return typeof t.title=="string"||t.title===null}var up=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=de,this.activateEvents=new Oe,this.deactivateEvents=new Oe,this.attachEvents=new Oe,this.detachEvents=new Oe,this.parentContexts=$(ba),this.location=$(Qr),this.changeDetector=$(Mr),this.environmentInjector=$(un),this.inputBinder=$(Hu,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:o,previousValue:i}=r.name;if(o)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new X(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new X(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new X(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,o){this.activated=r,this._activatedRoute=o,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,o){if(this.isActivated)throw new X(4013,!1);this._activatedRoute=r;let i=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new ep(r,c,i.injector);this.activated=i.createComponent(a,{index:i.length,injector:u,environmentInjector:o??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(o){return new(o||e)},e.\u0275dir=wi({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[So]});let t=e;return t})(),ep=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Bi?this.route:e===ba?this.childContexts:this.parent.get(e,n)}},Hu=new ce(""),m_=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:o}=r,i=Rs([o.queryParams,o.params,o.data]).pipe(_n(([s,a,c],u)=>(c=x(x(x({},s),a),c),u===0?ae(c):Promise.resolve(c)))).subscribe(s=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==o||o.component===null){this.unsubscribeFromRouteData(r);return}let a=qy(o.component);if(!a){this.unsubscribeFromRouteData(r);return}for(let{templateName:c}of a.inputs)r.activatedComponentRef.setInput(c,s[c])});this.outletDataSubscriptions.set(r,i)}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=te({token:e,factory:e.\u0275fac});let t=e;return t})();function qM(t,e,n){let r=ya(t,e._root,n?n._root:void 0);return new Lu(r,e)}function ya(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let o=$M(t,e,n);return new dn(r,o)}else{if(t.shouldAttach(e.value)){let i=t.retrieve(e.value);if(i!==null){let s=i.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>ya(t,a)),s}}let r=HM(e.value),o=e.children.map(i=>ya(t,i));return new dn(r,o)}}function $M(t,e,n){return e.children.map(r=>{for(let o of n.children)if(t.shouldReuseRoute(r.value,o.value.snapshot))return ya(t,r,o);return ya(t,r)})}function HM(t){return new Bi(new Ct(t.url),new Ct(t.params),new Ct(t.queryParams),new Ct(t.fragment),new Ct(t.data),t.outlet,t.component,t)}var P_="ngNavigationCancelingError";function V_(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Li(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,o=L_(!1,0,e);return o.url=n,o.navigationBehaviorOptions=r,o}function L_(t,e,n){let r=new Error("NavigationCancelingError: "+(t||""));return r[P_]=!0,r.cancellationCode=e,n&&(r.url=n),r}function WM(t){return j_(t)&&Li(t.url)}function j_(t){return t&&t[P_]}var GM=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=Qe({type:e,selectors:[["ng-component"]],standalone:!0,features:[lt],decls:1,vars:0,template:function(o,i){o&1&&qe(0,"router-outlet")},dependencies:[up],encapsulation:2});let t=e;return t})();function zM(t,e){return t.providers&&!t._injector&&(t._injector=vu(t.providers,e,`Route: ${t.path}`)),t._injector??e}function lp(t){let e=t.children&&t.children.map(lp),n=e?V(x({},t),{children:e}):x({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==de&&(n.component=GM),n}function pr(t){return t.outlet||de}function ZM(t,e){let n=t.filter(r=>pr(r)===e);return n.push(...t.filter(r=>pr(r)!==e)),n}function Ca(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var YM=(t,e,n,r)=>Ce(o=>(new tp(e,o.targetRouterState,o.currentRouterState,n,r).activate(t),o)),tp=class{constructor(e,n,r,o,i){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=i}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),kf(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let o=Ri(n);e.children.forEach(i=>{let s=i.value.outlet;this.deactivateRoutes(i,o[s],r),delete o[s]}),Object.values(o).forEach(i=>{this.deactivateRouteAndItsChildren(i,r)})}deactivateRoutes(e,n,r){let o=e.value,i=n?n.value:null;if(o===i)if(o.component){let s=r.getContext(o.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else i&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),o=r&&e.value.component?r.children:n,i=Ri(e);for(let s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],o);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),o=r&&e.value.component?r.children:n,i=Ri(e);for(let s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let o=Ri(n);e.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],r),this.forwardEvent(new Yf(i.value.snapshot))}),e.children.length&&this.forwardEvent(new zf(e.value.snapshot))}activateRoutes(e,n,r){let o=e.value,i=n?n.value:null;if(kf(o),o===i)if(o.component){let s=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(o.component){let s=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){let a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),kf(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=Ca(o.snapshot);s.attachRef=null,s.route=o,s.injector=a,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}},Bu=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Pi=class{constructor(e,n){this.component=e,this.route=n}};function QM(t,e,n){let r=t._root,o=e?e._root:null;return aa(r,o,n,[r.value])}function XM(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function qi(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!Pg(t)?t:e.get(t):r}function aa(t,e,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=Ri(e);return t.children.forEach(s=>{KM(s,i[s.value.outlet],n,r.concat([s.value]),o),delete i[s.value.outlet]}),Object.entries(i).forEach(([s,a])=>da(a,n.getContext(s),o)),o}function KM(t,e,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){let c=JM(s,i,i.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new Bu(r)):(i.data=s.data,i._resolvedData=s._resolvedData),i.component?aa(t,e,a?a.children:null,r,o):aa(t,e,n,r,o),c&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new Pi(a.outlet.component,s))}else s&&da(e,a,o),o.canActivateChecks.push(new Bu(r)),i.component?aa(t,null,a?a.children:null,r,o):aa(t,null,n,r,o);return o}function JM(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Oo(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Oo(t.url,e.url)||!fr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Jf(t,e)||!fr(t.queryParams,e.queryParams);case"paramsChange":default:return!Jf(t,e)}}function da(t,e,n){let r=Ri(t),o=t.value;Object.entries(r).forEach(([i,s])=>{o.component?e?da(s,e.children.getContext(i),n):da(s,null,n):da(s,e,n)}),o.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Pi(e.outlet.component,o)):n.canDeactivateChecks.push(new Pi(null,o)):n.canDeactivateChecks.push(new Pi(null,o))}function Da(t){return typeof t=="function"}function eN(t){return typeof t=="boolean"}function tN(t){return t&&Da(t.canLoad)}function nN(t){return t&&Da(t.canActivate)}function rN(t){return t&&Da(t.canActivateChild)}function oN(t){return t&&Da(t.canDeactivate)}function iN(t){return t&&Da(t.canMatch)}function B_(t){return t instanceof Tr||t?.name==="EmptyError"}var Au=Symbol("INITIAL_VALUE");function Ui(){return _n(t=>Rs(t.map(e=>e.pipe(Er(1),dd(Au)))).pipe(Ce(e=>{for(let n of e)if(n!==!0){if(n===Au)return Au;if(n===!1||n instanceof Xr)return n}return!0}),yn(e=>e!==Au),Er(1)))}function sN(t,e){return Ze(n=>{let{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=n;return s.length===0&&i.length===0?ae(V(x({},n),{guardsResult:!0})):aN(s,r,o,t).pipe(Ze(a=>a&&eN(a)?cN(r,i,t,e):ae(a)),Ce(a=>V(x({},n),{guardsResult:a})))})}function aN(t,e,n,r){return tt(t).pipe(Ze(o=>fN(o.component,o.route,n,e,r)),rr(o=>o!==!0,!0))}function cN(t,e,n,r){return tt(e).pipe(go(o=>oi(lN(o.route.parent,r),uN(o.route,r),hN(t,o.path,n),dN(t,o.route,n))),rr(o=>o!==!0,!0))}function uN(t,e){return t!==null&&e&&e(new Zf(t)),ae(!0)}function lN(t,e){return t!==null&&e&&e(new Gf(t)),ae(!0)}function dN(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return ae(!0);let o=r.map(i=>Dc(()=>{let s=Ca(e)??n,a=qi(i,s),c=nN(a)?a.canActivate(e,t):Yr(s,()=>a(e,t));return eo(c).pipe(rr())}));return ae(o).pipe(Ui())}function hN(t,e,n){let r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(s=>XM(s)).filter(s=>s!==null).map(s=>Dc(()=>{let a=s.guards.map(c=>{let u=Ca(s.node)??n,l=qi(c,u),d=rN(l)?l.canActivateChild(r,t):Yr(u,()=>l(r,t));return eo(d).pipe(rr())});return ae(a).pipe(Ui())}));return ae(i).pipe(Ui())}function fN(t,e,n,r,o){let i=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!i||i.length===0)return ae(!0);let s=i.map(a=>{let c=Ca(e)??o,u=qi(a,c),l=oN(u)?u.canDeactivate(t,e,n,r):Yr(c,()=>u(t,e,n,r));return eo(l).pipe(rr())});return ae(s).pipe(Ui())}function pN(t,e,n,r){let o=e.canLoad;if(o===void 0||o.length===0)return ae(!0);let i=o.map(s=>{let a=qi(s,t),c=tN(a)?a.canLoad(e,n):Yr(t,()=>a(e,n));return eo(c)});return ae(i).pipe(Ui(),U_(r))}function U_(t){return td(Ye(e=>{if(Li(e))throw V_(t,e)}),Ce(e=>e===!0))}function mN(t,e,n,r){let o=e.canMatch;if(!o||o.length===0)return ae(!0);let i=o.map(s=>{let a=qi(s,t),c=iN(a)?a.canMatch(e,n):Yr(t,()=>a(e,n));return eo(c)});return ae(i).pipe(Ui(),U_(r))}var _a=class{constructor(e){this.segmentGroup=e||null}},Uu=class extends Error{constructor(e){super(),this.urlTree=e}};function ki(t){return ni(new _a(t))}function gN(t){return ni(new X(4e3,!1))}function vN(t){return ni(L_(!1,3))}var np=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],o=n.root;for(;;){if(r=r.concat(o.segments),o.numberOfChildren===0)return ae(r);if(o.numberOfChildren>1||!o.children[de])return gN(e.redirectTo);o=o.children[de]}}applyRedirectCommands(e,n,r){let o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new Uu(o);return o}applyRedirectCreateUrlTree(e,n,r,o){let i=this.createSegmentGroup(e,n.root,r,o);return new Xr(i,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([o,i])=>{if(typeof i=="string"&&i.startsWith(":")){let a=i.substring(1);r[o]=n[a]}else r[o]=i}),r}createSegmentGroup(e,n,r,o){let i=this.createSegments(e,n.segments,r,o),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,o)}),new Re(i,s)}createSegments(e,n,r,o){return n.map(i=>i.path.startsWith(":")?this.findPosParam(e,i,o):this.findOrReturn(i,r))}findPosParam(e,n,r){let o=r[n.path.substring(1)];if(!o)throw new X(4001,!1);return o}findOrReturn(e,n){let r=0;for(let o of n){if(o.path===e.path)return n.splice(r),o;r++}return e}},rp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function yN(t,e,n,r,o){let i=dp(t,e,n);return i.matched?(r=zM(e,r),mN(r,e,n,o).pipe(Ce(s=>s===!0?i:x({},rp)))):ae(i)}function dp(t,e,n){if(e.path==="**")return _N(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?x({},rp):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let o=(e.matcher||mM)(n,t,e);if(!o)return x({},rp);let i={};Object.entries(o.posParams??{}).forEach(([a,c])=>{i[a]=c.path});let s=o.consumed.length>0?x(x({},i),o.consumed[o.consumed.length-1].parameters):i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:n.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function _N(t){return{matched:!0,parameters:t.length>0?x_(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function g_(t,e,n,r){return n.length>0&&bN(t,n,r)?{segmentGroup:new Re(e,wN(r,new Re(n,t.children))),slicedSegments:[]}:n.length===0&&CN(t,n,r)?{segmentGroup:new Re(t.segments,xN(t,e,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Re(t.segments,t.children),slicedSegments:n}}function xN(t,e,n,r,o){let i={};for(let s of r)if(Wu(t,n,s)&&!o[pr(s)]){let a=new Re([],{});i[pr(s)]=a}return x(x({},o),i)}function wN(t,e){let n={};n[de]=e;for(let r of t)if(r.path===""&&pr(r)!==de){let o=new Re([],{});n[pr(r)]=o}return n}function bN(t,e,n){return n.some(r=>Wu(t,e,r)&&pr(r)!==de)}function CN(t,e,n){return n.some(r=>Wu(t,e,r))}function Wu(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function DN(t,e,n,r){return pr(t)!==r&&(r===de||!Wu(e,n,t))?!1:dp(e,t,n).matched}function SN(t,e,n){return e.length===0&&!t.children[n]}var op=class{};function TN(t,e,n,r,o,i,s="emptyOnly"){return new ip(t,e,n,r,o,s,i).recognize()}var EN=31,ip=class{constructor(e,n,r,o,i,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=o,this.urlTree=i,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new np(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new X(4002,`'${e.segmentGroup}'`)}recognize(){let e=g_(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Ce(n=>{let r=new va([],Object.freeze({}),Object.freeze(x({},this.urlTree.queryParams)),this.urlTree.fragment,{},de,this.rootComponentType,null,{}),o=new dn(r,n),i=new ju("",o),s=RM(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,i.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(i._root,null),{state:i,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,de).pipe(Ur(r=>{if(r instanceof Uu)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof _a?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,o=ap(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(o.params),r.data=Object.freeze(o.data),e.children.forEach(i=>this.inheritParamsAndData(i,r))}processSegmentGroup(e,n,r,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,o,!0).pipe(Ce(i=>i instanceof dn?[i]:[]))}processChildren(e,n,r){let o=[];for(let i of Object.keys(r.children))i==="primary"?o.unshift(i):o.push(i);return tt(o).pipe(go(i=>{let s=r.children[i],a=ZM(n,i);return this.processSegmentGroup(e,a,s,i)}),ld((i,s)=>(i.push(...s),i)),qr(null),ud(),Ze(i=>{if(i===null)return ki(r);let s=q_(i);return IN(s),ae(s)}))}processSegment(e,n,r,o,i,s){return tt(n).pipe(go(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,o,i,s).pipe(Ur(c=>{if(c instanceof _a)return ae(null);throw c}))),rr(a=>!!a),Ur(a=>{if(B_(a))return SN(r,o,i)?ae(new op):ki(r);throw a}))}processSegmentAgainstRoute(e,n,r,o,i,s,a){return DN(r,o,i,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,o,r,i,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,o,n,r,i,s):ki(o):ki(o)}expandSegmentAgainstRouteUsingRedirect(e,n,r,o,i,s){let{matched:a,consumedSegments:c,positionalParamSegments:u,remainingSegments:l}=dp(n,o,i);if(!a)return ki(n);o.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>EN&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(c,o.redirectTo,u);return this.applyRedirects.lineralizeSegments(o,d).pipe(Ze(h=>this.processSegment(e,r,n,h.concat(l),s,!1)))}matchSegmentAgainstRoute(e,n,r,o,i){let s=yN(n,r,o,e,this.urlSerializer);return r.path==="**"&&(n.children={}),s.pipe(_n(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,o).pipe(_n(({routes:c})=>{let u=r._loadedInjector??e,{consumedSegments:l,remainingSegments:d,parameters:h}=a,f=new va(l,h,Object.freeze(x({},this.urlTree.queryParams)),this.urlTree.fragment,MN(r),pr(r),r.component??r._loadedComponent??null,r,NN(r)),{segmentGroup:p,slicedSegments:g}=g_(n,l,d,c);if(g.length===0&&p.hasChildren())return this.processChildren(u,c,p).pipe(Ce(v=>v===null?null:new dn(f,v)));if(c.length===0&&g.length===0)return ae(new dn(f,[]));let m=pr(r)===i;return this.processSegment(u,c,p,g,m?de:i,!0).pipe(Ce(v=>new dn(f,v instanceof dn?[v]:[])))}))):ki(n)))}getChildConfig(e,n,r){return n.children?ae({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?ae({routes:n._loadedRoutes,injector:n._loadedInjector}):pN(e,n,r,this.urlSerializer).pipe(Ze(o=>o?this.configLoader.loadChildren(e,n).pipe(Ye(i=>{n._loadedRoutes=i.routes,n._loadedInjector=i.injector})):vN(n))):ae({routes:[],injector:e})}};function IN(t){t.sort((e,n)=>e.value.outlet===de?-1:n.value.outlet===de?1:e.value.outlet.localeCompare(n.value.outlet))}function AN(t){let e=t.value.routeConfig;return e&&e.path===""}function q_(t){let e=[],n=new Set;for(let r of t){if(!AN(r)){e.push(r);continue}let o=e.find(i=>r.value.routeConfig===i.value.routeConfig);o!==void 0?(o.children.push(...r.children),n.add(o)):e.push(r)}for(let r of n){let o=q_(r.children);e.push(new dn(r.value,o))}return e.filter(r=>!n.has(r))}function MN(t){return t.data||{}}function NN(t){return t.resolve||{}}function ON(t,e,n,r,o,i){return Ze(s=>TN(t,e,n,r,s.extractedUrl,o,i).pipe(Ce(({state:a,tree:c})=>V(x({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function kN(t,e){return Ze(n=>{let{targetSnapshot:r,guards:{canActivateChecks:o}}=n;if(!o.length)return ae(n);let i=new Set(o.map(c=>c.route)),s=new Set;for(let c of i)if(!s.has(c))for(let u of $_(c))s.add(u);let a=0;return tt(s).pipe(go(c=>i.has(c)?RN(c,r,t,e):(c.data=ap(c,c.parent,t).resolve,ae(void 0))),Ye(()=>a++),ii(1),Ze(c=>a===s.size?ae(n):vn))})}function $_(t){let e=t.children.map(n=>$_(n)).flat();return[t,...e]}function RN(t,e,n,r){let o=t.routeConfig,i=t._resolve;return o?.title!==void 0&&!F_(o)&&(i[xa]=o.title),FN(i,t,e,r).pipe(Ce(s=>(t._resolvedData=s,t.data=ap(t,t.parent,n).resolve,null)))}function FN(t,e,n,r){let o=Pf(t);if(o.length===0)return ae({});let i={};return tt(o).pipe(Ze(s=>PN(t[s],e,n,r).pipe(rr(),Ye(a=>{i[s]=a}))),ii(1),cd(i),Ur(s=>B_(s)?vn:ni(s)))}function PN(t,e,n,r){let o=Ca(e)??r,i=qi(t,o),s=i.resolve?i.resolve(e,n):Yr(o,()=>i(e,n));return eo(s)}function Rf(t){return _n(e=>{let n=t(e);return n?tt(n).pipe(Ce(()=>e)):ae(e)})}var H_=(()=>{let e=class e{buildTitle(r){let o,i=r.root;for(;i!==void 0;)o=this.getResolvedTitleForRoute(i)??o,i=i.children.find(s=>s.outlet===de);return o}getResolvedTitleForRoute(r){return r.data[xa]}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=te({token:e,factory:()=>(()=>$(VN))(),providedIn:"root"});let t=e;return t})(),VN=(()=>{let e=class e extends H_{constructor(r){super(),this.title=r}updateTitle(r){let o=this.buildTitle(r);o!==void 0&&this.title.setTitle(o)}};e.\u0275fac=function(o){return new(o||e)(ee(Mf))},e.\u0275prov=te({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Sa=new ce("",{providedIn:"root",factory:()=>({})}),qu=new ce("ROUTES"),hp=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=$(_u)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return ae(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let o=eo(r.loadComponent()).pipe(Ce(W_),Ye(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Ps(()=>{this.componentLoaders.delete(r)})),i=new Jo(o,()=>new sn).pipe(Ko());return this.componentLoaders.set(r,i),i}loadChildren(r,o){if(this.childrenLoaders.get(o))return this.childrenLoaders.get(o);if(o._loadedRoutes)return ae({routes:o._loadedRoutes,injector:o._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(o);let s=LN(o,this.compiler,r,this.onLoadEndListener).pipe(Ps(()=>{this.childrenLoaders.delete(o)})),a=new Jo(s,()=>new sn).pipe(Ko());return this.childrenLoaders.set(o,a),a}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=te({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function LN(t,e,n,r){return eo(t.loadChildren()).pipe(Ce(W_),Ze(o=>o instanceof Ys||Array.isArray(o)?ae(o):tt(e.compileModuleAsync(o))),Ce(o=>{r&&r(t);let i,s,a=!1;return Array.isArray(o)?(s=o,a=!0):(i=o.create(n).injector,s=i.get(qu,[],{optional:!0,self:!0}).flat()),{routes:s.map(lp),injector:i}}))}function jN(t){return t&&typeof t=="object"&&"default"in t}function W_(t){return jN(t)?t.default:t}var fp=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=te({token:e,factory:()=>(()=>$(BN))(),providedIn:"root"});let t=e;return t})(),BN=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,o){return r}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=te({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),G_=new ce(""),z_=new ce("");function UN(t,e,n){let r=t.get(z_),o=t.get(jt);return t.get(Ue).runOutsideAngular(()=>{if(!o.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,Promise.resolve();let i,s=new Promise(u=>{i=u}),a=o.startViewTransition(()=>(i(),qN(t))),{onViewTransitionCreated:c}=r;return c&&Yr(t,()=>c({transition:a,from:e,to:n})),s})}function qN(t){return new Promise(e=>{Jh(e,{injector:t})})}var pp=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new sn,this.transitionAbortSubject=new sn,this.configLoader=$(hp),this.environmentInjector=$(un),this.urlSerializer=$(wa),this.rootContexts=$(ba),this.location=$(Mi),this.inputBindingEnabled=$(Hu,{optional:!0})!==null,this.titleStrategy=$(H_),this.options=$(Sa,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=$(fp),this.createViewTransition=$(G_,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ae(void 0),this.rootComponentType=null;let r=i=>this.events.next(new Hf(i)),o=i=>this.events.next(new Wf(i));this.configLoader.onLoadEndListener=o,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let o=++this.navigationId;this.transitions?.next(V(x(x({},this.transitions.value),r),{id:o}))}setupNavigations(r,o,i){return this.transitions=new Ct({id:0,currentUrlTree:o,currentRawUrl:o,extractedUrl:this.urlHandlingStrategy.extract(o),urlAfterRedirects:this.urlHandlingStrategy.extract(o),rawUrl:o,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:la,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(yn(s=>s.id!==0),Ce(s=>V(x({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),_n(s=>{this.currentTransition=s;let a=!1,c=!1;return ae(s).pipe(Ye(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?V(x({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),_n(u=>{let l=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=u.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!l&&d!=="reload"){let h="";return this.events.next(new Jr(u.id,this.urlSerializer.serialize(u.rawUrl),h,0)),u.resolve(null),vn}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return ae(u).pipe(_n(h=>{let f=this.transitions?.getValue();return this.events.next(new ji(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?vn:Promise.resolve(h)}),ON(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),Ye(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=V(x({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let f=new Fu(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:h,extractedUrl:f,source:p,restoredState:g,extras:m}=u,v=new ji(h,this.urlSerializer.serialize(f),p,g);this.events.next(v);let D=k_(f,this.rootComponentType).snapshot;return this.currentTransition=s=V(x({},u),{targetSnapshot:D,urlAfterRedirects:f,extras:V(x({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,ae(s)}else{let h="";return this.events.next(new Jr(u.id,this.urlSerializer.serialize(u.extractedUrl),h,1)),u.resolve(null),vn}}),Ye(u=>{let l=new Bf(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),Ce(u=>(this.currentTransition=s=V(x({},u),{guards:QM(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),s)),sN(this.environmentInjector,u=>this.events.next(u)),Ye(u=>{if(s.guardsResult=u.guardsResult,Li(u.guardsResult))throw V_(this.urlSerializer,u.guardsResult);let l=new Uf(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),yn(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",3),!1)),Rf(u=>{if(u.guards.canActivateChecks.length)return ae(u).pipe(Ye(l=>{let d=new qf(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),_n(l=>{let d=!1;return ae(l).pipe(kN(this.paramsInheritanceStrategy,this.environmentInjector),Ye({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(l,"",2)}}))}),Ye(l=>{let d=new $f(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}))}),Rf(u=>{let l=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(Ye(f=>{d.component=f}),Ce(()=>{})));for(let f of d.children)h.push(...l(f));return h};return Rs(l(u.targetSnapshot.root)).pipe(qr(null),Er(1))}),Rf(()=>this.afterPreactivation()),_n(()=>{let{currentSnapshot:u,targetSnapshot:l}=s,d=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return d?tt(d).pipe(Ce(()=>s)):ae(s)}),Ce(u=>{let l=qM(r.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s=V(x({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,s}),Ye(()=>{this.events.next(new ma)}),YM(this.rootContexts,r.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Er(1),Ye({next:u=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Or(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),hd(this.transitionAbortSubject.pipe(Ye(u=>{throw u}))),Ps(()=>{if(!a&&!c){let u="";this.cancelNavigationTransition(s,u,1)}this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),Ur(u=>{if(c=!0,j_(u))this.events.next(new Kr(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),WM(u)?this.events.next(new ga(u.url)):s.resolve(!1);else{this.events.next(new pa(s.id,this.urlSerializer.serialize(s.extractedUrl),u,s.targetSnapshot??void 0));try{s.resolve(r.errorHandler(u))}catch(l){s.reject(l)}}return vn}))}))}cancelNavigationTransition(r,o,i){let s=new Kr(r.id,this.urlSerializer.serialize(r.extractedUrl),o,i);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=te({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function $N(t){return t!==la}var HN=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=te({token:e,factory:()=>(()=>$(WN))(),providedIn:"root"});let t=e;return t})(),sp=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},WN=(()=>{let e=class e extends sp{};e.\u0275fac=(()=>{let r;return function(i){return(r||(r=cu(e)))(i||e)}})(),e.\u0275prov=te({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Z_=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=te({token:e,factory:()=>(()=>$(GN))(),providedIn:"root"});let t=e;return t})(),GN=(()=>{let e=class e extends Z_{constructor(){super(...arguments),this.location=$(Mi),this.urlSerializer=$(wa),this.options=$(Sa,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=$(fp),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Xr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=k_(this.currentUrlTree,null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(o=>{o.type==="popstate"&&r(o.url,o.state)})}handleRouterEvent(r,o){if(r instanceof ji)this.stateMemento=this.createStateMemento();else if(r instanceof Jr)this.rawUrlTree=o.initialUrl;else if(r instanceof Fu){if(this.urlUpdateStrategy==="eager"&&!o.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(o.finalUrl,o.initialUrl);this.setBrowserUrl(i,o)}}else r instanceof ma?(this.currentUrlTree=o.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(o.finalUrl,o.initialUrl),this.routerState=o.targetRouterState,this.urlUpdateStrategy==="deferred"&&(o.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,o))):r instanceof Kr&&(r.code===3||r.code===2)?this.restoreHistory(o):r instanceof pa?this.restoreHistory(o,!0):r instanceof Or&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,o){let i=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(i)||o.extras.replaceUrl){let s=this.browserPageId,a=x(x({},o.extras.state),this.generateNgRouterState(o.id,s));this.location.replaceState(i,"",a)}else{let s=x(x({},o.extras.state),this.generateNgRouterState(o.id,this.browserPageId+1));this.location.go(i,"",s)}}restoreHistory(r,o=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&s===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(o&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,o){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:o}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(i){return(r||(r=cu(e)))(i||e)}})(),e.\u0275prov=te({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ca=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(ca||{});function Y_(t,e){t.events.pipe(yn(n=>n instanceof Or||n instanceof Kr||n instanceof pa||n instanceof Jr),Ce(n=>n instanceof Or||n instanceof Jr?ca.COMPLETE:(n instanceof Kr?n.code===0||n.code===1:!1)?ca.REDIRECTING:ca.FAILED),yn(n=>n!==ca.REDIRECTING),Er(1)).subscribe(()=>{e()})}function zN(t){throw t}var ZN={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},YN={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ko=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=$(yu),this.stateManager=$(Z_),this.options=$(Sa,{optional:!0})||{},this.pendingTasks=$(xu),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=$(pp),this.urlSerializer=$(wa),this.location=$(Mi),this.urlHandlingStrategy=$(fp),this._events=new sn,this.errorHandler=this.options.errorHandler||zN,this.navigated=!1,this.routeReuseStrategy=$(HN),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=$(qu,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!$(Hu,{optional:!0}),this.eventsSubscription=new et,this.isNgZoneEnabled=$(Ue)instanceof Ue&&Ue.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(o=>{try{let i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(o,s),o instanceof Kr&&o.code!==0&&o.code!==1)this.navigated=!0;else if(o instanceof Or)this.navigated=!0;else if(o instanceof ga){let a=this.urlHandlingStrategy.merge(o.url,i.currentRawUrl),c={skipLocationChange:i.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||$N(i.source)};this.scheduleNavigation(a,la,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}XN(o)&&this._events.next(o)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),la,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,o)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",o)},0)}))}navigateToSyncWithBrowser(r,o,i){let s={replaceUrl:!0},a=i?.navigationId?i:null;if(i){let u=x({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(s.state=u)}let c=this.parseUrl(r);this.scheduleNavigation(c,o,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(lp),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,o={}){let{relativeTo:i,queryParams:s,fragment:a,queryParamsHandling:c,preserveFragment:u}=o,l=u?this.currentUrlTree.fragment:a,d=null;switch(c){case"merge":d=x(x({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let f=i?i.snapshot:this.routerState.snapshot.root;h=A_(f)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),h=this.currentUrlTree.root}return M_(h,r,d,l??null)}navigateByUrl(r,o={skipLocationChange:!1}){let i=Li(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,la,null,o)}navigate(r,o={skipLocationChange:!1}){return QN(r),this.navigateByUrl(this.createUrlTree(r,o),o)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,o){let i;if(o===!0?i=x({},ZN):o===!1?i=x({},YN):i=o,Li(r))return d_(this.currentUrlTree,r,i);let s=this.parseUrl(r);return d_(this.currentUrlTree,s,i)}removeEmptyProps(r){return Object.keys(r).reduce((o,i)=>{let s=r[i];return s!=null&&(o[i]=s),o},{})}scheduleNavigation(r,o,i,s,a){if(this.disposed)return Promise.resolve(!1);let c,u,l;a?(c=a.resolve,u=a.reject,l=a.promise):l=new Promise((h,f)=>{c=h,u=f});let d=this.pendingTasks.add();return Y_(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:o,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(h=>Promise.reject(h))}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=te({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function QN(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new X(4008,!1)}function XN(t){return!(t instanceof ma)&&!(t instanceof ga)}var $u=class{};var KN=(()=>{let e=class e{constructor(r,o,i,s,a){this.router=r,this.injector=i,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(yn(r=>r instanceof Or),go(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,o){let i=[];for(let s of o){s.providers&&!s._injector&&(s._injector=vu(s.providers,r,`Route: ${s.path}`));let a=s._injector??r,c=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(c,s.children??s._loadedRoutes))}return tt(i).pipe(ri())}preloadConfig(r,o){return this.preloadingStrategy.preload(o,()=>{let i;o.loadChildren&&o.canLoad===void 0?i=this.loader.loadChildren(r,o):i=ae(null);let s=i.pipe(Ze(a=>a===null?ae(void 0):(o._loadedRoutes=a.routes,o._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));if(o.loadComponent&&!o._loadedComponent){let a=this.loader.loadComponent(o);return tt([s,a]).pipe(ri())}else return s})}};e.\u0275fac=function(o){return new(o||e)(ee(ko),ee(_u),ee(un),ee($u),ee(hp))},e.\u0275prov=te({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Q_=new ce(""),JN=(()=>{let e=class e{constructor(r,o,i,s,a={}){this.urlSerializer=r,this.transitions=o,this.viewportScroller=i,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof ji?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof Or?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof Jr&&r.code===0&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Pu&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,o){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Pu(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,o))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(o){ay()},e.\u0275prov=te({token:e,factory:e.\u0275fac});let t=e;return t})();function e1(t){return t.routerState.root}function Ta(t,e){return{\u0275kind:t,\u0275providers:e}}function t1(){let t=$(Cn);return e=>{let n=t.get(Ai);if(e!==n.components[0])return;let r=t.get(ko),o=t.get(X_);t.get(mp)===1&&r.initialNavigation(),t.get(K_,null,he.Optional)?.setUpPreloading(),t.get(Q_,null,he.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}var X_=new ce("",{factory:()=>new sn}),mp=new ce("",{providedIn:"root",factory:()=>1});function n1(){return Ta(2,[{provide:mp,useValue:0},{provide:Cu,multi:!0,deps:[Cn],useFactory:e=>{let n=e.get(Yy,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let o=e.get(ko),i=e.get(X_);Y_(o,()=>{r(!0)}),e.get(pp).afterPreactivation=()=>(r(!0),i.closed?ae(void 0):i),o.initialNavigation()}))}}])}function r1(){return Ta(3,[{provide:Cu,multi:!0,useFactory:()=>{let e=$(ko);return()=>{e.setUpLocationChangeListener()}}},{provide:mp,useValue:2}])}var K_=new ce("");function o1(t){return Ta(0,[{provide:K_,useExisting:KN},{provide:$u,useExisting:t}])}function i1(){return Ta(8,[m_,{provide:Hu,useExisting:m_}])}function s1(t){let e=[{provide:G_,useValue:UN},{provide:z_,useValue:x({skipNextTransition:!!t?.skipInitialTransition},t)}];return Ta(9,e)}var v_=new ce("ROUTER_FORROOT_GUARD"),a1=[Mi,{provide:wa,useClass:ha},ko,ba,{provide:Bi,useFactory:e1,deps:[ko]},hp,[]],J_=(()=>{let e=class e{constructor(r){}static forRoot(r,o){return{ngModule:e,providers:[a1,[],{provide:qu,multi:!0,useValue:r},{provide:v_,useFactory:d1,deps:[[ko,new uu,new Oh]]},{provide:Sa,useValue:o||{}},o?.useHash?u1():l1(),c1(),o?.preloadingStrategy?o1(o.preloadingStrategy).\u0275providers:[],o?.initialNavigation?h1(o):[],o?.bindToComponentInputs?i1().\u0275providers:[],o?.enableViewTransitions?s1().\u0275providers:[],f1()]}}static forChild(r){return{ngModule:e,providers:[{provide:qu,multi:!0,useValue:r}]}}};e.\u0275fac=function(o){return new(o||e)(ee(v_,8))},e.\u0275mod=zt({type:e}),e.\u0275inj=Gt({});let t=e;return t})();function c1(){return{provide:Q_,useFactory:()=>{let t=$(e_),e=$(Ue),n=$(Sa),r=$(pp),o=$(wa);return n.scrollOffset&&t.setOffset(n.scrollOffset),new JN(o,r,t,e,n)}}}function u1(){return{provide:Mo,useClass:Xy}}function l1(){return{provide:Mo,useClass:xf}}function d1(t){return"guarded"}function h1(t){return[t.initialNavigation==="disabled"?r1().\u0275providers:[],t.initialNavigation==="enabledBlocking"?n1().\u0275providers:[]]}var y_=new ce("");function f1(){return[{provide:y_,useFactory:t1},{provide:uf,multi:!0,useExisting:y_}]}var m1={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},nB=V(x({},m1),{"[class.ng-submitted]":"isSubmitted"});var ex=new ce("CallSetDisabledState",{providedIn:"root",factory:()=>gp}),gp="always";var g1=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=zt({type:e}),e.\u0275inj=Gt({});let t=e;return t})();var v1=new ce("NgModelWithFormControlWarning");var tx=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=zt({type:e}),e.\u0275inj=Gt({imports:[g1]});let t=e;return t})();var nx=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:ex,useValue:r.callSetDisabledState??gp}]}}};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=zt({type:e}),e.\u0275inj=Gt({imports:[tx]});let t=e;return t})(),rx=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:v1,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:ex,useValue:r.callSetDisabledState??gp}]}}};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=zt({type:e}),e.\u0275inj=Gt({imports:[tx]});let t=e;return t})();var ox=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=Qe({type:e,selectors:[["app-root"]],decls:2,vars:0,consts:[[1,"container"]],template:function(o,i){o&1&&(De(0,"div",0),qe(1,"router-outlet"),Se())},dependencies:[up]});let t=e;return t})();function $i(t,e=0){return Array.from(new Array(t).keys()).map(n=>n+e)}var Hi=class t{constructor(e=1,n=1,r=1,o=""){this.bar=e,this.beat=n,this.division=r,this.note=o}static from(e){return Object.assign(new t,e)}static fromEach(e){return e.map(n=>this.from(n))}get timeCode(){return vp(this.bar,this.beat,this.division)}};function vp(t=1,e=1,n=1){let r=n>1?`.${n}`:"";return(r||e>1)&&(r=`.${e}${r}`),`${t}${r}`}var yp=(()=>{let e=class e{get timeCode(){return vp(this.barNumber,this.beatNumber,this.beatDivisionNumber)}get onTheBeat(){return this.beatDivisionNumber==1}get title(){return this.timeCode}get event(){return this.events.find(r=>r.bar===this.barNumber&&r.beat===this.beatNumber&&r.division===this.beatDivisionNumber&&r.note===this.note)}onClick(){return this.clickLine.emit(this),!1}get height(){return this.el.nativeElement.getBoundingClientRect().height}get top(){return this.el.nativeElement.getBoundingClientRect().top}constructor(r){this.el=r,this.lineIndex=0,this.note="",this.barNumber=1,this.beatNumber=1,this.beatDivisionNumber=1,this.events=[],this.clickLine=new Oe}};e.\u0275fac=function(o){return new(o||e)(Nt(Dn))},e.\u0275cmp=Qe({type:e,selectors:[["app-rythm-bar-beat-division-line"]],hostVars:5,hostBindings:function(o,i){o&1&&ke("click",function(){return i.onClick()}),o&2&&(tf("title",i.title),dr("on-the-beat",i.onTheBeat)("bottom-line",i.bottomLine))},inputs:{lineIndex:"lineIndex",note:"note",barNumber:"barNumber",beatNumber:"beatNumber",beatDivisionNumber:"beatDivisionNumber",events:"events",bottomLine:"bottomLine"},outputs:{clickLine:"clickLine"},standalone:!0,features:[lt],decls:0,vars:0,template:function(o,i){},dependencies:[yt],styles:["[_nghost-%COMP%]{background:white;aspect-ratio:1.7142857143;font-size:10pt;border-top:solid 1px black}.bottom-line[_nghost-%COMP%]{border-bottom:solid 1px black}.on-the-beat[_nghost-%COMP%]{background:#EEE}[_nghost-%COMP%]:hover{background:rgb(255,255,155)}"]});let t=e;return t})();var ix=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=Qe({type:e,selectors:[["app-note"]],standalone:!0,features:[lt],decls:1,vars:0,consts:[["src","assets/images/WholeNote-centered.svg"]],template:function(o,i){o&1&&qe(0,"img",0)},styles:["[_nghost-%COMP%]{aspect-ratio:12/7;pointer-events:none}img[_ngcontent-%COMP%]{display:block;width:100%;pointer-events:none}"]});let t=e;return t})();function y1(t,e){if(t&1){let n=Dt();De(0,"app-rythm-bar-beat-division-line",2),ke("clickLine",function(o){we(n);let i=K();return be(i.onClickLine(o))}),Se()}if(t&2){let n=e.$implicit,r=K();ue("barNumber",r.barNumber)("beatNumber",r.beatNumber)("beatDivisionNumber",r.number)("lineIndex",n)("note",r.note(n+1))("bottomLine",n+1===r.linesArray.length)("events",r.events)}}function _1(t,e){if(t&1&&(Ot(0),De(1,"div",3),ut(2),Se(),kt()),t&2){let n=K();le(2),Zt("V",n.beatNumber,"")}}function x1(t,e){if(t&1&&qe(0,"app-note"),t&2){let n=e.ngIf,r=K(3);gu("width",r.width,"px")("top",r.getNoteOffsetTop(n),"px")}}function w1(t,e){if(t&1&&(Ot(0),ct(1,x1,1,4,"app-note",5),kt()),t&2){let n=e.$implicit,r=K(2);le(1),ue("ngIf",r.line(n))}}function b1(t,e){if(t&1&&(Ot(0),ct(1,w1,2,1,"ng-container",4),kt()),t&2){let n=K();le(1),ue("ngForOf",n.eventsOnThisDivision)}}var sx=(()=>{let e=class e{get active(){if(!this.timecode)return!1;let r=this.timecode.split(":"),o=+r[0],i=+r[1],s=+r[2];return o===this.barNumber&&i===this.beatNumber&&s===this.number}get width(){return this.widthV2}get top(){return this.el.nativeElement.getBoundingClientRect().top}get widthV1(){return this.el.nativeElement.offsetWidth}get widthV2(){return this.el.nativeElement.getBoundingClientRect().width}getNoteOffsetTop(r){return this.getNoteOffsetTopV2(r)}getNoteOffsetTopV1(r){let i=this.width/1.7142857142857142*.97,s=1;return(r-1)*(i+s)}getNoteOffsetTopV2(r){if(this.lineComponents){let o=this.minLineComponent(r);if(o?.top!==void 0){let i=this.maxLineComponent(r);if(i===o)return o.top-this.top;if(i?.top!==void 0){let s=r%1;return o.top-this.top+(i.top-this.top)*s}}}return console.warn("Impossible de calculer getNoteOffsetTopV2 => on utilise getNoteOffsetTopV1"),this.getNoteOffsetTopV1(r)}lineComponent(r){return this.lineComponents?.get(r-1)}minLineComponent(r){return this.lineComponent(Math.floor(r))}maxLineComponent(r){return this.lineComponent(Math.ceil(r))}get eventsOnThisDivision(){return this.events.filter(r=>r.bar===this.barNumber&&r.beat===this.beatNumber&&r.division==this.number)}get linesArray(){return this._linesArray||(this._linesArray=$i(this.lines)),this._linesArray}constructor(r,o){this.el=r,this.changeDetectorRef=o,this.number=1,this.barNumber=1,this.beatNumber=1,this.lines=2,this.events=[],this.addEvent=new Oe,this.removeEvent=new Oe}ngAfterViewInit(){this.changeDetectorRef.detectChanges(),this.detectChangesOnWindowResize()}detectChangesOnWindowResize(){Fs(window,"resize").pipe(Ye(()=>console.log("window resize")),ad(1e3),Ye(()=>console.log("debounced window resize"))).subscribe()}line(r){switch(r.note){case"kick":return this.lines;case"snare":return this.lines-1;default:throw new Error("Unknown note "+r.note)}}note(r){switch(r){case this.lines:return"kick";case this.lines-1:return"snare";default:throw new Error("Unknown line "+r)}}onClickLine(r){let o=r.event;if(o)return this.removeEvent.emit(o);let i=this.note(r.lineIndex+1),s=new Hi(this.barNumber,this.beatNumber,r.beatDivisionNumber,i);this.addEvent.emit(s)}};e.\u0275fac=function(o){return new(o||e)(Nt(Dn),Nt(Mr))},e.\u0275cmp=Qe({type:e,selectors:[["app-rythm-bar-beat-division"]],viewQuery:function(o,i){if(o&1&&Oy(yp,5),o&2){let s;of(s=sf())&&(i.lineComponents=s)}},hostVars:2,hostBindings:function(o,i){o&2&&dr("active",i.active)},inputs:{number:"number",barNumber:"barNumber",beatNumber:"beatNumber",lines:"lines",events:"events",timecode:"timecode"},outputs:{addEvent:"addEvent",removeEvent:"removeEvent"},standalone:!0,features:[lt],decls:3,vars:3,consts:[[3,"barNumber","beatNumber","beatDivisionNumber","lineIndex","note","bottomLine","events","clickLine",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"barNumber","beatNumber","beatDivisionNumber","lineIndex","note","bottomLine","events","clickLine"],[1,"beat-number"],[4,"ngFor","ngForOf"],[3,"width","top",4,"ngIf"]],template:function(o,i){o&1&&ct(0,y1,1,7,"app-rythm-bar-beat-division-line",0)(1,_1,3,1,"ng-container",1)(2,b1,2,1,"ng-container",1),o&2&&(ue("ngForOf",i.linesArray),le(1),ue("ngIf",i.number==1),le(1),ue("ngIf",i.lineComponents))},dependencies:[yt,hr,Ni,yp,ix],styles:['[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column;position:relative}@font-face{font-family:Beats;src:local("Beats"),url("./media/Beats-JVHCVOT7.woff2") format("woff2")}.beat-number[_ngcontent-%COMP%]{font-family:Beats;font-size:4vw}app-note[_ngcontent-%COMP%]{position:absolute;width:24px}[_nghost-%COMP%]:hover, .active[_nghost-%COMP%]{background:rgb(255,255,155);color:#000}']});let t=e;return t})();function C1(t,e){if(t&1){let n=Dt();De(0,"app-rythm-bar-beat-division",1),ke("addEvent",function(o){we(n);let i=K();return be(i.addEvent.emit(o))})("removeEvent",function(o){we(n);let i=K();return be(i.removeEvent.emit(o))}),Se()}if(t&2){let n=e.$implicit,r=K();ue("barNumber",r.barNumber)("beatNumber",r.number)("number",n)("events",r.events)("timecode",r.timecode)}}var ax=(()=>{let e=class e{constructor(){this.number=1,this.barNumber=1,this.beatDivision=4,this.events=[],this.addEvent=new Oe,this.removeEvent=new Oe}get beatDivisionArray(){return this._beatDivisionArray||(this._beatDivisionArray=$i(this.beatDivision,1)),this._beatDivisionArray}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=Qe({type:e,selectors:[["app-rythm-bar-beat"]],inputs:{number:"number",barNumber:"barNumber",beatDivision:"beatDivision",events:"events",timecode:"timecode"},outputs:{addEvent:"addEvent",removeEvent:"removeEvent"},standalone:!0,features:[lt],decls:1,vars:1,consts:[[3,"barNumber","beatNumber","number","events","timecode","addEvent","removeEvent",4,"ngFor","ngForOf"],[3,"barNumber","beatNumber","number","events","timecode","addEvent","removeEvent"]],template:function(o,i){o&1&&ct(0,C1,1,5,"app-rythm-bar-beat-division",0),o&2&&ue("ngForOf",i.beatDivisionArray)},dependencies:[yt,hr,sx],styles:["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:row}"]});let t=e;return t})();function D1(t,e){if(t&1){let n=Dt();De(0,"app-rythm-bar-beat",1),ke("addEvent",function(o){we(n);let i=K();return be(i.addEvent.emit(o))})("removeEvent",function(o){we(n);let i=K();return be(i.removeEvent.emit(o))}),Se()}if(t&2){let n=e.$implicit,r=K();ue("number",n)("barNumber",r.number)("beatDivision",r.beatDivision)("events",r.events)("timecode",r.timecode)}}var cx=(()=>{let e=class e{constructor(){this.number=1,this.beats=4,this.beatDivision=4,this.events=[],this.addEvent=new Oe,this.removeEvent=new Oe}get beatsArray(){return this._beatsArray||(this._beatsArray=$i(this.beats,1)),this._beatsArray}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=Qe({type:e,selectors:[["app-rythm-bar"]],inputs:{number:"number",beats:"beats",beatDivision:"beatDivision",events:"events",timecode:"timecode"},outputs:{addEvent:"addEvent",removeEvent:"removeEvent"},standalone:!0,features:[lt],decls:1,vars:1,consts:[[3,"number","barNumber","beatDivision","events","timecode","addEvent","removeEvent",4,"ngFor","ngForOf"],[3,"number","barNumber","beatDivision","events","timecode","addEvent","removeEvent"]],template:function(o,i){o&1&&ct(0,D1,1,5,"app-rythm-bar-beat",0),o&2&&ue("ngForOf",i.beatsArray)},dependencies:[yt,hr,ax],styles:["[_nghost-%COMP%]{display:flex}"]});let t=e;return t})();var ux=[{bar:1,beat:1,division:1,note:"kick"},{bar:1,beat:2,division:1,note:"snare"},{bar:1,beat:2,division:4,note:"kick"},{bar:1,beat:3,division:2,note:"kick"},{bar:1,beat:3,division:3,note:"kick"},{bar:1,beat:4,division:1,note:"snare"},{bar:2,beat:1,division:1,note:"kick"},{bar:2,beat:2,division:1,note:"snare"},{bar:2,beat:2,division:4,note:"kick"},{bar:2,beat:3,division:3,note:"kick"},{bar:2,beat:4,division:1,note:"snare"},{bar:3,beat:1,division:1,note:"kick"},{bar:3,beat:2,division:1,note:"snare"},{bar:3,beat:3,division:3,note:"kick"},{bar:3,beat:4,division:1,note:"snare"},{bar:4,beat:1,division:1,note:"kick"},{bar:4,beat:2,division:1,note:"snare"},{bar:4,beat:3,division:3,note:"kick"},{bar:4,beat:4,division:1,note:"snare"},{bar:3,beat:2,division:4,note:"kick"},{bar:1,beat:4,division:4,note:"kick"},{bar:2,beat:1,division:3,note:"kick"},{bar:2,beat:3,division:2,note:"kick"},{bar:4,beat:2,division:4,note:"kick"},{bar:4,beat:1,division:3,note:"kick"},{bar:5,beat:1,division:1,note:"kick"},{bar:5,beat:2,division:1,note:"snare"},{bar:5,beat:4,division:1,note:"snare"},{bar:6,beat:2,division:1,note:"snare"},{bar:6,beat:4,division:1,note:"snare"},{bar:7,beat:2,division:1,note:"snare"},{bar:7,beat:4,division:1,note:"snare"},{bar:8,beat:2,division:1,note:"snare"},{bar:8,beat:4,division:1,note:"snare"},{bar:8,beat:4,division:2,note:"snare"},{bar:8,beat:4,division:3,note:"snare"},{bar:8,beat:4,division:4,note:"snare"},{bar:6,beat:1,division:1,note:"kick"},{bar:6,beat:1,division:3,note:"kick"},{bar:7,beat:1,division:1,note:"kick"},{bar:8,beat:1,division:1,note:"kick"},{bar:8,beat:1,division:3,note:"kick"},{bar:5,beat:3,division:3,note:"kick"},{bar:6,beat:3,division:3,note:"kick"},{bar:7,beat:3,division:3,note:"kick"},{bar:8,beat:3,division:3,note:"snare"}];var T1=["*"],lx=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=Qe({type:e,selectors:[["app-pattern"]],standalone:!0,features:[lt],ngContentSelectors:T1,decls:1,vars:0,template:function(o,i){o&1&&(Ay(),My(0))},styles:["[_nghost-%COMP%]{display:block;flex:0 1cm}"]});let t=e;return t})();function E1(t,e){if(t&1){let n=Dt();De(0,"app-pattern",2),ke("click",function(){let i=we(n).$implicit,s=K(2);return be(s.onClickPatternInStructure(i))}),ut(1),Se()}if(t&2){let n=e.$implicit,r=K(2);dr("active",n==r.currentPatternInStructure),le(1),nf(n.initial)}}function I1(t,e){if(t&1&&(Ot(0),ct(1,E1,2,3,"app-pattern",1),kt()),t&2){let n=K();le(1),ue("ngForOf",n.structure.patternsInStructure)}}var dx=(()=>{let e=class e{constructor(){this.clickPatternInStructure=new Oe}onClickPatternInStructure(r){this.clickPatternInStructure.emit(r)}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=Qe({type:e,selectors:[["app-structure"]],inputs:{structure:"structure",currentPatternInStructure:"currentPatternInStructure"},outputs:{clickPatternInStructure:"clickPatternInStructure"},standalone:!0,features:[lt],decls:1,vars:1,consts:[[4,"ngIf"],[3,"active","click",4,"ngFor","ngForOf"],[3,"click"]],template:function(o,i){o&1&&ct(0,I1,2,1,"ng-container",0),o&2&&ue("ngIf",i.structure)},dependencies:[lx,yt,hr,Ni],styles:["[_nghost-%COMP%]{display:flex;flex-wrap:wrap}app-pattern.active[_ngcontent-%COMP%]{color:#fff}"]});let t=e;return t})();var Ea="14.7.77";var Yt=mm(wp());var Tx=()=>new DOMException("","AbortError");var Ex=t=>(e,n,[r,o,i],s)=>{t(e[o],[n,r,i],a=>a[0]===n&&a[1]===r,s)};var Ix=t=>(e,n,r)=>{let o=[];for(let i=0;i<r.numberOfInputs;i+=1)o.push(new Set);t.set(e,{activeInputs:o,outputs:new Set,passiveInputs:new WeakMap,renderer:n})};var Ax=t=>(e,n)=>{t.set(e,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:n})};var mr=new WeakSet,zu=new WeakMap,Wi=new WeakMap,Zu=new WeakMap,La=new WeakMap,Gi=new WeakMap,Yu=new WeakMap,ja=new WeakMap,Ba=new WeakMap,Ua=new WeakMap;var Mx={construct(){return Mx}},Nx=t=>{try{let e=new Proxy(t,Mx);new e}catch{return!1}return!0};var Ox=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,bp=(t,e)=>{let n=[],r=t.replace(/^[\s]+/,""),o=r.match(Ox);for(;o!==null;){let i=o[1].slice(1,-1),s=o[0].replace(/([\s]+)?;?$/,"").replace(i,new URL(i,e).toString());n.push(s),r=r.slice(o[0].length).replace(/^[\s]+/,""),o=r.match(Ox)}return[n.join(";"),r]};var kx=t=>{if(t!==void 0&&!Array.isArray(t))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},Rx=t=>{if(!Nx(t))throw new TypeError("The given value for processorCtor should be a constructor.");if(t.prototype===null||typeof t.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},Fx=(t,e,n,r,o,i,s,a,c,u,l,d,h)=>{let f=0;return(p,g,m={credentials:"omit"})=>{let v=l.get(p);if(v!==void 0&&v.has(g))return Promise.resolve();let D=u.get(p);if(D!==void 0){let C=D.get(g);if(C!==void 0)return C}let I=i(p),N=I.audioWorklet===void 0?o(g).then(([C,b])=>{let[_,w]=bp(C,b),R=`${_};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${w}
})})(window,'_AWGS')`;return n(R)}).then(()=>{let C=h._AWGS.pop();if(C===void 0)throw new SyntaxError;r(I.currentTime,I.sampleRate,()=>C(class{},void 0,(b,_)=>{if(b.trim()==="")throw e();let w=Ba.get(I);if(w!==void 0){if(w.has(b))throw e();Rx(_),kx(_.parameterDescriptors),w.set(b,_)}else Rx(_),kx(_.parameterDescriptors),Ba.set(I,new Map([[b,_]]))},I.sampleRate,void 0,void 0))}):Promise.all([o(g),Promise.resolve(t(d,d))]).then(([[C,b],_])=>{let w=f+1;f=w;let[R,H]=bp(C,b),E=`${R};((AudioWorkletProcessor,registerProcessor)=>{${H}
})(${_?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${_?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${_?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${w}',class extends AudioWorkletProcessor{process(){return !1}})`,S=new Blob([E],{type:"application/javascript; charset=utf-8"}),A=URL.createObjectURL(S);return I.audioWorklet.addModule(A,m).then(()=>{if(a(I))return I;let T=s(I);return T.audioWorklet.addModule(A,m).then(()=>T)}).then(T=>{if(c===null)throw new SyntaxError;try{new c(T,`__sac${w}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(A))});return D===void 0?u.set(p,new Map([[g,N]])):D.set(g,N),N.then(()=>{let C=l.get(p);C===void 0?l.set(p,new Set([g])):C.add(g)}).finally(()=>{let C=u.get(p);C!==void 0&&C.delete(g)}),N}};var dt=(t,e)=>{let n=t.get(e);if(n===void 0)throw new Error("A value with the given key could not be found.");return n};var to=(t,e)=>{let n=Array.from(t).filter(e);if(n.length>1)throw Error("More than one element was found.");if(n.length===0)throw Error("No element was found.");let[r]=n;return t.delete(r),r};var Qu=(t,e,n,r)=>{let o=dt(t,e),i=to(o,s=>s[0]===n&&s[1]===r);return o.size===0&&t.delete(e),i};var gr=t=>dt(Yu,t);var Hn=t=>{if(mr.has(t))throw new Error("The AudioNode is already stored.");mr.add(t),gr(t).forEach(e=>e(!0))};var Xu=t=>"port"in t;var vr=t=>{if(!mr.has(t))throw new Error("The AudioNode is not stored.");mr.delete(t),gr(t).forEach(e=>e(!1))};var qa=(t,e)=>{!Xu(t)&&e.every(n=>n.size===0)&&vr(t)};var Px=(t,e,n,r,o,i,s,a,c,u,l,d,h)=>{let f=new WeakMap;return(p,g,m,v,D)=>{let{activeInputs:I,passiveInputs:N}=i(g),{outputs:C}=i(p),b=a(p),_=w=>{let R=c(g),H=c(p);if(w){let k=Qu(N,p,m,v);t(I,p,k,!1),!D&&!d(p)&&n(H,R,m,v),h(g)&&Hn(g)}else{let k=r(I,p,m,v);e(N,v,k,!1),!D&&!d(p)&&o(H,R,m,v);let M=s(g);if(M===0)l(g)&&qa(g,I);else{let W=f.get(g);W!==void 0&&clearTimeout(W),f.set(g,setTimeout(()=>{l(g)&&qa(g,I)},M*1e3))}}};return u(C,[g,m,v],w=>w[0]===g&&w[1]===m&&w[2]===v,!0)?(b.add(_),l(p)?t(I,p,[m,v,_],!0):e(N,v,[p,m,_],!0),!0):!1}};var Vx=t=>(e,n,[r,o,i],s)=>{let a=e.get(r);a===void 0?e.set(r,new Set([[o,n,i]])):t(a,[o,n,i],c=>c[0]===o&&c[1]===n,s)};var Lx=t=>(e,n)=>{let r=t(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});n.connect(r).connect(e.destination);let o=()=>{n.removeEventListener("ended",o),n.disconnect(r),r.disconnect()};n.addEventListener("ended",o)};var jx=t=>(e,n)=>{t(e).add(n)};var G1={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},Bx=(t,e,n,r,o,i)=>class extends t{constructor(a,c){let u=o(a),l=x(x({},G1),c),d=r(u,l),h=i(u)?e():null;super(a,!1,d,h),this._nativeAnalyserNode=d}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(a){this._nativeAnalyserNode.fftSize=a}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(a){let c=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=a,!(a>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=c,n()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(a){let c=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=a,!(this._nativeAnalyserNode.maxDecibels>a))throw this._nativeAnalyserNode.minDecibels=c,n()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(a){this._nativeAnalyserNode.smoothingTimeConstant=a}getByteFrequencyData(a){this._nativeAnalyserNode.getByteFrequencyData(a)}getByteTimeDomainData(a){this._nativeAnalyserNode.getByteTimeDomainData(a)}getFloatFrequencyData(a){this._nativeAnalyserNode.getFloatFrequencyData(a)}getFloatTimeDomainData(a){this._nativeAnalyserNode.getFloatTimeDomainData(a)}};var Te=(t,e)=>t.context===e;var Ux=(t,e,n)=>()=>{let r=new WeakMap,o=(i,s)=>z(void 0,null,function*(){let a=e(i);if(!Te(a,s)){let u={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,fftSize:a.fftSize,maxDecibels:a.maxDecibels,minDecibels:a.minDecibels,smoothingTimeConstant:a.smoothingTimeConstant};a=t(s,u)}return r.set(s,a),yield n(i,s,a),a});return{render(i,s){let a=r.get(s);return a!==void 0?Promise.resolve(a):o(i,s)}}};var zi=t=>{try{t.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0};var Tn=()=>new DOMException("","IndexSizeError");var Zi=t=>{t.getChannelData=(e=>n=>{try{return e.call(t,n)}catch(r){throw r.code===12?Tn():r}})(t.getChannelData)};var z1={numberOfChannels:1},qx=(t,e,n,r,o,i,s,a)=>{let c=null;return class $x{constructor(l){if(o===null)throw new Error("Missing the native OfflineAudioContext constructor.");let{length:d,numberOfChannels:h,sampleRate:f}=x(x({},z1),l);c===null&&(c=new o(1,1,44100));let p=r!==null&&e(i,i)?new r({length:d,numberOfChannels:h,sampleRate:f}):c.createBuffer(h,d,f);if(p.numberOfChannels===0)throw n();return typeof p.copyFromChannel!="function"?(s(p),Zi(p)):e(zi,()=>zi(p))||a(p),t.add(p),p}static[Symbol.hasInstance](l){return l!==null&&typeof l=="object"&&Object.getPrototypeOf(l)===$x.prototype||t.has(l)}}};var nt=-34028234663852886e22,Xe=-nt;var Bt=t=>mr.has(t);var Z1={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},Hx=(t,e,n,r,o,i,s,a)=>class extends t{constructor(u,l){let d=i(u),h=x(x({},Z1),l),f=o(d,h),p=s(d),g=p?e():null;super(u,!1,f,g),this._audioBufferSourceNodeRenderer=g,this._isBufferNullified=!1,this._isBufferSet=h.buffer!==null,this._nativeAudioBufferSourceNode=f,this._onended=null,this._playbackRate=n(this,p,f.playbackRate,Xe,nt)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(u){if(this._nativeAudioBufferSourceNode.buffer=u,u!==null){if(this._isBufferSet)throw r();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(u){this._nativeAudioBufferSourceNode.loop=u}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(u){this._nativeAudioBufferSourceNode.loopEnd=u}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(u){this._nativeAudioBufferSourceNode.loopStart=u}get onended(){return this._onended}set onended(u){let l=typeof u=="function"?a(this,u):null;this._nativeAudioBufferSourceNode.onended=l;let d=this._nativeAudioBufferSourceNode.onended;this._onended=d!==null&&d===l?u:d}get playbackRate(){return this._playbackRate}start(u=0,l=0,d){if(this._nativeAudioBufferSourceNode.start(u,l,d),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=d===void 0?[u,l]:[u,l,d]),this.context.state!=="closed"){Hn(this);let h=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",h),Bt(this)&&vr(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",h)}}stop(u=0){this._nativeAudioBufferSourceNode.stop(u),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=u)}};var Wx=(t,e,n,r,o)=>()=>{let i=new WeakMap,s=null,a=null,c=(u,l)=>z(void 0,null,function*(){let d=n(u),h=Te(d,l);if(!h){let f={buffer:d.buffer,channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,loop:d.loop,loopEnd:d.loopEnd,loopStart:d.loopStart,playbackRate:d.playbackRate.value};d=e(l,f),s!==null&&d.start(...s),a!==null&&d.stop(a)}return i.set(l,d),h?yield t(l,u.playbackRate,d.playbackRate):yield r(l,u.playbackRate,d.playbackRate),yield o(u,l,d),d});return{set start(u){s=u},set stop(u){a=u},render(u,l){let d=i.get(l);return d!==void 0?Promise.resolve(d):c(u,l)}}};var Gx=t=>"playbackRate"in t;var zx=t=>"frequency"in t&&"gain"in t;var Zx=t=>"offset"in t;var Yx=t=>!("frequency"in t)&&"gain"in t;var Qx=t=>"detune"in t&&"frequency"in t;var Xx=t=>"pan"in t;var gt=t=>dt(zu,t);var no=t=>dt(Zu,t);var Ku=(t,e)=>{let{activeInputs:n}=gt(t);n.forEach(o=>o.forEach(([i])=>{e.includes(t)||Ku(i,[...e,t])}));let r=Gx(t)?[t.playbackRate]:Xu(t)?Array.from(t.parameters.values()):zx(t)?[t.Q,t.detune,t.frequency,t.gain]:Zx(t)?[t.offset]:Yx(t)?[t.gain]:Qx(t)?[t.detune,t.frequency]:Xx(t)?[t.pan]:[];for(let o of r){let i=no(o);i!==void 0&&i.activeInputs.forEach(([s])=>Ku(s,e))}Bt(t)&&vr(t)};var ro=t=>{Ku(t.destination,[])};var Ju=t=>t===void 0||typeof t=="number"||typeof t=="string"&&(t==="balanced"||t==="interactive"||t==="playback");var Kx=(t,e,n,r,o,i,s,a,c)=>class extends t{constructor(l={}){if(c===null)throw new Error("Missing the native AudioContext constructor.");let d;try{d=new c(l)}catch(p){throw p.code===12&&p.message==="sampleRate is not in range"?n():p}if(d===null)throw r();if(!Ju(l.latencyHint))throw new TypeError(`The provided value '${l.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(l.sampleRate!==void 0&&d.sampleRate!==l.sampleRate)throw n();super(d,2);let{latencyHint:h}=l,{sampleRate:f}=d;if(this._baseLatency=typeof d.baseLatency=="number"?d.baseLatency:h==="balanced"?512/f:h==="interactive"||h===void 0?256/f:h==="playback"?1024/f:Math.max(2,Math.min(128,Math.round(h*f/128)))*128/f,this._nativeAudioContext=d,c.name==="webkitAudioContext"?(this._nativeGainNode=d.createGain(),this._nativeOscillatorNode=d.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(d.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,d.state==="running"){this._state="suspended";let p=()=>{this._state==="suspended"&&(this._state=null),d.removeEventListener("statechange",p)};d.addEventListener("statechange",p)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw e()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),ro(this)}))}createMediaElementSource(l){return new o(this,{mediaElement:l})}createMediaStreamDestination(){return new i(this)}createMediaStreamSource(l){return new s(this,{mediaStream:l})}createMediaStreamTrackSource(l){return new a(this,{mediaStreamTrack:l})}resume(){return this._state==="suspended"?new Promise((l,d)=>{let h=()=>{this._nativeAudioContext.removeEventListener("statechange",h),this._nativeAudioContext.state==="running"?l():this.resume().then(l,d)};this._nativeAudioContext.addEventListener("statechange",h)}):this._nativeAudioContext.resume().catch(l=>{throw l===void 0||l.code===15?e():l})}suspend(){return this._nativeAudioContext.suspend().catch(l=>{throw l===void 0?e():l})}};var Jx=(t,e,n,r,o,i,s,a)=>class extends t{constructor(u,l){let d=i(u),h=s(d),f=o(d,l,h),p=h?e(a):null;super(u,!1,f,p),this._isNodeOfNativeOfflineAudioContext=h,this._nativeAudioDestinationNode=f}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(u){if(this._isNodeOfNativeOfflineAudioContext)throw r();if(u>this._nativeAudioDestinationNode.maxChannelCount)throw n();this._nativeAudioDestinationNode.channelCount=u}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(u){if(this._isNodeOfNativeOfflineAudioContext)throw r();this._nativeAudioDestinationNode.channelCountMode=u}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}};var ew=t=>{let e=new WeakMap,n=(r,o)=>z(void 0,null,function*(){let i=o.destination;return e.set(o,i),yield t(r,o,i),i});return{render(r,o){let i=e.get(o);return i!==void 0?Promise.resolve(i):n(r,o)}}};var tw=(t,e,n,r,o,i,s,a)=>(c,u)=>{let l=u.listener,d=()=>{let C=new Float32Array(1),b=e(u,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),_=s(u),w=!1,R=[0,0,-1,0,1,0],H=[0,0,0],k=()=>{if(w)return;w=!0;let S=r(u,256,9,0);S.onaudioprocess=({inputBuffer:A})=>{let T=[i(A,C,0),i(A,C,1),i(A,C,2),i(A,C,3),i(A,C,4),i(A,C,5)];T.some((O,U)=>O!==R[U])&&(l.setOrientation(...T),R=T);let L=[i(A,C,6),i(A,C,7),i(A,C,8)];L.some((O,U)=>O!==H[U])&&(l.setPosition(...L),H=L)},b.connect(S)},M=S=>A=>{A!==R[S]&&(R[S]=A,l.setOrientation(...R))},W=S=>A=>{A!==H[S]&&(H[S]=A,l.setPosition(...H))},E=(S,A,T)=>{let L=n(u,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:A});L.connect(b,0,S),L.start(),Object.defineProperty(L.offset,"defaultValue",{get(){return A}});let O=t({context:c},_,L.offset,Xe,nt);return a(O,"value",U=>()=>U.call(O),U=>P=>{try{U.call(O,P)}catch(Ie){if(Ie.code!==9)throw Ie}k(),_&&T(P)}),O.cancelAndHoldAtTime=(U=>_?()=>{throw o()}:(...P)=>{let Ie=U.apply(O,P);return k(),Ie})(O.cancelAndHoldAtTime),O.cancelScheduledValues=(U=>_?()=>{throw o()}:(...P)=>{let Ie=U.apply(O,P);return k(),Ie})(O.cancelScheduledValues),O.exponentialRampToValueAtTime=(U=>_?()=>{throw o()}:(...P)=>{let Ie=U.apply(O,P);return k(),Ie})(O.exponentialRampToValueAtTime),O.linearRampToValueAtTime=(U=>_?()=>{throw o()}:(...P)=>{let Ie=U.apply(O,P);return k(),Ie})(O.linearRampToValueAtTime),O.setTargetAtTime=(U=>_?()=>{throw o()}:(...P)=>{let Ie=U.apply(O,P);return k(),Ie})(O.setTargetAtTime),O.setValueAtTime=(U=>_?()=>{throw o()}:(...P)=>{let Ie=U.apply(O,P);return k(),Ie})(O.setValueAtTime),O.setValueCurveAtTime=(U=>_?()=>{throw o()}:(...P)=>{let Ie=U.apply(O,P);return k(),Ie})(O.setValueCurveAtTime),O};return{forwardX:E(0,0,M(0)),forwardY:E(1,0,M(1)),forwardZ:E(2,-1,M(2)),positionX:E(6,0,W(0)),positionY:E(7,0,W(1)),positionZ:E(8,0,W(2)),upX:E(3,0,M(3)),upY:E(4,1,M(4)),upZ:E(5,0,M(5))}},{forwardX:h,forwardY:f,forwardZ:p,positionX:g,positionY:m,positionZ:v,upX:D,upY:I,upZ:N}=l.forwardX===void 0?d():l;return{get forwardX(){return h},get forwardY(){return f},get forwardZ(){return p},get positionX(){return g},get positionY(){return m},get positionZ(){return v},get upX(){return D},get upY(){return I},get upZ(){return N}}};var Ro=t=>"context"in t;var oo=t=>Ro(t[0]);var Wn=(t,e,n,r)=>{for(let o of t)if(n(o)){if(r)return!1;throw Error("The set contains at least one similar element.")}return t.add(e),!0};var Cp=(t,e,[n,r],o)=>{Wn(t,[e,n,r],i=>i[0]===e&&i[1]===n,o)};var Dp=(t,[e,n,r],o)=>{let i=t.get(e);i===void 0?t.set(e,new Set([[n,r]])):Wn(i,[n,r],s=>s[0]===n,o)};var En=t=>"inputs"in t;var Yi=(t,e,n,r)=>{if(En(e)){let o=e.inputs[r];return t.connect(o,n,0),[o,n,0]}return t.connect(e,n,r),[e,n,r]};var Sp=(t,e,n)=>{for(let r of t)if(r[0]===e&&r[1]===n)return t.delete(r),r;return null};var nw=(t,e,n)=>to(t,r=>r[0]===e&&r[1]===n);var Tp=(t,e)=>{if(!gr(t).delete(e))throw new Error("Missing the expected event listener.")};var Ep=(t,e,n)=>{let r=dt(t,e),o=to(r,i=>i[0]===n);return r.size===0&&t.delete(e),o};var Qi=(t,e,n,r)=>{En(e)?t.disconnect(e.inputs[r],n,0):t.disconnect(e,n,r)};var Pe=t=>dt(Wi,t);var Fo=t=>dt(La,t);var Rr=t=>ja.has(t);var Xi=t=>!mr.has(t);var Ip=(t,e)=>new Promise(n=>{if(e!==null)n(!0);else{let r=t.createScriptProcessor(256,1,1),o=t.createGain(),i=t.createBuffer(1,2,44100),s=i.getChannelData(0);s[0]=1,s[1]=1;let a=t.createBufferSource();a.buffer=i,a.loop=!0,a.connect(r).connect(t.destination),a.connect(o),a.disconnect(o),r.onaudioprocess=c=>{let u=c.inputBuffer.getChannelData(0);Array.prototype.some.call(u,l=>l===1)?n(!0):n(!1),a.stop(),r.onaudioprocess=null,a.disconnect(r),r.disconnect(t.destination)},a.start()}});var el=(t,e)=>{let n=new Map;for(let r of t)for(let o of r){let i=n.get(o);n.set(o,i===void 0?1:i+1)}n.forEach((r,o)=>e(o,r))};var Po=t=>"context"in t;var rw=t=>{let e=new Map;t.connect=(n=>(r,o=0,i=0)=>{let s=Po(r)?n(r,o,i):n(r,o),a=e.get(r);return a===void 0?e.set(r,[{input:i,output:o}]):a.every(c=>c.input!==i||c.output!==o)&&a.push({input:i,output:o}),s})(t.connect.bind(t)),t.disconnect=(n=>(r,o,i)=>{if(n.apply(t),r===void 0)e.clear();else if(typeof r=="number")for(let[s,a]of e){let c=a.filter(u=>u.output!==r);c.length===0?e.delete(s):e.set(s,c)}else if(e.has(r))if(o===void 0)e.delete(r);else{let s=e.get(r);if(s!==void 0){let a=s.filter(c=>c.output!==o&&(c.input!==i||i===void 0));a.length===0?e.delete(r):e.set(r,a)}}for(let[s,a]of e)a.forEach(c=>{Po(s)?t.connect(s,c.output,c.input):t.connect(s,c.output)})})(t.disconnect)};var Y1=(t,e,n,r)=>{let{activeInputs:o,passiveInputs:i}=no(e),{outputs:s}=gt(t),a=gr(t),c=u=>{let l=Pe(t),d=Fo(e);if(u){let h=Ep(i,t,n);Cp(o,t,h,!1),!r&&!Rr(t)&&l.connect(d,n)}else{let h=nw(o,t,n);Dp(i,h,!1),!r&&!Rr(t)&&l.disconnect(d,n)}};return Wn(s,[e,n],u=>u[0]===e&&u[1]===n,!0)?(a.add(c),Bt(t)?Cp(o,t,[n,c],!0):Dp(i,[t,n,c],!0),!0):!1},Q1=(t,e,n,r)=>{let{activeInputs:o,passiveInputs:i}=gt(e),s=Sp(o[r],t,n);return s===null?[Qu(i,t,n,r)[2],!1]:[s[2],!0]},X1=(t,e,n)=>{let{activeInputs:r,passiveInputs:o}=no(e),i=Sp(r,t,n);return i===null?[Ep(o,t,n)[1],!1]:[i[2],!0]},Ap=(t,e,n,r,o)=>{let[i,s]=Q1(t,n,r,o);if(i!==null&&(Tp(t,i),s&&!e&&!Rr(t)&&Qi(Pe(t),Pe(n),r,o)),Bt(n)){let{activeInputs:a}=gt(n);qa(n,a)}},Mp=(t,e,n,r)=>{let[o,i]=X1(t,n,r);o!==null&&(Tp(t,o),i&&!e&&!Rr(t)&&Pe(t).disconnect(Fo(n),r))},K1=(t,e)=>{let n=gt(t),r=[];for(let o of n.outputs)oo(o)?Ap(t,e,...o):Mp(t,e,...o),r.push(o[0]);return n.outputs.clear(),r},J1=(t,e,n)=>{let r=gt(t),o=[];for(let i of r.outputs)i[1]===n&&(oo(i)?Ap(t,e,...i):Mp(t,e,...i),o.push(i[0]),r.outputs.delete(i));return o},eO=(t,e,n,r,o)=>{let i=gt(t);return Array.from(i.outputs).filter(s=>s[0]===n&&(r===void 0||s[1]===r)&&(o===void 0||s[2]===o)).map(s=>(oo(s)?Ap(t,e,...s):Mp(t,e,...s),i.outputs.delete(s),s[0]))},ow=(t,e,n,r,o,i,s,a,c,u,l,d,h,f,p,g)=>class extends u{constructor(v,D,I,N){super(I),this._context=v,this._nativeAudioNode=I;let C=l(v);d(C)&&n(Ip,()=>Ip(C,g))!==!0&&rw(I),Wi.set(this,I),Yu.set(this,new Set),v.state!=="closed"&&D&&Hn(this),t(this,N,I)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(v){this._nativeAudioNode.channelCount=v}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(v){this._nativeAudioNode.channelCountMode=v}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(v){this._nativeAudioNode.channelInterpretation=v}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(v,D=0,I=0){if(D<0||D>=this._nativeAudioNode.numberOfOutputs)throw o();let N=l(this._context),C=p(N);if(h(v)||f(v))throw i();if(Ro(v)){let w=Pe(v);try{let H=Yi(this._nativeAudioNode,w,D,I),k=Xi(this);(C||k)&&this._nativeAudioNode.disconnect(...H),this.context.state!=="closed"&&!k&&Xi(v)&&Hn(v)}catch(H){throw H.code===12?i():H}if(e(this,v,D,I,C)){let H=c([this],v);el(H,r(C))}return v}let b=Fo(v);if(b.name==="playbackRate"&&b.maxValue===1024)throw s();try{this._nativeAudioNode.connect(b,D),(C||Xi(this))&&this._nativeAudioNode.disconnect(b,D)}catch(w){throw w.code===12?i():w}if(Y1(this,v,D,C)){let w=c([this],v);el(w,r(C))}}disconnect(v,D,I){let N,C=l(this._context),b=p(C);if(v===void 0)N=K1(this,b);else if(typeof v=="number"){if(v<0||v>=this.numberOfOutputs)throw o();N=J1(this,b,v)}else{if(D!==void 0&&(D<0||D>=this.numberOfOutputs)||Ro(v)&&I!==void 0&&(I<0||I>=v.numberOfInputs))throw o();if(N=eO(this,b,v,D,I),N.length===0)throw i()}for(let _ of N){let w=c([this],_);el(w,a)}}};var iw=mm(wp()),sw=(t,e,n,r,o,i,s,a,c,u,l,d,h)=>(f,p,g,m=null,v=null)=>{let D=g.value,I=new iw.AutomationEventList(D),N=p?r(I):null,C={get defaultValue(){return D},get maxValue(){return m===null?g.maxValue:m},get minValue(){return v===null?g.minValue:v},get value(){return g.value},set value(b){g.value=b,C.setValueAtTime(b,f.context.currentTime)},cancelAndHoldAtTime(b){if(typeof g.cancelAndHoldAtTime=="function")N===null&&I.flush(f.context.currentTime),I.add(o(b)),g.cancelAndHoldAtTime(b);else{let _=Array.from(I).pop();N===null&&I.flush(f.context.currentTime),I.add(o(b));let w=Array.from(I).pop();g.cancelScheduledValues(b),_!==w&&w!==void 0&&(w.type==="exponentialRampToValue"?g.exponentialRampToValueAtTime(w.value,w.endTime):w.type==="linearRampToValue"?g.linearRampToValueAtTime(w.value,w.endTime):w.type==="setValue"?g.setValueAtTime(w.value,w.startTime):w.type==="setValueCurve"&&g.setValueCurveAtTime(w.values,w.startTime,w.duration))}return C},cancelScheduledValues(b){return N===null&&I.flush(f.context.currentTime),I.add(i(b)),g.cancelScheduledValues(b),C},exponentialRampToValueAtTime(b,_){if(b===0)throw new RangeError;if(!Number.isFinite(_)||_<0)throw new RangeError;let w=f.context.currentTime;return N===null&&I.flush(w),Array.from(I).length===0&&(I.add(u(D,w)),g.setValueAtTime(D,w)),I.add(s(b,_)),g.exponentialRampToValueAtTime(b,_),C},linearRampToValueAtTime(b,_){let w=f.context.currentTime;return N===null&&I.flush(w),Array.from(I).length===0&&(I.add(u(D,w)),g.setValueAtTime(D,w)),I.add(a(b,_)),g.linearRampToValueAtTime(b,_),C},setTargetAtTime(b,_,w){return N===null&&I.flush(f.context.currentTime),I.add(c(b,_,w)),g.setTargetAtTime(b,_,w),C},setValueAtTime(b,_){return N===null&&I.flush(f.context.currentTime),I.add(u(b,_)),g.setValueAtTime(b,_),C},setValueCurveAtTime(b,_,w){let R=b instanceof Float32Array?b:new Float32Array(b);if(d!==null&&d.name==="webkitAudioContext"){let H=_+w,k=f.context.sampleRate,M=Math.ceil(_*k),W=Math.floor(H*k),E=W-M,S=new Float32Array(E);for(let T=0;T<E;T+=1){let L=(R.length-1)/w*((M+T)/k-_),O=Math.floor(L),U=Math.ceil(L);S[T]=O===U?R[O]:(1-(L-O))*R[O]+(1-(U-L))*R[U]}N===null&&I.flush(f.context.currentTime),I.add(l(S,_,w)),g.setValueCurveAtTime(S,_,w);let A=W/k;A<H&&h(C,S[S.length-1],A),h(C,R[R.length-1],H)}else N===null&&I.flush(f.context.currentTime),I.add(l(R,_,w)),g.setValueCurveAtTime(R,_,w);return C}};return n.set(C,g),e.set(C,f),t(C,N),C};var aw=t=>({replay(e){for(let n of t)if(n.type==="exponentialRampToValue"){let{endTime:r,value:o}=n;e.exponentialRampToValueAtTime(o,r)}else if(n.type==="linearRampToValue"){let{endTime:r,value:o}=n;e.linearRampToValueAtTime(o,r)}else if(n.type==="setTarget"){let{startTime:r,target:o,timeConstant:i}=n;e.setTargetAtTime(o,r,i)}else if(n.type==="setValue"){let{startTime:r,value:o}=n;e.setValueAtTime(o,r)}else if(n.type==="setValueCurve"){let{duration:r,startTime:o,values:i}=n;e.setValueCurveAtTime(i,o,r)}else throw new Error("Can't apply an unknown automation.")}});var Ki=class{constructor(e){this._map=new Map(e)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(e,n=null){return this._map.forEach((r,o)=>e.call(n,r,o,this))}get(e){return this._map.get(e)}has(e){return this._map.has(e)}keys(){return this._map.keys()}values(){return this._map.values()}};var tO={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},cw=(t,e,n,r,o,i,s,a,c,u,l,d,h,f)=>class extends e{constructor(g,m,v){var D;let I=a(g),N=c(I),C=l(x(x({},tO),v));h(C);let b=Ba.get(I),_=b?.get(m),w=N||I.state!=="closed"?I:(D=s(I))!==null&&D!==void 0?D:I,R=o(w,N?null:g.baseLatency,u,m,_,C),H=N?r(m,C,_):null;super(g,!0,R,H);let k=[];R.parameters.forEach((W,E)=>{let S=n(this,N,W);k.push([E,S])}),this._nativeAudioWorkletNode=R,this._onprocessorerror=null,this._parameters=new Ki(k),N&&t(I,this);let{activeInputs:M}=i(this);d(R,M)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(g){let m=typeof g=="function"?f(this,g):null;this._nativeAudioWorkletNode.onprocessorerror=m;let v=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=v!==null&&v===m?g:v}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function Ji(t,e,n,r,o){if(typeof t.copyFromChannel=="function")e[n].byteLength===0&&(e[n]=new Float32Array(128)),t.copyFromChannel(e[n],r,o);else{let i=t.getChannelData(r);if(e[n].byteLength===0)e[n]=i.slice(o,o+128);else{let s=new Float32Array(i.buffer,o*Float32Array.BYTES_PER_ELEMENT,128);e[n].set(s)}}}var tl=(t,e,n,r,o)=>{typeof t.copyToChannel=="function"?e[n].byteLength!==0&&t.copyToChannel(e[n],r,o):e[n].byteLength!==0&&t.getChannelData(r).set(e[n],o)};var es=(t,e)=>{let n=[];for(let r=0;r<t;r+=1){let o=[],i=typeof e=="number"?e:e[r];for(let s=0;s<i;s+=1)o.push(new Float32Array(128));n.push(o)}return n};var uw=(t,e)=>{let n=dt(Ua,t),r=Pe(e);return dt(n,r)};var nO=(t,e,n,r,o,i,s)=>z(void 0,null,function*(){let a=e===null?Math.ceil(t.context.length/128)*128:e.length,c=r.channelCount*r.numberOfInputs,u=o.reduce((m,v)=>m+v,0),l=u===0?null:n.createBuffer(u,a,n.sampleRate);if(i===void 0)throw new Error("Missing the processor constructor.");let d=gt(t),h=yield uw(n,t),f=es(r.numberOfInputs,r.channelCount),p=es(r.numberOfOutputs,o),g=Array.from(t.parameters.keys()).reduce((m,v)=>V(x({},m),{[v]:new Float32Array(128)}),{});for(let m=0;m<a;m+=128){if(r.numberOfInputs>0&&e!==null)for(let v=0;v<r.numberOfInputs;v+=1)for(let D=0;D<r.channelCount;D+=1)Ji(e,f[v],D,D,m);i.parameterDescriptors!==void 0&&e!==null&&i.parameterDescriptors.forEach(({name:v},D)=>{Ji(e,g,v,c+D,m)});for(let v=0;v<r.numberOfInputs;v+=1)for(let D=0;D<o[v];D+=1)p[v][D].byteLength===0&&(p[v][D]=new Float32Array(128));try{let v=f.map((I,N)=>d.activeInputs[N].size===0?[]:I),D=s(m/n.sampleRate,n.sampleRate,()=>h.process(v,p,g));if(l!==null)for(let I=0,N=0;I<r.numberOfOutputs;I+=1){for(let C=0;C<o[I];C+=1)tl(l,p[I],C,N+C,m);N+=o[I]}if(!D)break}catch(v){t.dispatchEvent(new ErrorEvent("processorerror",{colno:v.colno,filename:v.filename,lineno:v.lineno,message:v.message}));break}}return l}),lw=(t,e,n,r,o,i,s,a,c,u,l,d,h,f,p,g)=>(m,v,D)=>{let I=new WeakMap,N=null,C=(b,_)=>z(void 0,null,function*(){let w=l(b),R=null,H=Te(w,_),k=Array.isArray(v.outputChannelCount)?v.outputChannelCount:Array.from(v.outputChannelCount);if(d===null){let M=k.reduce((A,T)=>A+T,0),W=o(_,{channelCount:Math.max(1,M),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,M)}),E=[];for(let A=0;A<b.numberOfOutputs;A+=1)E.push(r(_,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:k[A]}));let S=s(_,{channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation,gain:1});S.connect=e.bind(null,E),S.disconnect=c.bind(null,E),R=[W,E,S]}else H||(w=new d(_,m));if(I.set(_,R===null?w:R[2]),R!==null){if(N===null){if(D===void 0)throw new Error("Missing the processor constructor.");if(h===null)throw new Error("Missing the native OfflineAudioContext constructor.");let T=b.channelCount*b.numberOfInputs,L=D.parameterDescriptors===void 0?0:D.parameterDescriptors.length,O=T+L;N=nO(b,O===0?null:yield(()=>z(void 0,null,function*(){let P=new h(O,Math.ceil(b.context.length/128)*128,_.sampleRate),Ie=[],Le=[];for(let xe=0;xe<v.numberOfInputs;xe+=1)Ie.push(s(P,{channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation,gain:1})),Le.push(o(P,{channelCount:v.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:v.channelCount}));let vt=yield Promise.all(Array.from(b.parameters.values()).map(xe=>z(void 0,null,function*(){let re=i(P,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:xe.value});return yield f(P,xe,re.offset),re}))),bt=r(P,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,T+L)});for(let xe=0;xe<v.numberOfInputs;xe+=1){Ie[xe].connect(Le[xe]);for(let re=0;re<v.channelCount;re+=1)Le[xe].connect(bt,re,xe*v.channelCount+re)}for(let[xe,re]of vt.entries())re.connect(bt,0,T+xe),re.start(0);return bt.connect(P.destination),yield Promise.all(Ie.map(xe=>p(b,P,xe))),g(P)}))(),_,v,k,D,u)}let M=yield N,W=n(_,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[E,S,A]=R;M!==null&&(W.buffer=M,W.start(0)),W.connect(E);for(let T=0,L=0;T<b.numberOfOutputs;T+=1){let O=S[T];for(let U=0;U<k[T];U+=1)E.connect(O,L+U,U);L+=k[T]}return A}if(H)for(let[M,W]of b.parameters.entries())yield t(_,W,w.parameters.get(M));else for(let[M,W]of b.parameters.entries())yield f(_,W,w.parameters.get(M));return yield p(b,_,w),w});return{render(b,_){a(_,b);let w=I.get(_);return w!==void 0?Promise.resolve(w):C(b,_)}}};var dw=(t,e,n,r,o,i,s,a,c,u,l,d,h,f,p,g,m,v,D,I)=>class extends p{constructor(C,b){super(C,b),this._nativeContext=C,this._audioWorklet=t===void 0?void 0:{addModule:(_,w)=>t(this,_,w)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new e(this)}createBiquadFilter(){return new o(this)}createBuffer(C,b,_){return new n({length:b,numberOfChannels:C,sampleRate:_})}createBufferSource(){return new r(this)}createChannelMerger(C=6){return new i(this,{numberOfInputs:C})}createChannelSplitter(C=6){return new s(this,{numberOfOutputs:C})}createConstantSource(){return new a(this)}createConvolver(){return new c(this)}createDelay(C=1){return new l(this,{maxDelayTime:C})}createDynamicsCompressor(){return new d(this)}createGain(){return new h(this)}createIIRFilter(C,b){return new f(this,{feedback:b,feedforward:C})}createOscillator(){return new g(this)}createPanner(){return new m(this)}createPeriodicWave(C,b,_={disableNormalization:!1}){return new v(this,V(x({},_),{imag:b,real:C}))}createStereoPanner(){return new D(this)}createWaveShaper(){return new I(this)}decodeAudioData(C,b,_){return u(this._nativeContext,C).then(w=>(typeof b=="function"&&b(w),w),w=>{throw typeof _=="function"&&_(w),w})}};var rO={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},hw=(t,e,n,r,o,i,s,a)=>class extends t{constructor(u,l){let d=i(u),h=x(x({},rO),l),f=o(d,h),p=s(d),g=p?n():null;super(u,!1,f,g),this._Q=e(this,p,f.Q,Xe,nt),this._detune=e(this,p,f.detune,1200*Math.log2(Xe),-1200*Math.log2(Xe)),this._frequency=e(this,p,f.frequency,u.sampleRate/2,0),this._gain=e(this,p,f.gain,40*Math.log10(Xe),nt),this._nativeBiquadFilterNode=f,a(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(u){this._nativeBiquadFilterNode.type=u}getFrequencyResponse(u,l,d){try{this._nativeBiquadFilterNode.getFrequencyResponse(u,l,d)}catch(h){throw h.code===11?r():h}if(u.length!==l.length||l.length!==d.length)throw r()}};var fw=(t,e,n,r,o)=>()=>{let i=new WeakMap,s=(a,c)=>z(void 0,null,function*(){let u=n(a),l=Te(u,c);if(!l){let d={Q:u.Q.value,channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,detune:u.detune.value,frequency:u.frequency.value,gain:u.gain.value,type:u.type};u=e(c,d)}return i.set(c,u),l?(yield t(c,a.Q,u.Q),yield t(c,a.detune,u.detune),yield t(c,a.frequency,u.frequency),yield t(c,a.gain,u.gain)):(yield r(c,a.Q,u.Q),yield r(c,a.detune,u.detune),yield r(c,a.frequency,u.frequency),yield r(c,a.gain,u.gain)),yield o(a,c,u),u});return{render(a,c){let u=i.get(c);return u!==void 0?Promise.resolve(u):s(a,c)}}};var pw=(t,e)=>(n,r)=>{let o=e.get(n);if(o!==void 0)return o;let i=t.get(n);if(i!==void 0)return i;try{let s=r();return s instanceof Promise?(t.set(n,s),s.catch(()=>!1).then(a=>(t.delete(n),e.set(n,a),a))):(e.set(n,s),s)}catch{return e.set(n,!1),!1}};var oO={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},mw=(t,e,n,r,o)=>class extends t{constructor(s,a){let c=r(s),u=x(x({},oO),a),l=n(c,u),d=o(c)?e():null;super(s,!1,l,d)}};var gw=(t,e,n)=>()=>{let r=new WeakMap,o=(i,s)=>z(void 0,null,function*(){let a=e(i);if(!Te(a,s)){let u={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfInputs:a.numberOfInputs};a=t(s,u)}return r.set(s,a),yield n(i,s,a),a});return{render(i,s){let a=r.get(s);return a!==void 0?Promise.resolve(a):o(i,s)}}};var iO={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},vw=(t,e,n,r,o,i)=>class extends t{constructor(a,c){let u=r(a),l=i(x(x({},iO),c)),d=n(u,l),h=o(u)?e():null;super(a,!1,d,h)}};var yw=(t,e,n)=>()=>{let r=new WeakMap,o=(i,s)=>z(void 0,null,function*(){let a=e(i);if(!Te(a,s)){let u={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfOutputs:a.numberOfOutputs};a=t(s,u)}return r.set(s,a),yield n(i,s,a),a});return{render(i,s){let a=r.get(s);return a!==void 0?Promise.resolve(a):o(i,s)}}};var _w=t=>(e,n,r)=>t(n,e,r);var xw=t=>(e,n,r=0,o=0)=>{let i=e[r];if(i===void 0)throw t();return Po(n)?i.connect(n,0,o):i.connect(n,0)};var ww=t=>(e,n)=>{let r=t(e,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),o=e.createBuffer(1,2,44100);return r.buffer=o,r.loop=!0,r.connect(n),r.start(),()=>{r.stop(),r.disconnect(n)}};var sO={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},bw=(t,e,n,r,o,i,s)=>class extends t{constructor(c,u){let l=o(c),d=x(x({},sO),u),h=r(l,d),f=i(l),p=f?n():null;super(c,!1,h,p),this._constantSourceNodeRenderer=p,this._nativeConstantSourceNode=h,this._offset=e(this,f,h.offset,Xe,nt),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(c){let u=typeof c=="function"?s(this,c):null;this._nativeConstantSourceNode.onended=u;let l=this._nativeConstantSourceNode.onended;this._onended=l!==null&&l===u?c:l}start(c=0){if(this._nativeConstantSourceNode.start(c),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=c),this.context.state!=="closed"){Hn(this);let u=()=>{this._nativeConstantSourceNode.removeEventListener("ended",u),Bt(this)&&vr(this)};this._nativeConstantSourceNode.addEventListener("ended",u)}}stop(c=0){this._nativeConstantSourceNode.stop(c),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=c)}};var Cw=(t,e,n,r,o)=>()=>{let i=new WeakMap,s=null,a=null,c=(u,l)=>z(void 0,null,function*(){let d=n(u),h=Te(d,l);if(!h){let f={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,offset:d.offset.value};d=e(l,f),s!==null&&d.start(s),a!==null&&d.stop(a)}return i.set(l,d),h?yield t(l,u.offset,d.offset):yield r(l,u.offset,d.offset),yield o(u,l,d),d});return{set start(u){s=u},set stop(u){a=u},render(u,l){let d=i.get(l);return d!==void 0?Promise.resolve(d):c(u,l)}}};var Dw=t=>e=>(t[0]=e,t[0]);var aO={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},Sw=(t,e,n,r,o,i)=>class extends t{constructor(a,c){let u=r(a),l=x(x({},aO),c),d=n(u,l),f=o(u)?e():null;super(a,!1,d,f),this._isBufferNullified=!1,this._nativeConvolverNode=d,l.buffer!==null&&i(this,l.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(a){if(this._nativeConvolverNode.buffer=a,a===null&&this._nativeConvolverNode.buffer!==null){let c=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=c.createBuffer(1,1,c.sampleRate),this._isBufferNullified=!0,i(this,0)}else this._isBufferNullified=!1,i(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(a){this._nativeConvolverNode.normalize=a}};var Tw=(t,e,n)=>()=>{let r=new WeakMap,o=(i,s)=>z(void 0,null,function*(){let a=e(i);if(!Te(a,s)){let u={buffer:a.buffer,channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,disableNormalization:!a.normalize};a=t(s,u)}return r.set(s,a),En(a)?yield n(i,s,a.inputs[0]):yield n(i,s,a),a});return{render(i,s){let a=r.get(s);return a!==void 0?Promise.resolve(a):o(i,s)}}};var Ew=(t,e)=>(n,r,o)=>{if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new e(n,r,o)}catch(i){throw i.name==="SyntaxError"?t():i}};var Iw=()=>new DOMException("","DataCloneError");var Np=t=>{let{port1:e,port2:n}=new MessageChannel;return new Promise(r=>{let o=()=>{n.onmessage=null,e.close(),n.close(),r()};n.onmessage=()=>o();try{e.postMessage(t,[t])}catch{}finally{o()}})};var Aw=(t,e,n,r,o,i,s,a,c,u,l)=>(d,h)=>{let f=s(d)?d:i(d);if(o.has(h)){let p=n();return Promise.reject(p)}try{o.add(h)}catch{}return e(c,()=>c(f))?f.decodeAudioData(h).then(p=>(Np(h).catch(()=>{}),e(a,()=>a(p))||l(p),t.add(p),p)):new Promise((p,g)=>{let m=()=>z(void 0,null,function*(){try{yield Np(h)}catch{}}),v=D=>{g(D),m()};try{f.decodeAudioData(h,D=>{typeof D.copyFromChannel!="function"&&(u(D),Zi(D)),t.add(D),m().then(()=>p(D))},D=>{v(D===null?r():D)})}catch(D){v(D)}})};var Mw=(t,e,n,r,o,i,s,a)=>(c,u)=>{let l=e.get(c);if(l===void 0)throw new Error("Missing the expected cycle count.");let d=i(c.context),h=a(d);if(l===u){if(e.delete(c),!h&&s(c)){let f=r(c),{outputs:p}=n(c);for(let g of p)if(oo(g)){let m=r(g[0]);t(f,m,g[1],g[2])}else{let m=o(g[0]);f.connect(m,g[1])}}}else e.set(c,l-u)};var cO={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},Nw=(t,e,n,r,o,i,s)=>class extends t{constructor(c,u){let l=o(c),d=x(x({},cO),u),h=r(l,d),f=i(l),p=f?n(d.maxDelayTime):null;super(c,!1,h,p),this._delayTime=e(this,f,h.delayTime),s(this,d.maxDelayTime)}get delayTime(){return this._delayTime}};var Ow=(t,e,n,r,o)=>i=>{let s=new WeakMap,a=(c,u)=>z(void 0,null,function*(){let l=n(c),d=Te(l,u);if(!d){let h={channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,delayTime:l.delayTime.value,maxDelayTime:i};l=e(u,h)}return s.set(u,l),d?yield t(u,c.delayTime,l.delayTime):yield r(u,c.delayTime,l.delayTime),yield o(c,u,l),l});return{render(c,u){let l=s.get(u);return l!==void 0?Promise.resolve(l):a(c,u)}}};var kw=t=>(e,n,r,o)=>t(e[o],i=>i[0]===n&&i[1]===r);var Rw=t=>(e,n)=>{t(e).delete(n)};var Fw=t=>"delayTime"in t;var Pw=(t,e,n)=>function r(o,i){let s=Ro(i)?i:n(t,i);if(Fw(s))return[];if(o[0]===s)return[o];if(o.includes(s))return[];let{outputs:a}=e(s);return Array.from(a).map(c=>r([...o,s],c[0])).reduce((c,u)=>c.concat(u),[])};var nl=(t,e,n)=>{let r=e[n];if(r===void 0)throw t();return r},Vw=t=>(e,n=void 0,r=void 0,o=0)=>n===void 0?e.forEach(i=>i.disconnect()):typeof n=="number"?nl(t,e,n).disconnect():Po(n)?r===void 0?e.forEach(i=>i.disconnect(n)):o===void 0?nl(t,e,r).disconnect(n,0):nl(t,e,r).disconnect(n,0,o):r===void 0?e.forEach(i=>i.disconnect(n)):nl(t,e,r).disconnect(n,0);var uO={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},Lw=(t,e,n,r,o,i,s,a)=>class extends t{constructor(u,l){let d=i(u),h=x(x({},uO),l),f=r(d,h),p=s(d),g=p?n():null;super(u,!1,f,g),this._attack=e(this,p,f.attack),this._knee=e(this,p,f.knee),this._nativeDynamicsCompressorNode=f,this._ratio=e(this,p,f.ratio),this._release=e(this,p,f.release),this._threshold=e(this,p,f.threshold),a(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(u){let l=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=u,u>2)throw this._nativeDynamicsCompressorNode.channelCount=l,o()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(u){let l=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=u,u==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=l,o()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}};var jw=(t,e,n,r,o)=>()=>{let i=new WeakMap,s=(a,c)=>z(void 0,null,function*(){let u=n(a),l=Te(u,c);if(!l){let d={attack:u.attack.value,channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,knee:u.knee.value,ratio:u.ratio.value,release:u.release.value,threshold:u.threshold.value};u=e(c,d)}return i.set(c,u),l?(yield t(c,a.attack,u.attack),yield t(c,a.knee,u.knee),yield t(c,a.ratio,u.ratio),yield t(c,a.release,u.release),yield t(c,a.threshold,u.threshold)):(yield r(c,a.attack,u.attack),yield r(c,a.knee,u.knee),yield r(c,a.ratio,u.ratio),yield r(c,a.release,u.release),yield r(c,a.threshold,u.threshold)),yield o(a,c,u),u});return{render(a,c){let u=i.get(c);return u!==void 0?Promise.resolve(u):s(a,c)}}};var Bw=()=>new DOMException("","EncodingError");var Uw=t=>e=>new Promise((n,r)=>{if(t===null){r(new SyntaxError);return}let o=t.document.head;if(o===null)r(new SyntaxError);else{let i=t.document.createElement("script"),s=new Blob([e],{type:"application/javascript"}),a=URL.createObjectURL(s),c=t.onerror,u=()=>{t.onerror=c,URL.revokeObjectURL(a)};t.onerror=(l,d,h,f,p)=>{if(d===a||d===t.location.href&&h===1&&f===1)return u(),r(p),!1;if(c!==null)return c(l,d,h,f,p)},i.onerror=()=>{u(),r(new SyntaxError)},i.onload=()=>{u(),n()},i.src=a,i.type="module",o.appendChild(i)}});var qw=t=>class{constructor(n){this._nativeEventTarget=n,this._listeners=new WeakMap}addEventListener(n,r,o){if(r!==null){let i=this._listeners.get(r);i===void 0&&(i=t(this,r),typeof r=="function"&&this._listeners.set(r,i)),this._nativeEventTarget.addEventListener(n,i,o)}}dispatchEvent(n){return this._nativeEventTarget.dispatchEvent(n)}removeEventListener(n,r,o){let i=r===null?void 0:this._listeners.get(r);this._nativeEventTarget.removeEventListener(n,i===void 0?null:i,o)}};var $w=t=>(e,n,r)=>{Object.defineProperties(t,{currentFrame:{configurable:!0,get(){return Math.round(e*n)}},currentTime:{configurable:!0,get(){return e}}});try{return r()}finally{t!==null&&(delete t.currentFrame,delete t.currentTime)}};var Hw=t=>e=>z(void 0,null,function*(){try{let n=yield fetch(e);if(n.ok)return[yield n.text(),n.url]}catch{}throw t()});var lO={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},Ww=(t,e,n,r,o,i)=>class extends t{constructor(a,c){let u=o(a),l=x(x({},lO),c),d=r(u,l),h=i(u),f=h?n():null;super(a,!1,d,f),this._gain=e(this,h,d.gain,Xe,nt)}get gain(){return this._gain}};var Gw=(t,e,n,r,o)=>()=>{let i=new WeakMap,s=(a,c)=>z(void 0,null,function*(){let u=n(a),l=Te(u,c);if(!l){let d={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,gain:u.gain.value};u=e(c,d)}return i.set(c,u),l?yield t(c,a.gain,u.gain):yield r(c,a.gain,u.gain),yield o(a,c,u),u});return{render(a,c){let u=i.get(c);return u!==void 0?Promise.resolve(u):s(a,c)}}};var zw=(t,e)=>n=>e(t,n);var Zw=t=>e=>{let n=t(e);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return n.renderer};var Yw=t=>e=>{var n;return(n=t.get(e))!==null&&n!==void 0?n:0};var Qw=t=>e=>{let n=t(e);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return n.renderer};var Xw=t=>e=>t.get(e);var He=()=>new DOMException("","InvalidStateError");var Kw=t=>e=>{let n=t.get(e);if(n===void 0)throw He();return n};var Jw=(t,e)=>n=>{let r=t.get(n);if(r!==void 0)return r;if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");return r=new e(1,1,44100),t.set(n,r),r};var e0=t=>e=>{let n=t.get(e);if(n===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return n};var ts=()=>new DOMException("","InvalidAccessError");var t0=t=>{t.getFrequencyResponse=(e=>(n,r,o)=>{if(n.length!==r.length||r.length!==o.length)throw ts();return e.call(t,n,r,o)})(t.getFrequencyResponse)};var dO={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},n0=(t,e,n,r,o,i)=>class extends t{constructor(a,c){let u=r(a),l=o(u),d=x(x({},dO),c),h=e(u,l?null:a.baseLatency,d),f=l?n(d.feedback,d.feedforward):null;super(a,!1,h,f),t0(h),this._nativeIIRFilterNode=h,i(this,1)}getFrequencyResponse(a,c,u){return this._nativeIIRFilterNode.getFrequencyResponse(a,c,u)}};var rl=(t,e,n,r,o,i,s,a,c,u,l)=>{let d=u.length,h=a;for(let f=0;f<d;f+=1){let p=n[0]*u[f];for(let g=1;g<o;g+=1){let m=h-g&c-1;p+=n[g]*i[m],p-=t[g]*s[m]}for(let g=o;g<r;g+=1)p+=n[g]*i[h-g&c-1];for(let g=o;g<e;g+=1)p-=t[g]*s[h-g&c-1];i[h]=u[f],s[h]=p,h=h+1&c-1,l[f]=p}return h};var hO=(t,e,n,r)=>{let o=n instanceof Float64Array?n:new Float64Array(n),i=r instanceof Float64Array?r:new Float64Array(r),s=o.length,a=i.length,c=Math.min(s,a);if(o[0]!==1){for(let p=0;p<s;p+=1)i[p]/=o[0];for(let p=1;p<a;p+=1)o[p]/=o[0]}let u=32,l=new Float32Array(u),d=new Float32Array(u),h=e.createBuffer(t.numberOfChannels,t.length,t.sampleRate),f=t.numberOfChannels;for(let p=0;p<f;p+=1){let g=t.getChannelData(p),m=h.getChannelData(p);l.fill(0),d.fill(0),rl(o,s,i,a,c,l,d,0,u,g,m)}return h},r0=(t,e,n,r,o)=>(i,s)=>{let a=new WeakMap,c=null,u=(l,d)=>z(void 0,null,function*(){let h=null,f=e(l),p=Te(f,d);if(d.createIIRFilter===void 0?h=t(d,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):p||(f=d.createIIRFilter(s,i)),a.set(d,h===null?f:h),h!==null){if(c===null){if(n===null)throw new Error("Missing the native OfflineAudioContext constructor.");let m=new n(l.context.destination.channelCount,l.context.length,d.sampleRate);c=(()=>z(void 0,null,function*(){yield r(l,m,m.destination);let v=yield o(m);return hO(v,d,i,s)}))()}let g=yield c;return h.buffer=g,h.start(0),h}return yield r(l,d,f),f});return{render(l,d){let h=a.get(d);return h!==void 0?Promise.resolve(h):u(l,d)}}};var o0=(t,e,n,r,o,i)=>s=>(a,c)=>{let u=t.get(a);if(u===void 0){if(!s&&i(a)){let l=r(a),{outputs:d}=n(a);for(let h of d)if(oo(h)){let f=r(h[0]);e(l,f,h[1],h[2])}else{let f=o(h[0]);l.disconnect(f,h[1])}}t.set(a,c)}else t.set(a,u+c)};var i0=(t,e)=>n=>{let r=t.get(n);return e(r)||e(n)};var s0=(t,e)=>n=>t.has(n)||e(n);var a0=(t,e)=>n=>t.has(n)||e(n);var c0=(t,e)=>n=>{let r=t.get(n);return e(r)||e(n)};var u0=t=>e=>t!==null&&e instanceof t;var l0=t=>e=>t!==null&&typeof t.AudioNode=="function"&&e instanceof t.AudioNode;var d0=t=>e=>t!==null&&typeof t.AudioParam=="function"&&e instanceof t.AudioParam;var h0=(t,e)=>n=>t(n)||e(n);var f0=t=>e=>t!==null&&e instanceof t;var p0=t=>t!==null&&t.isSecureContext;var m0=(t,e,n,r)=>class extends t{constructor(i,s){let a=n(i),c=e(a,s);if(r(a))throw TypeError();super(i,!0,c,null),this._nativeMediaElementAudioSourceNode=c}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}};var fO={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},g0=(t,e,n,r)=>class extends t{constructor(i,s){let a=n(i);if(r(a))throw new TypeError;let c=x(x({},fO),s),u=e(a,c);super(i,!1,u,null),this._nativeMediaStreamAudioDestinationNode=u}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}};var v0=(t,e,n,r)=>class extends t{constructor(i,s){let a=n(i),c=e(a,s);if(r(a))throw new TypeError;super(i,!0,c,null),this._nativeMediaStreamAudioSourceNode=c}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}};var y0=(t,e,n)=>class extends t{constructor(o,i){let s=n(o),a=e(s,i);super(o,!0,a,null)}};var _0=(t,e,n,r,o)=>class extends r{constructor(s={}){if(o===null)throw new Error("Missing the native AudioContext constructor.");let a;try{a=new o(s)}catch(l){throw l.code===12&&l.message==="sampleRate is not in range"?e():l}if(a===null)throw n();if(!Ju(s.latencyHint))throw new TypeError(`The provided value '${s.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(s.sampleRate!==void 0&&a.sampleRate!==s.sampleRate)throw e();super(a,2);let{latencyHint:c}=s,{sampleRate:u}=a;if(this._baseLatency=typeof a.baseLatency=="number"?a.baseLatency:c==="balanced"?512/u:c==="interactive"||c===void 0?256/u:c==="playback"?1024/u:Math.max(2,Math.min(128,Math.round(c*u/128)))*128/u,this._nativeAudioContext=a,o.name==="webkitAudioContext"?(this._nativeGainNode=a.createGain(),this._nativeOscillatorNode=a.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(a.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,a.state==="running"){this._state="suspended";let l=()=>{this._state==="suspended"&&(this._state=null),a.removeEventListener("statechange",l)};a.addEventListener("statechange",l)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw t()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),ro(this)}))}resume(){return this._state==="suspended"?new Promise((s,a)=>{let c=()=>{this._nativeAudioContext.removeEventListener("statechange",c),this._nativeAudioContext.state==="running"?s():this.resume().then(s,a)};this._nativeAudioContext.addEventListener("statechange",c)}):this._nativeAudioContext.resume().catch(s=>{throw s===void 0||s.code===15?t():s})}suspend(){return this._nativeAudioContext.suspend().catch(s=>{throw s===void 0?t():s})}};var x0=(t,e,n,r,o,i)=>class extends n{constructor(a,c){super(a),this._nativeContext=a,Gi.set(this,a),r(a)&&o.set(a,new Set),this._destination=new t(this,c),this._listener=e(this,a),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(a){let c=typeof a=="function"?i(this,a):null;this._nativeContext.onstatechange=c;let u=this._nativeContext.onstatechange;this._onstatechange=u!==null&&u===c?a:u}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}};var Gn=t=>{let e=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{let n=t.decodeAudioData(e.buffer,()=>{});return n===void 0?!1:(n.catch(()=>{}),!0)}catch{}return!1};var pO={numberOfChannels:1},w0=(t,e,n,r,o)=>class extends r{constructor(s){let{length:a,numberOfChannels:c,sampleRate:u}=x(x({},pO),s),l=n(c,a,u);t(Gn,()=>Gn(l))||l.addEventListener("statechange",(()=>{let d=0,h=f=>{this._state==="running"&&(d>0?(l.removeEventListener("statechange",h),f.stopImmediatePropagation(),this._waitForThePromiseToSettle(f)):d+=1)};return h})()),super(l,c),this._length=a,this._nativeOfflineAudioContext=l,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(e()):(this._state="running",o(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,ro(this)}))}_waitForThePromiseToSettle(s){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(s):setTimeout(()=>this._waitForThePromiseToSettle(s))}};var b0=(t,e)=>(n,r,o)=>{let i=new Set;return n.connect=(s=>(a,c=0,u=0)=>{let l=i.size===0;if(e(a))return s.call(n,a,c,u),t(i,[a,c,u],d=>d[0]===a&&d[1]===c&&d[2]===u,!0),l&&r(),a;s.call(n,a,c),t(i,[a,c],d=>d[0]===a&&d[1]===c,!0),l&&r()})(n.connect),n.disconnect=(s=>(a,c,u)=>{let l=i.size>0;if(a===void 0)s.apply(n),i.clear();else if(typeof a=="number"){s.call(n,a);for(let h of i)h[1]===a&&i.delete(h)}else{e(a)?s.call(n,a,c,u):s.call(n,a,c);for(let h of i)h[0]===a&&(c===void 0||h[1]===c)&&(u===void 0||h[2]===u)&&i.delete(h)}let d=i.size===0;l&&d&&o()})(n.disconnect),n};var Ee=(t,e,n)=>{let r=e[n];r!==void 0&&r!==t[n]&&(t[n]=r)};var ge=(t,e)=>{Ee(t,e,"channelCount"),Ee(t,e,"channelCountMode"),Ee(t,e,"channelInterpretation")};var Op=t=>typeof t.getFloatTimeDomainData=="function";var C0=t=>{t.getFloatTimeDomainData=e=>{let n=new Uint8Array(e.length);t.getByteTimeDomainData(n);let r=Math.max(n.length,t.fftSize);for(let o=0;o<r;o+=1)e[o]=(n[o]-128)*.0078125;return e}};var D0=(t,e)=>(n,r)=>{let o=n.createAnalyser();if(ge(o,r),!(r.maxDecibels>r.minDecibels))throw e();return Ee(o,r,"fftSize"),Ee(o,r,"maxDecibels"),Ee(o,r,"minDecibels"),Ee(o,r,"smoothingTimeConstant"),t(Op,()=>Op(o))||C0(o),o};var S0=t=>t===null?null:t.hasOwnProperty("AudioBuffer")?t.AudioBuffer:null;var Me=(t,e,n)=>{let r=e[n];r!==void 0&&r!==t[n].value&&(t[n].value=r)};var T0=t=>{t.start=(e=>{let n=!1;return(r=0,o=0,i)=>{if(n)throw He();e.call(t,r,o,i),n=!0}})(t.start)};var ns=t=>{t.start=(e=>(n=0,r=0,o)=>{if(typeof o=="number"&&o<0||r<0||n<0)throw new RangeError("The parameters can't be negative.");e.call(t,n,r,o)})(t.start)};var rs=t=>{t.stop=(e=>(n=0)=>{if(n<0)throw new RangeError("The parameter can't be negative.");e.call(t,n)})(t.stop)};var E0=(t,e,n,r,o,i,s,a,c,u,l)=>(d,h)=>{let f=d.createBufferSource();return ge(f,h),Me(f,h,"playbackRate"),Ee(f,h,"buffer"),Ee(f,h,"loop"),Ee(f,h,"loopEnd"),Ee(f,h,"loopStart"),e(n,()=>n(d))||T0(f),e(r,()=>r(d))||c(f),e(o,()=>o(d))||u(f,d),e(i,()=>i(d))||ns(f),e(s,()=>s(d))||l(f,d),e(a,()=>a(d))||rs(f),t(d,f),f};var I0=t=>t===null?null:t.hasOwnProperty("AudioContext")?t.AudioContext:t.hasOwnProperty("webkitAudioContext")?t.webkitAudioContext:null;var A0=(t,e)=>(n,r,o)=>{let i=n.destination;if(i.channelCount!==r)try{i.channelCount=r}catch{}o&&i.channelCountMode!=="explicit"&&(i.channelCountMode="explicit"),i.maxChannelCount===0&&Object.defineProperty(i,"maxChannelCount",{value:r});let s=t(n,{channelCount:r,channelCountMode:i.channelCountMode,channelInterpretation:i.channelInterpretation,gain:1});return e(s,"channelCount",a=>()=>a.call(s),a=>c=>{a.call(s,c);try{i.channelCount=c}catch(u){if(c>i.maxChannelCount)throw u}}),e(s,"channelCountMode",a=>()=>a.call(s),a=>c=>{a.call(s,c),i.channelCountMode=c}),e(s,"channelInterpretation",a=>()=>a.call(s),a=>c=>{a.call(s,c),i.channelInterpretation=c}),Object.defineProperty(s,"maxChannelCount",{get:()=>i.maxChannelCount}),s.connect(i),s};var M0=t=>t===null?null:t.hasOwnProperty("AudioWorkletNode")?t.AudioWorkletNode:null;var N0=t=>{let{port1:e}=new MessageChannel;try{e.postMessage(t)}finally{e.close()}};var O0=(t,e,n,r,o)=>(i,s,a,c,u,l)=>{if(a!==null)try{let d=new a(i,c,l),h=new Map,f=null;if(Object.defineProperties(d,{channelCount:{get:()=>l.channelCount,set:()=>{throw t()}},channelCountMode:{get:()=>"explicit",set:()=>{throw t()}},onprocessorerror:{get:()=>f,set:p=>{typeof f=="function"&&d.removeEventListener("processorerror",f),f=typeof p=="function"?p:null,typeof f=="function"&&d.addEventListener("processorerror",f)}}}),d.addEventListener=(p=>(...g)=>{if(g[0]==="processorerror"){let m=typeof g[1]=="function"?g[1]:typeof g[1]=="object"&&g[1]!==null&&typeof g[1].handleEvent=="function"?g[1].handleEvent:null;if(m!==null){let v=h.get(g[1]);v!==void 0?g[1]=v:(g[1]=D=>{D.type==="error"?(Object.defineProperties(D,{type:{value:"processorerror"}}),m(D)):m(new ErrorEvent(g[0],x({},D)))},h.set(m,g[1]))}}return p.call(d,"error",g[1],g[2]),p.call(d,...g)})(d.addEventListener),d.removeEventListener=(p=>(...g)=>{if(g[0]==="processorerror"){let m=h.get(g[1]);m!==void 0&&(h.delete(g[1]),g[1]=m)}return p.call(d,"error",g[1],g[2]),p.call(d,g[0],g[1],g[2])})(d.removeEventListener),l.numberOfOutputs!==0){let p=n(i,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return d.connect(p).connect(i.destination),o(d,()=>p.disconnect(),()=>p.connect(i.destination))}return d}catch(d){throw d.code===11?r():d}if(u===void 0)throw r();return N0(l),e(i,s,u,l)};var ol=(t,e)=>t===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(t*e)))));var k0=t=>new Promise((e,n)=>{let{port1:r,port2:o}=new MessageChannel;r.onmessage=({data:i})=>{r.close(),o.close(),e(i)},r.onmessageerror=({data:i})=>{r.close(),o.close(),n(i)},o.postMessage(t)});var R0=(t,e)=>z(void 0,null,function*(){let n=yield k0(e);return new t(n)});var F0=(t,e,n,r)=>{let o=Ua.get(t);o===void 0&&(o=new WeakMap,Ua.set(t,o));let i=R0(n,r);return o.set(e,i),i};var P0=(t,e,n,r,o,i,s,a,c,u,l,d,h)=>(f,p,g,m)=>{if(m.numberOfInputs===0&&m.numberOfOutputs===0)throw c();let v=Array.isArray(m.outputChannelCount)?m.outputChannelCount:Array.from(m.outputChannelCount);if(v.some(q=>q<1))throw c();if(v.length!==m.numberOfOutputs)throw e();if(m.channelCountMode!=="explicit")throw c();let D=m.channelCount*m.numberOfInputs,I=v.reduce((q,Y)=>q+Y,0),N=g.parameterDescriptors===void 0?0:g.parameterDescriptors.length;if(D+N>6||I>6)throw c();let C=new MessageChannel,b=[],_=[];for(let q=0;q<m.numberOfInputs;q+=1)b.push(s(f,{channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation,gain:1})),_.push(o(f,{channelCount:m.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:m.channelCount}));let w=[];if(g.parameterDescriptors!==void 0)for(let{defaultValue:q,maxValue:Y,minValue:mt,name:Ge}of g.parameterDescriptors){let Ae=i(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:m.parameterData[Ge]!==void 0?m.parameterData[Ge]:q===void 0?0:q});Object.defineProperties(Ae.offset,{defaultValue:{get:()=>q===void 0?0:q},maxValue:{get:()=>Y===void 0?Xe:Y},minValue:{get:()=>mt===void 0?nt:mt}}),w.push(Ae)}let R=r(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,D+N)}),H=ol(p,f.sampleRate),k=a(f,H,D+N,Math.max(1,I)),M=o(f,{channelCount:Math.max(1,I),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,I)}),W=[];for(let q=0;q<m.numberOfOutputs;q+=1)W.push(r(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:v[q]}));for(let q=0;q<m.numberOfInputs;q+=1){b[q].connect(_[q]);for(let Y=0;Y<m.channelCount;Y+=1)_[q].connect(R,Y,q*m.channelCount+Y)}let E=new Ki(g.parameterDescriptors===void 0?[]:g.parameterDescriptors.map(({name:q},Y)=>{let mt=w[Y];return mt.connect(R,0,D+Y),mt.start(0),[q,mt.offset]}));R.connect(k);let S=m.channelInterpretation,A=null,T=m.numberOfOutputs===0?[k]:W,L={get bufferSize(){return H},get channelCount(){return m.channelCount},set channelCount(q){throw n()},get channelCountMode(){return m.channelCountMode},set channelCountMode(q){throw n()},get channelInterpretation(){return S},set channelInterpretation(q){for(let Y of b)Y.channelInterpretation=q;S=q},get context(){return k.context},get inputs(){return b},get numberOfInputs(){return m.numberOfInputs},get numberOfOutputs(){return m.numberOfOutputs},get onprocessorerror(){return A},set onprocessorerror(q){typeof A=="function"&&L.removeEventListener("processorerror",A),A=typeof q=="function"?q:null,typeof A=="function"&&L.addEventListener("processorerror",A)},get parameters(){return E},get port(){return C.port2},addEventListener(...q){return k.addEventListener(q[0],q[1],q[2])},connect:t.bind(null,T),disconnect:u.bind(null,T),dispatchEvent(...q){return k.dispatchEvent(q[0])},removeEventListener(...q){return k.removeEventListener(q[0],q[1],q[2])}},O=new Map;C.port1.addEventListener=(q=>(...Y)=>{if(Y[0]==="message"){let mt=typeof Y[1]=="function"?Y[1]:typeof Y[1]=="object"&&Y[1]!==null&&typeof Y[1].handleEvent=="function"?Y[1].handleEvent:null;if(mt!==null){let Ge=O.get(Y[1]);Ge!==void 0?Y[1]=Ge:(Y[1]=Ae=>{l(f.currentTime,f.sampleRate,()=>mt(Ae))},O.set(mt,Y[1]))}}return q.call(C.port1,Y[0],Y[1],Y[2])})(C.port1.addEventListener),C.port1.removeEventListener=(q=>(...Y)=>{if(Y[0]==="message"){let mt=O.get(Y[1]);mt!==void 0&&(O.delete(Y[1]),Y[1]=mt)}return q.call(C.port1,Y[0],Y[1],Y[2])})(C.port1.removeEventListener);let U=null;Object.defineProperty(C.port1,"onmessage",{get:()=>U,set:q=>{typeof U=="function"&&C.port1.removeEventListener("message",U),U=typeof q=="function"?q:null,typeof U=="function"&&(C.port1.addEventListener("message",U),C.port1.start())}}),g.prototype.port=C.port1;let P=null;F0(f,L,g,m).then(q=>P=q);let Le=es(m.numberOfInputs,m.channelCount),vt=es(m.numberOfOutputs,v),bt=g.parameterDescriptors===void 0?[]:g.parameterDescriptors.reduce((q,{name:Y})=>V(x({},q),{[Y]:new Float32Array(128)}),{}),xe=!0,re=()=>{m.numberOfOutputs>0&&k.disconnect(M);for(let q=0,Y=0;q<m.numberOfOutputs;q+=1){let mt=W[q];for(let Ge=0;Ge<v[q];Ge+=1)M.disconnect(mt,Y+Ge,Ge);Y+=v[q]}},pn=new Map;k.onaudioprocess=({inputBuffer:q,outputBuffer:Y})=>{if(P!==null){let mt=d(L);for(let Ge=0;Ge<H;Ge+=128){for(let Ae=0;Ae<m.numberOfInputs;Ae+=1)for(let ze=0;ze<m.channelCount;ze+=1)Ji(q,Le[Ae],ze,ze,Ge);g.parameterDescriptors!==void 0&&g.parameterDescriptors.forEach(({name:Ae},ze)=>{Ji(q,bt,Ae,D+ze,Ge)});for(let Ae=0;Ae<m.numberOfInputs;Ae+=1)for(let ze=0;ze<v[Ae];ze+=1)vt[Ae][ze].byteLength===0&&(vt[Ae][ze]=new Float32Array(128));try{let Ae=Le.map((mn,Lr)=>{if(mt[Lr].size>0)return pn.set(Lr,H/128),mn;let $l=pn.get(Lr);return $l===void 0?[]:(mn.every(HC=>HC.every(WC=>WC===0))&&($l===1?pn.delete(Lr):pn.set(Lr,$l-1)),mn)});xe=l(f.currentTime+Ge/f.sampleRate,f.sampleRate,()=>P.process(Ae,vt,bt));for(let mn=0,Lr=0;mn<m.numberOfOutputs;mn+=1){for(let Ns=0;Ns<v[mn];Ns+=1)tl(Y,vt[mn],Ns,Lr+Ns,Ge);Lr+=v[mn]}}catch(Ae){xe=!1,L.dispatchEvent(new ErrorEvent("processorerror",{colno:Ae.colno,filename:Ae.filename,lineno:Ae.lineno,message:Ae.message}))}if(!xe){for(let Ae=0;Ae<m.numberOfInputs;Ae+=1){b[Ae].disconnect(_[Ae]);for(let ze=0;ze<m.channelCount;ze+=1)_[Ge].disconnect(R,ze,Ae*m.channelCount+ze)}if(g.parameterDescriptors!==void 0){let Ae=g.parameterDescriptors.length;for(let ze=0;ze<Ae;ze+=1){let mn=w[ze];mn.disconnect(R,0,D+ze),mn.stop()}}R.disconnect(k),k.onaudioprocess=null,tr?re():Sr();break}}}};let tr=!1,Z=s(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),nn=()=>k.connect(Z).connect(f.destination),Sr=()=>{k.disconnect(Z),Z.disconnect()},Fn=()=>{if(xe){Sr(),m.numberOfOutputs>0&&k.connect(M);for(let q=0,Y=0;q<m.numberOfOutputs;q+=1){let mt=W[q];for(let Ge=0;Ge<v[q];Ge+=1)M.connect(mt,Y+Ge,Ge);Y+=v[q]}}tr=!0},nr=()=>{xe&&(nn(),re()),tr=!1};return nn(),h(L,Fn,nr)};var kp=(t,e)=>{let n=t.createBiquadFilter();return ge(n,e),Me(n,e,"Q"),Me(n,e,"detune"),Me(n,e,"frequency"),Me(n,e,"gain"),Ee(n,e,"type"),n};var V0=(t,e)=>(n,r)=>{let o=n.createChannelMerger(r.numberOfInputs);return t!==null&&t.name==="webkitAudioContext"&&e(n,o),ge(o,r),o};var L0=t=>{let e=t.numberOfOutputs;Object.defineProperty(t,"channelCount",{get:()=>e,set:n=>{if(n!==e)throw He()}}),Object.defineProperty(t,"channelCountMode",{get:()=>"explicit",set:n=>{if(n!=="explicit")throw He()}}),Object.defineProperty(t,"channelInterpretation",{get:()=>"discrete",set:n=>{if(n!=="discrete")throw He()}})};var os=(t,e)=>{let n=t.createChannelSplitter(e.numberOfOutputs);return ge(n,e),L0(n),n};var j0=(t,e,n,r,o)=>(i,s)=>{if(i.createConstantSource===void 0)return n(i,s);let a=i.createConstantSource();return ge(a,s),Me(a,s,"offset"),e(r,()=>r(i))||ns(a),e(o,()=>o(i))||rs(a),t(i,a),a};var In=(t,e)=>(t.connect=e.connect.bind(e),t.disconnect=e.disconnect.bind(e),t);var B0=(t,e,n,r)=>(o,a)=>{var c=a,{offset:i}=c,s=jr(c,["offset"]);let u=o.createBuffer(1,2,44100),l=e(o,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),d=n(o,V(x({},s),{gain:i})),h=u.getChannelData(0);h[0]=1,h[1]=1,l.buffer=u,l.loop=!0;let f={get bufferSize(){},get channelCount(){return d.channelCount},set channelCount(m){d.channelCount=m},get channelCountMode(){return d.channelCountMode},set channelCountMode(m){d.channelCountMode=m},get channelInterpretation(){return d.channelInterpretation},set channelInterpretation(m){d.channelInterpretation=m},get context(){return d.context},get inputs(){return[]},get numberOfInputs(){return l.numberOfInputs},get numberOfOutputs(){return d.numberOfOutputs},get offset(){return d.gain},get onended(){return l.onended},set onended(m){l.onended=m},addEventListener(...m){return l.addEventListener(m[0],m[1],m[2])},dispatchEvent(...m){return l.dispatchEvent(m[0])},removeEventListener(...m){return l.removeEventListener(m[0],m[1],m[2])},start(m=0){l.start.call(l,m)},stop(m=0){l.stop.call(l,m)}},p=()=>l.connect(d),g=()=>l.disconnect(d);return t(o,l),r(In(f,d),p,g)};var U0=(t,e)=>(n,r)=>{let o=n.createConvolver();if(ge(o,r),r.disableNormalization===o.normalize&&(o.normalize=!r.disableNormalization),Ee(o,r,"buffer"),r.channelCount>2||(e(o,"channelCount",i=>()=>i.call(o),i=>s=>{if(s>2)throw t();return i.call(o,s)}),r.channelCountMode==="max"))throw t();return e(o,"channelCountMode",i=>()=>i.call(o),i=>s=>{if(s==="max")throw t();return i.call(o,s)}),o};var Rp=(t,e)=>{let n=t.createDelay(e.maxDelayTime);return ge(n,e),Me(n,e,"delayTime"),n};var q0=t=>(e,n)=>{let r=e.createDynamicsCompressor();if(ge(r,n),n.channelCount>2||n.channelCountMode==="max")throw t();return Me(r,n,"attack"),Me(r,n,"knee"),Me(r,n,"ratio"),Me(r,n,"release"),Me(r,n,"threshold"),r};var Ut=(t,e)=>{let n=t.createGain();return ge(n,e),Me(n,e,"gain"),n};var $0=t=>(e,n,r)=>{if(e.createIIRFilter===void 0)return t(e,n,r);let o=e.createIIRFilter(r.feedforward,r.feedback);return ge(o,r),o};function mO(t,e){let n=e[0]*e[0]+e[1]*e[1];return[(t[0]*e[0]+t[1]*e[1])/n,(t[1]*e[0]-t[0]*e[1])/n]}function gO(t,e){return[t[0]*e[0]-t[1]*e[1],t[0]*e[1]+t[1]*e[0]]}function H0(t,e){let n=[0,0];for(let r=t.length-1;r>=0;r-=1)n=gO(n,e),n[0]+=t[r];return n}var W0=(t,e,n,r)=>(o,i,{channelCount:s,channelCountMode:a,channelInterpretation:c,feedback:u,feedforward:l})=>{let d=ol(i,o.sampleRate),h=u instanceof Float64Array?u:new Float64Array(u),f=l instanceof Float64Array?l:new Float64Array(l),p=h.length,g=f.length,m=Math.min(p,g);if(p===0||p>20)throw r();if(h[0]===0)throw e();if(g===0||g>20)throw r();if(f[0]===0)throw e();if(h[0]!==1){for(let w=0;w<g;w+=1)f[w]/=h[0];for(let w=1;w<p;w+=1)h[w]/=h[0]}let v=n(o,d,s,s);v.channelCount=s,v.channelCountMode=a,v.channelInterpretation=c;let D=32,I=[],N=[],C=[];for(let w=0;w<s;w+=1){I.push(0);let R=new Float32Array(D),H=new Float32Array(D);R.fill(0),H.fill(0),N.push(R),C.push(H)}v.onaudioprocess=w=>{let R=w.inputBuffer,H=w.outputBuffer,k=R.numberOfChannels;for(let M=0;M<k;M+=1){let W=R.getChannelData(M),E=H.getChannelData(M);I[M]=rl(h,p,f,g,m,N[M],C[M],I[M],D,W,E)}};let b=o.sampleRate/2;return In({get bufferSize(){return d},get channelCount(){return v.channelCount},set channelCount(w){v.channelCount=w},get channelCountMode(){return v.channelCountMode},set channelCountMode(w){v.channelCountMode=w},get channelInterpretation(){return v.channelInterpretation},set channelInterpretation(w){v.channelInterpretation=w},get context(){return v.context},get inputs(){return[v]},get numberOfInputs(){return v.numberOfInputs},get numberOfOutputs(){return v.numberOfOutputs},addEventListener(...w){return v.addEventListener(w[0],w[1],w[2])},dispatchEvent(...w){return v.dispatchEvent(w[0])},getFrequencyResponse(w,R,H){if(w.length!==R.length||R.length!==H.length)throw t();let k=w.length;for(let M=0;M<k;M+=1){let W=-Math.PI*(w[M]/b),E=[Math.cos(W),Math.sin(W)],S=H0(f,E),A=H0(h,E),T=mO(S,A);R[M]=Math.sqrt(T[0]*T[0]+T[1]*T[1]),H[M]=Math.atan2(T[1],T[0])}},removeEventListener(...w){return v.removeEventListener(w[0],w[1],w[2])}},v)};var G0=(t,e)=>t.createMediaElementSource(e.mediaElement);var z0=(t,e)=>{let n=t.createMediaStreamDestination();return ge(n,e),n.numberOfOutputs===1&&Object.defineProperty(n,"numberOfOutputs",{get:()=>0}),n};var Z0=(t,{mediaStream:e})=>{let n=e.getAudioTracks();n.sort((i,s)=>i.id<s.id?-1:i.id>s.id?1:0);let r=n.slice(0,1),o=t.createMediaStreamSource(new MediaStream(r));return Object.defineProperty(o,"mediaStream",{value:e}),o};var Y0=(t,e)=>(n,{mediaStreamTrack:r})=>{if(typeof n.createMediaStreamTrackSource=="function")return n.createMediaStreamTrackSource(r);let o=new MediaStream([r]),i=n.createMediaStreamSource(o);if(r.kind!=="audio")throw t();if(e(n))throw new TypeError;return i};var Q0=t=>t===null?null:t.hasOwnProperty("OfflineAudioContext")?t.OfflineAudioContext:t.hasOwnProperty("webkitOfflineAudioContext")?t.webkitOfflineAudioContext:null;var X0=(t,e,n,r,o,i)=>(s,a)=>{let c=s.createOscillator();return ge(c,a),Me(c,a,"detune"),Me(c,a,"frequency"),a.periodicWave!==void 0?c.setPeriodicWave(a.periodicWave):Ee(c,a,"type"),e(n,()=>n(s))||ns(c),e(r,()=>r(s))||i(c,s),e(o,()=>o(s))||rs(c),t(s,c),c};var K0=t=>(e,n)=>{let r=e.createPanner();return r.orientationX===void 0?t(e,n):(ge(r,n),Me(r,n,"orientationX"),Me(r,n,"orientationY"),Me(r,n,"orientationZ"),Me(r,n,"positionX"),Me(r,n,"positionY"),Me(r,n,"positionZ"),Ee(r,n,"coneInnerAngle"),Ee(r,n,"coneOuterAngle"),Ee(r,n,"coneOuterGain"),Ee(r,n,"distanceModel"),Ee(r,n,"maxDistance"),Ee(r,n,"panningModel"),Ee(r,n,"refDistance"),Ee(r,n,"rolloffFactor"),r)};var J0=(t,e,n,r,o,i,s,a,c,u)=>(l,H)=>{var k=H,{coneInnerAngle:d,coneOuterAngle:h,coneOuterGain:f,distanceModel:p,maxDistance:g,orientationX:m,orientationY:v,orientationZ:D,panningModel:I,positionX:N,positionY:C,positionZ:b,refDistance:_,rolloffFactor:w}=k,R=jr(k,["coneInnerAngle","coneOuterAngle","coneOuterGain","distanceModel","maxDistance","orientationX","orientationY","orientationZ","panningModel","positionX","positionY","positionZ","refDistance","rolloffFactor"]);let M=l.createPanner();if(R.channelCount>2||R.channelCountMode==="max")throw s();ge(M,R);let W={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},E=n(l,V(x({},W),{channelInterpretation:"speakers",numberOfInputs:6})),S=r(l,V(x({},R),{gain:1})),A=r(l,V(x({},W),{gain:1})),T=r(l,V(x({},W),{gain:0})),L=r(l,V(x({},W),{gain:0})),O=r(l,V(x({},W),{gain:0})),U=r(l,V(x({},W),{gain:0})),P=r(l,V(x({},W),{gain:0})),Ie=o(l,256,6,1),Le=i(l,V(x({},W),{curve:new Float32Array([1,1]),oversample:"none"})),vt=[m,v,D],bt=[N,C,b],xe=new Float32Array(1);Ie.onaudioprocess=({inputBuffer:Z})=>{let nn=[c(Z,xe,0),c(Z,xe,1),c(Z,xe,2)];nn.some((Fn,nr)=>Fn!==vt[nr])&&(M.setOrientation(...nn),vt=nn);let Sr=[c(Z,xe,3),c(Z,xe,4),c(Z,xe,5)];Sr.some((Fn,nr)=>Fn!==bt[nr])&&(M.setPosition(...Sr),bt=Sr)},Object.defineProperty(T.gain,"defaultValue",{get:()=>0}),Object.defineProperty(L.gain,"defaultValue",{get:()=>0}),Object.defineProperty(O.gain,"defaultValue",{get:()=>0}),Object.defineProperty(U.gain,"defaultValue",{get:()=>0}),Object.defineProperty(P.gain,"defaultValue",{get:()=>0});let re={get bufferSize(){},get channelCount(){return M.channelCount},set channelCount(Z){if(Z>2)throw s();S.channelCount=Z,M.channelCount=Z},get channelCountMode(){return M.channelCountMode},set channelCountMode(Z){if(Z==="max")throw s();S.channelCountMode=Z,M.channelCountMode=Z},get channelInterpretation(){return M.channelInterpretation},set channelInterpretation(Z){S.channelInterpretation=Z,M.channelInterpretation=Z},get coneInnerAngle(){return M.coneInnerAngle},set coneInnerAngle(Z){M.coneInnerAngle=Z},get coneOuterAngle(){return M.coneOuterAngle},set coneOuterAngle(Z){M.coneOuterAngle=Z},get coneOuterGain(){return M.coneOuterGain},set coneOuterGain(Z){if(Z<0||Z>1)throw e();M.coneOuterGain=Z},get context(){return M.context},get distanceModel(){return M.distanceModel},set distanceModel(Z){M.distanceModel=Z},get inputs(){return[S]},get maxDistance(){return M.maxDistance},set maxDistance(Z){if(Z<0)throw new RangeError;M.maxDistance=Z},get numberOfInputs(){return M.numberOfInputs},get numberOfOutputs(){return M.numberOfOutputs},get orientationX(){return A.gain},get orientationY(){return T.gain},get orientationZ(){return L.gain},get panningModel(){return M.panningModel},set panningModel(Z){M.panningModel=Z},get positionX(){return O.gain},get positionY(){return U.gain},get positionZ(){return P.gain},get refDistance(){return M.refDistance},set refDistance(Z){if(Z<0)throw new RangeError;M.refDistance=Z},get rolloffFactor(){return M.rolloffFactor},set rolloffFactor(Z){if(Z<0)throw new RangeError;M.rolloffFactor=Z},addEventListener(...Z){return S.addEventListener(Z[0],Z[1],Z[2])},dispatchEvent(...Z){return S.dispatchEvent(Z[0])},removeEventListener(...Z){return S.removeEventListener(Z[0],Z[1],Z[2])}};d!==re.coneInnerAngle&&(re.coneInnerAngle=d),h!==re.coneOuterAngle&&(re.coneOuterAngle=h),f!==re.coneOuterGain&&(re.coneOuterGain=f),p!==re.distanceModel&&(re.distanceModel=p),g!==re.maxDistance&&(re.maxDistance=g),m!==re.orientationX.value&&(re.orientationX.value=m),v!==re.orientationY.value&&(re.orientationY.value=v),D!==re.orientationZ.value&&(re.orientationZ.value=D),I!==re.panningModel&&(re.panningModel=I),N!==re.positionX.value&&(re.positionX.value=N),C!==re.positionY.value&&(re.positionY.value=C),b!==re.positionZ.value&&(re.positionZ.value=b),_!==re.refDistance&&(re.refDistance=_),w!==re.rolloffFactor&&(re.rolloffFactor=w),(vt[0]!==1||vt[1]!==0||vt[2]!==0)&&M.setOrientation(...vt),(bt[0]!==0||bt[1]!==0||bt[2]!==0)&&M.setPosition(...bt);let pn=()=>{S.connect(M),t(S,Le,0,0),Le.connect(A).connect(E,0,0),Le.connect(T).connect(E,0,1),Le.connect(L).connect(E,0,2),Le.connect(O).connect(E,0,3),Le.connect(U).connect(E,0,4),Le.connect(P).connect(E,0,5),E.connect(Ie).connect(l.destination)},tr=()=>{S.disconnect(M),a(S,Le,0,0),Le.disconnect(A),A.disconnect(E),Le.disconnect(T),T.disconnect(E),Le.disconnect(L),L.disconnect(E),Le.disconnect(O),O.disconnect(E),Le.disconnect(U),U.disconnect(E),Le.disconnect(P),P.disconnect(E),E.disconnect(Ie),Ie.disconnect(l.destination)};return u(In(re,M),pn,tr)};var eb=t=>(e,{disableNormalization:n,imag:r,real:o})=>{let i=r instanceof Float32Array?r:new Float32Array(r),s=o instanceof Float32Array?o:new Float32Array(o),a=e.createPeriodicWave(s,i,{disableNormalization:n});if(Array.from(r).length<2)throw t();return a};var is=(t,e,n,r)=>t.createScriptProcessor(e,n,r);var tb=(t,e)=>(n,r)=>{let o=r.channelCountMode;if(o==="clamped-max")throw e();if(n.createStereoPanner===void 0)return t(n,r);let i=n.createStereoPanner();return ge(i,r),Me(i,r,"pan"),Object.defineProperty(i,"channelCountMode",{get:()=>o,set:s=>{if(s!==o)throw e()}}),i};var nb=(t,e,n,r,o,i)=>{let a=new Float32Array([1,1]),c=Math.PI/2,u={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},l=V(x({},u),{oversample:"none"}),d=(p,g,m,v)=>{let D=new Float32Array(16385),I=new Float32Array(16385);for(let R=0;R<16385;R+=1){let H=R/16384*c;D[R]=Math.cos(H),I[R]=Math.sin(H)}let N=n(p,V(x({},u),{gain:0})),C=r(p,V(x({},l),{curve:D})),b=r(p,V(x({},l),{curve:a})),_=n(p,V(x({},u),{gain:0})),w=r(p,V(x({},l),{curve:I}));return{connectGraph(){g.connect(N),g.connect(b.inputs===void 0?b:b.inputs[0]),g.connect(_),b.connect(m),m.connect(C.inputs===void 0?C:C.inputs[0]),m.connect(w.inputs===void 0?w:w.inputs[0]),C.connect(N.gain),w.connect(_.gain),N.connect(v,0,0),_.connect(v,0,1)},disconnectGraph(){g.disconnect(N),g.disconnect(b.inputs===void 0?b:b.inputs[0]),g.disconnect(_),b.disconnect(m),m.disconnect(C.inputs===void 0?C:C.inputs[0]),m.disconnect(w.inputs===void 0?w:w.inputs[0]),C.disconnect(N.gain),w.disconnect(_.gain),N.disconnect(v,0,0),_.disconnect(v,0,1)}}},h=(p,g,m,v)=>{let D=new Float32Array(16385),I=new Float32Array(16385),N=new Float32Array(16385),C=new Float32Array(16385),b=Math.floor(16385/2);for(let T=0;T<16385;T+=1)if(T>b){let L=(T-b)/(16384-b)*c;D[T]=Math.cos(L),I[T]=Math.sin(L),N[T]=0,C[T]=1}else{let L=T/(16384-b)*c;D[T]=1,I[T]=0,N[T]=Math.cos(L),C[T]=Math.sin(L)}let _=e(p,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),w=n(p,V(x({},u),{gain:0})),R=r(p,V(x({},l),{curve:D})),H=n(p,V(x({},u),{gain:0})),k=r(p,V(x({},l),{curve:I})),M=r(p,V(x({},l),{curve:a})),W=n(p,V(x({},u),{gain:0})),E=r(p,V(x({},l),{curve:N})),S=n(p,V(x({},u),{gain:0})),A=r(p,V(x({},l),{curve:C}));return{connectGraph(){g.connect(_),g.connect(M.inputs===void 0?M:M.inputs[0]),_.connect(w,0),_.connect(H,0),_.connect(W,1),_.connect(S,1),M.connect(m),m.connect(R.inputs===void 0?R:R.inputs[0]),m.connect(k.inputs===void 0?k:k.inputs[0]),m.connect(E.inputs===void 0?E:E.inputs[0]),m.connect(A.inputs===void 0?A:A.inputs[0]),R.connect(w.gain),k.connect(H.gain),E.connect(W.gain),A.connect(S.gain),w.connect(v,0,0),W.connect(v,0,0),H.connect(v,0,1),S.connect(v,0,1)},disconnectGraph(){g.disconnect(_),g.disconnect(M.inputs===void 0?M:M.inputs[0]),_.disconnect(w,0),_.disconnect(H,0),_.disconnect(W,1),_.disconnect(S,1),M.disconnect(m),m.disconnect(R.inputs===void 0?R:R.inputs[0]),m.disconnect(k.inputs===void 0?k:k.inputs[0]),m.disconnect(E.inputs===void 0?E:E.inputs[0]),m.disconnect(A.inputs===void 0?A:A.inputs[0]),R.disconnect(w.gain),k.disconnect(H.gain),E.disconnect(W.gain),A.disconnect(S.gain),w.disconnect(v,0,0),W.disconnect(v,0,0),H.disconnect(v,0,1),S.disconnect(v,0,1)}}},f=(p,g,m,v,D)=>{if(g===1)return d(p,m,v,D);if(g===2)return h(p,m,v,D);throw o()};return(p,I)=>{var N=I,{channelCount:g,channelCountMode:m,pan:v}=N,D=jr(N,["channelCount","channelCountMode","pan"]);if(m==="max")throw o();let C=t(p,V(x({},D),{channelCount:1,channelCountMode:m,numberOfInputs:2})),b=n(p,V(x({},D),{channelCount:g,channelCountMode:m,gain:1})),_=n(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:v}),{connectGraph:w,disconnectGraph:R}=f(p,g,b,_,C);Object.defineProperty(_.gain,"defaultValue",{get:()=>0}),Object.defineProperty(_.gain,"maxValue",{get:()=>1}),Object.defineProperty(_.gain,"minValue",{get:()=>-1});let H={get bufferSize(){},get channelCount(){return b.channelCount},set channelCount(E){b.channelCount!==E&&(k&&R(),{connectGraph:w,disconnectGraph:R}=f(p,E,b,_,C),k&&w()),b.channelCount=E},get channelCountMode(){return b.channelCountMode},set channelCountMode(E){if(E==="clamped-max"||E==="max")throw o();b.channelCountMode=E},get channelInterpretation(){return b.channelInterpretation},set channelInterpretation(E){b.channelInterpretation=E},get context(){return b.context},get inputs(){return[b]},get numberOfInputs(){return b.numberOfInputs},get numberOfOutputs(){return b.numberOfOutputs},get pan(){return _.gain},addEventListener(...E){return b.addEventListener(E[0],E[1],E[2])},dispatchEvent(...E){return b.dispatchEvent(E[0])},removeEventListener(...E){return b.removeEventListener(E[0],E[1],E[2])}},k=!1,M=()=>{w(),k=!0},W=()=>{R(),k=!1};return i(In(H,C),M,W)}};var rb=(t,e,n,r,o,i,s)=>(a,c)=>{let u=a.createWaveShaper();if(i!==null&&i.name==="webkitAudioContext"&&a.createGain().gain.automationRate===void 0)return n(a,c);ge(u,c);let l=c.curve===null||c.curve instanceof Float32Array?c.curve:new Float32Array(c.curve);if(l!==null&&l.length<2)throw e();Ee(u,{curve:l},"curve"),Ee(u,c,"oversample");let d=null,h=!1;return s(u,"curve",g=>()=>g.call(u),g=>m=>(g.call(u,m),h&&(r(m)&&d===null?d=t(a,u):!r(m)&&d!==null&&(d(),d=null)),m)),o(u,()=>{h=!0,r(u.curve)&&(d=t(a,u))},()=>{h=!1,d!==null&&(d(),d=null)})};var ob=(t,e,n,r,o)=>(i,u)=>{var l=u,{curve:s,oversample:a}=l,c=jr(l,["curve","oversample"]);let d=i.createWaveShaper(),h=i.createWaveShaper();ge(d,c),ge(h,c);let f=n(i,V(x({},c),{gain:1})),p=n(i,V(x({},c),{gain:-1})),g=n(i,V(x({},c),{gain:1})),m=n(i,V(x({},c),{gain:-1})),v=null,D=!1,I=null,N={get bufferSize(){},get channelCount(){return d.channelCount},set channelCount(_){f.channelCount=_,p.channelCount=_,d.channelCount=_,g.channelCount=_,h.channelCount=_,m.channelCount=_},get channelCountMode(){return d.channelCountMode},set channelCountMode(_){f.channelCountMode=_,p.channelCountMode=_,d.channelCountMode=_,g.channelCountMode=_,h.channelCountMode=_,m.channelCountMode=_},get channelInterpretation(){return d.channelInterpretation},set channelInterpretation(_){f.channelInterpretation=_,p.channelInterpretation=_,d.channelInterpretation=_,g.channelInterpretation=_,h.channelInterpretation=_,m.channelInterpretation=_},get context(){return d.context},get curve(){return I},set curve(_){if(_!==null&&_.length<2)throw e();if(_===null)d.curve=_,h.curve=_;else{let w=_.length,R=new Float32Array(w+2-w%2),H=new Float32Array(w+2-w%2);R[0]=_[0],H[0]=-_[w-1];let k=Math.ceil((w+1)/2),M=(w+1)/2-1;for(let W=1;W<k;W+=1){let E=W/k*M,S=Math.floor(E),A=Math.ceil(E);R[W]=S===A?_[S]:(1-(E-S))*_[S]+(1-(A-E))*_[A],H[W]=S===A?-_[w-1-S]:-((1-(E-S))*_[w-1-S])-(1-(A-E))*_[w-1-A]}R[k]=w%2===1?_[k-1]:(_[k-2]+_[k-1])/2,d.curve=R,h.curve=H}I=_,D&&(r(I)&&v===null?v=t(i,f):v!==null&&(v(),v=null))},get inputs(){return[f]},get numberOfInputs(){return d.numberOfInputs},get numberOfOutputs(){return d.numberOfOutputs},get oversample(){return d.oversample},set oversample(_){d.oversample=_,h.oversample=_},addEventListener(..._){return f.addEventListener(_[0],_[1],_[2])},dispatchEvent(..._){return f.dispatchEvent(_[0])},removeEventListener(..._){return f.removeEventListener(_[0],_[1],_[2])}};s!==null&&(N.curve=s instanceof Float32Array?s:new Float32Array(s)),a!==N.oversample&&(N.oversample=a);let C=()=>{f.connect(d).connect(g),f.connect(p).connect(h).connect(m).connect(g),D=!0,r(I)&&(v=t(i,f))},b=()=>{f.disconnect(d),d.disconnect(g),f.disconnect(p),p.disconnect(h),h.disconnect(m),m.disconnect(g),D=!1,v!==null&&(v(),v=null)};return o(In(N,g),C,b)};var St=()=>new DOMException("","NotSupportedError");var vO={numberOfChannels:1},ib=(t,e,n,r,o)=>class extends t{constructor(s,a,c){let u;if(typeof s=="number"&&a!==void 0&&c!==void 0)u={length:a,numberOfChannels:s,sampleRate:c};else if(typeof s=="object")u=s;else throw new Error("The given parameters are not valid.");let{length:l,numberOfChannels:d,sampleRate:h}=x(x({},vO),u),f=r(d,l,h);e(Gn,()=>Gn(f))||f.addEventListener("statechange",(()=>{let p=0,g=m=>{this._state==="running"&&(p>0?(f.removeEventListener("statechange",g),m.stopImmediatePropagation(),this._waitForThePromiseToSettle(m)):p+=1)};return g})()),super(f,d),this._length=l,this._nativeOfflineAudioContext=f,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(n()):(this._state="running",o(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,ro(this)}))}_waitForThePromiseToSettle(s){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(s):setTimeout(()=>this._waitForThePromiseToSettle(s))}};var yO={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},sb=(t,e,n,r,o,i,s)=>class extends t{constructor(c,u){let l=o(c),d=x(x({},yO),u),h=n(l,d),f=i(l),p=f?r():null,g=c.sampleRate/2;super(c,!1,h,p),this._detune=e(this,f,h.detune,153600,-153600),this._frequency=e(this,f,h.frequency,g,-g),this._nativeOscillatorNode=h,this._onended=null,this._oscillatorNodeRenderer=p,this._oscillatorNodeRenderer!==null&&d.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=d.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(c){let u=typeof c=="function"?s(this,c):null;this._nativeOscillatorNode.onended=u;let l=this._nativeOscillatorNode.onended;this._onended=l!==null&&l===u?c:l}get type(){return this._nativeOscillatorNode.type}set type(c){this._nativeOscillatorNode.type=c,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(c){this._nativeOscillatorNode.setPeriodicWave(c),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=c)}start(c=0){if(this._nativeOscillatorNode.start(c),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=c),this.context.state!=="closed"){Hn(this);let u=()=>{this._nativeOscillatorNode.removeEventListener("ended",u),Bt(this)&&vr(this)};this._nativeOscillatorNode.addEventListener("ended",u)}}stop(c=0){this._nativeOscillatorNode.stop(c),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=c)}};var ab=(t,e,n,r,o)=>()=>{let i=new WeakMap,s=null,a=null,c=null,u=(l,d)=>z(void 0,null,function*(){let h=n(l),f=Te(h,d);if(!f){let p={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,detune:h.detune.value,frequency:h.frequency.value,periodicWave:s===null?void 0:s,type:h.type};h=e(d,p),a!==null&&h.start(a),c!==null&&h.stop(c)}return i.set(d,h),f?(yield t(d,l.detune,h.detune),yield t(d,l.frequency,h.frequency)):(yield r(d,l.detune,h.detune),yield r(d,l.frequency,h.frequency)),yield o(l,d,h),h});return{set periodicWave(l){s=l},set start(l){a=l},set stop(l){c=l},render(l,d){let h=i.get(d);return h!==void 0?Promise.resolve(h):u(l,d)}}};var _O={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},cb=(t,e,n,r,o,i,s)=>class extends t{constructor(c,u){let l=o(c),d=x(x({},_O),u),h=n(l,d),f=i(l),p=f?r():null;super(c,!1,h,p),this._nativePannerNode=h,this._orientationX=e(this,f,h.orientationX,Xe,nt),this._orientationY=e(this,f,h.orientationY,Xe,nt),this._orientationZ=e(this,f,h.orientationZ,Xe,nt),this._positionX=e(this,f,h.positionX,Xe,nt),this._positionY=e(this,f,h.positionY,Xe,nt),this._positionZ=e(this,f,h.positionZ,Xe,nt),s(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(c){this._nativePannerNode.coneInnerAngle=c}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(c){this._nativePannerNode.coneOuterAngle=c}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(c){this._nativePannerNode.coneOuterGain=c}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(c){this._nativePannerNode.distanceModel=c}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(c){this._nativePannerNode.maxDistance=c}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(c){this._nativePannerNode.panningModel=c}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(c){this._nativePannerNode.refDistance=c}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(c){this._nativePannerNode.rolloffFactor=c}};var ub=(t,e,n,r,o,i,s,a,c,u)=>()=>{let l=new WeakMap,d=null,h=(f,p)=>z(void 0,null,function*(){let g=null,m=i(f),v={channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation},D=V(x({},v),{coneInnerAngle:m.coneInnerAngle,coneOuterAngle:m.coneOuterAngle,coneOuterGain:m.coneOuterGain,distanceModel:m.distanceModel,maxDistance:m.maxDistance,panningModel:m.panningModel,refDistance:m.refDistance,rolloffFactor:m.rolloffFactor}),I=Te(m,p);if("bufferSize"in m)g=r(p,V(x({},v),{gain:1}));else if(!I){let N=V(x({},D),{orientationX:m.orientationX.value,orientationY:m.orientationY.value,orientationZ:m.orientationZ.value,positionX:m.positionX.value,positionY:m.positionY.value,positionZ:m.positionZ.value});m=o(p,N)}if(l.set(p,g===null?m:g),g!==null){if(d===null){if(s===null)throw new Error("Missing the native OfflineAudioContext constructor.");let k=new s(6,f.context.length,p.sampleRate),M=e(k,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});M.connect(k.destination),d=(()=>z(void 0,null,function*(){let W=yield Promise.all([f.orientationX,f.orientationY,f.orientationZ,f.positionX,f.positionY,f.positionZ].map((E,S)=>z(void 0,null,function*(){let A=n(k,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:S===0?1:0});return yield a(k,E,A.offset),A})));for(let E=0;E<6;E+=1)W[E].connect(M,0,E),W[E].start(0);return u(k)}))()}let N=yield d,C=r(p,V(x({},v),{gain:1}));yield c(f,p,C);let b=[];for(let k=0;k<N.numberOfChannels;k+=1)b.push(N.getChannelData(k));let _=[b[0][0],b[1][0],b[2][0]],w=[b[3][0],b[4][0],b[5][0]],R=r(p,V(x({},v),{gain:1})),H=o(p,V(x({},D),{orientationX:_[0],orientationY:_[1],orientationZ:_[2],positionX:w[0],positionY:w[1],positionZ:w[2]}));C.connect(R).connect(H.inputs[0]),H.connect(g);for(let k=128;k<N.length;k+=128){let M=[b[0][k],b[1][k],b[2][k]],W=[b[3][k],b[4][k],b[5][k]];if(M.some((E,S)=>E!==_[S])||W.some((E,S)=>E!==w[S])){_=M,w=W;let E=k/p.sampleRate;R.gain.setValueAtTime(0,E),R=r(p,V(x({},v),{gain:0})),H=o(p,V(x({},D),{orientationX:_[0],orientationY:_[1],orientationZ:_[2],positionX:w[0],positionY:w[1],positionZ:w[2]})),R.gain.setValueAtTime(1,E),C.connect(R).connect(H.inputs[0]),H.connect(g)}}return g}return I?(yield t(p,f.orientationX,m.orientationX),yield t(p,f.orientationY,m.orientationY),yield t(p,f.orientationZ,m.orientationZ),yield t(p,f.positionX,m.positionX),yield t(p,f.positionY,m.positionY),yield t(p,f.positionZ,m.positionZ)):(yield a(p,f.orientationX,m.orientationX),yield a(p,f.orientationY,m.orientationY),yield a(p,f.orientationZ,m.orientationZ),yield a(p,f.positionX,m.positionX),yield a(p,f.positionY,m.positionY),yield a(p,f.positionZ,m.positionZ)),En(m)?yield c(f,p,m.inputs[0]):yield c(f,p,m),m});return{render(f,p){let g=l.get(p);return g!==void 0?Promise.resolve(g):h(f,p)}}};var xO={disableNormalization:!1},lb=(t,e,n,r)=>class db{constructor(i,s){let a=e(i),c=r(x(x({},xO),s)),u=t(a,c);return n.add(u),u}static[Symbol.hasInstance](i){return i!==null&&typeof i=="object"&&Object.getPrototypeOf(i)===db.prototype||n.has(i)}};var hb=(t,e)=>(n,r,o)=>(t(r).replay(o),e(r,n,o));var fb=(t,e,n)=>(r,o,i)=>z(void 0,null,function*(){let s=t(r);yield Promise.all(s.activeInputs.map((a,c)=>Array.from(a).map(d=>z(void 0,[d],function*([u,l]){let f=yield e(u).render(u,o),p=r.context.destination;!n(u)&&(r!==p||!n(r))&&f.connect(i,l,c)}))).reduce((a,c)=>[...a,...c],[]))});var pb=(t,e,n)=>(r,o,i)=>z(void 0,null,function*(){let s=e(r);yield Promise.all(Array.from(s.activeInputs).map(u=>z(void 0,[u],function*([a,c]){let d=yield t(a).render(a,o);n(a)||d.connect(i,c)})))});var mb=(t,e,n,r)=>o=>t(Gn,()=>Gn(o))?Promise.resolve(t(r,r)).then(i=>{if(!i){let s=n(o,512,0,1);o.oncomplete=()=>{s.onaudioprocess=null,s.disconnect()},s.onaudioprocess=()=>o.currentTime,s.connect(o.destination)}return o.startRendering()}):new Promise(i=>{let s=e(o,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});o.oncomplete=a=>{s.disconnect(),i(a.renderedBuffer)},s.connect(o.destination),o.startRendering()});var gb=t=>(e,n)=>{t.set(e,n)};var vb=t=>(e,n)=>t.set(e,n);var yb=(t,e,n,r,o,i,s,a)=>(c,u)=>n(c).render(c,u).then(()=>Promise.all(Array.from(r(u)).map(l=>n(l).render(l,u)))).then(()=>o(u)).then(l=>(typeof l.copyFromChannel!="function"?(s(l),Zi(l)):e(i,()=>i(l))||a(l),t.add(l),l));var wO={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},_b=(t,e,n,r,o,i)=>class extends t{constructor(a,c){let u=o(a),l=x(x({},wO),c),d=n(u,l),h=i(u),f=h?r():null;super(a,!1,d,f),this._pan=e(this,h,d.pan)}get pan(){return this._pan}};var xb=(t,e,n,r,o)=>()=>{let i=new WeakMap,s=(a,c)=>z(void 0,null,function*(){let u=n(a),l=Te(u,c);if(!l){let d={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,pan:u.pan.value};u=e(c,d)}return i.set(c,u),l?yield t(c,a.pan,u.pan):yield r(c,a.pan,u.pan),En(u)?yield o(a,c,u.inputs[0]):yield o(a,c,u),u});return{render(a,c){let u=i.get(c);return u!==void 0?Promise.resolve(u):s(a,c)}}};var wb=t=>()=>{if(t===null)return!1;try{new t({length:1,sampleRate:44100})}catch{return!1}return!0};var bb=(t,e)=>()=>z(void 0,null,function*(){if(t===null)return!0;if(e===null)return!1;let n=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),r=new e(1,128,44100),o=URL.createObjectURL(n),i=!1,s=!1;try{yield r.audioWorklet.addModule(o);let a=new t(r,"a",{numberOfOutputs:0}),c=r.createOscillator();a.port.onmessage=()=>i=!0,a.onprocessorerror=()=>s=!0,c.connect(a),c.start(0),yield r.startRendering(),yield new Promise(u=>setTimeout(u))}catch{}finally{URL.revokeObjectURL(o)}return i&&!s});var Cb=(t,e)=>()=>{if(e===null)return Promise.resolve(!1);let n=new e(1,1,44100),r=t(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(o=>{n.oncomplete=()=>{r.disconnect(),o(n.currentTime!==0)},n.startRendering()})};var Fp=()=>new DOMException("","UnknownError");var bO={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},Db=(t,e,n,r,o,i,s)=>class extends t{constructor(c,u){let l=o(c),d=x(x({},bO),u),h=n(l,d),p=i(l)?r():null;super(c,!0,h,p),this._isCurveNullified=!1,this._nativeWaveShaperNode=h,s(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(c){if(c===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(c.length<2)throw e();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=c}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(c){this._nativeWaveShaperNode.oversample=c}};var Sb=(t,e,n)=>()=>{let r=new WeakMap,o=(i,s)=>z(void 0,null,function*(){let a=e(i);if(!Te(a,s)){let u={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,curve:a.curve,oversample:a.oversample};a=t(s,u)}return r.set(s,a),En(a)?yield n(i,s,a.inputs[0]):yield n(i,s,a),a});return{render(i,s){let a=r.get(s);return a!==void 0?Promise.resolve(a):o(i,s)}}};var Tb=()=>typeof window>"u"?null:window;var Eb=(t,e)=>n=>{n.copyFromChannel=(r,o,i=0)=>{let s=t(i),a=t(o);if(a>=n.numberOfChannels)throw e();let c=n.length,u=n.getChannelData(a),l=r.length;for(let d=s<0?-s:0;d+s<c&&d<l;d+=1)r[d]=u[d+s]},n.copyToChannel=(r,o,i=0)=>{let s=t(i),a=t(o);if(a>=n.numberOfChannels)throw e();let c=n.length,u=n.getChannelData(a),l=r.length;for(let d=s<0?-s:0;d+s<c&&d<l;d+=1)u[d+s]=r[d]}};var Ib=t=>e=>{e.copyFromChannel=(n=>(r,o,i=0)=>{let s=t(i),a=t(o);if(s<e.length)return n.call(e,r,a,s)})(e.copyFromChannel),e.copyToChannel=(n=>(r,o,i=0)=>{let s=t(i),a=t(o);if(s<e.length)return n.call(e,r,a,s)})(e.copyToChannel)};var Ab=t=>(e,n)=>{let r=n.createBuffer(1,1,44100);e.buffer===null&&(e.buffer=r),t(e,"buffer",o=>()=>{let i=o.call(e);return i===r?null:i},o=>i=>o.call(e,i===null?r:i))};var Mb=(t,e)=>(n,r)=>{r.channelCount=1,r.channelCountMode="explicit",Object.defineProperty(r,"channelCount",{get:()=>1,set:()=>{throw t()}}),Object.defineProperty(r,"channelCountMode",{get:()=>"explicit",set:()=>{throw t()}});let o=n.createBufferSource();e(r,()=>{let a=r.numberOfInputs;for(let c=0;c<a;c+=1)o.connect(r,0,c)},()=>o.disconnect(r))};var Pp=(t,e,n)=>t.copyFromChannel===void 0?t.getChannelData(n)[0]:(t.copyFromChannel(e,n),e[0]);var Vp=t=>{if(t===null)return!1;let e=t.length;return e%2!==0?t[Math.floor(e/2)]!==0:t[e/2-1]+t[e/2]!==0};var ss=(t,e,n,r)=>{let o=t;for(;!o.hasOwnProperty(e);)o=Object.getPrototypeOf(o);let{get:i,set:s}=Object.getOwnPropertyDescriptor(o,e);Object.defineProperty(t,e,{get:n(i),set:r(s)})};var Nb=t=>V(x({},t),{outputChannelCount:t.outputChannelCount!==void 0?t.outputChannelCount:t.numberOfInputs===1&&t.numberOfOutputs===1?[t.channelCount]:Array.from({length:t.numberOfOutputs},()=>1)});var Ob=t=>V(x({},t),{channelCount:t.numberOfOutputs});var kb=t=>{let{imag:e,real:n}=t;return e===void 0?n===void 0?V(x({},t),{imag:[0,0],real:[0,0]}):V(x({},t),{imag:Array.from(n,()=>0),real:n}):n===void 0?V(x({},t),{imag:e,real:Array.from(e,()=>0)}):V(x({},t),{imag:e,real:n})};var Lp=(t,e,n)=>{try{t.setValueAtTime(e,n)}catch(r){if(r.code!==9)throw r;Lp(t,e,n+1e-7)}};var Rb=t=>{let e=t.createBufferSource();e.start();try{e.start()}catch{return!0}return!1};var Fb=t=>{let e=t.createBufferSource(),n=t.createBuffer(1,1,44100);e.buffer=n;try{e.start(0,1)}catch{return!1}return!0};var Pb=t=>{let e=t.createBufferSource();e.start();try{e.stop()}catch{return!1}return!0};var il=t=>{let e=t.createOscillator();try{e.start(-1)}catch(n){return n instanceof RangeError}return!1};var jp=t=>{let e=t.createBuffer(1,1,44100),n=t.createBufferSource();n.buffer=e,n.start(),n.stop();try{return n.stop(),!0}catch{return!1}};var sl=t=>{let e=t.createOscillator();try{e.stop(-1)}catch(n){return n instanceof RangeError}return!1};var Vb=t=>{let{port1:e,port2:n}=new MessageChannel;try{e.postMessage(t)}finally{e.close(),n.close()}};var Lb=t=>{t.start=(e=>(n=0,r=0,o)=>{let i=t.buffer,s=i===null?r:Math.min(i.duration,r);i!==null&&s>i.duration-.5/t.context.sampleRate?e.call(t,n,0,0):e.call(t,n,s,o)})(t.start)};var Bp=(t,e)=>{let n=e.createGain();t.connect(n);let r=(o=>()=>{o.call(t,n),t.removeEventListener("ended",r)})(t.disconnect);t.addEventListener("ended",r),In(t,n),t.stop=(o=>{let i=!1;return(s=0)=>{if(i)try{o.call(t,s)}catch{n.gain.setValueAtTime(0,s)}else o.call(t,s),i=!0}})(t.stop)};var Vo=(t,e)=>n=>{let r={value:t};return Object.defineProperties(n,{currentTarget:r,target:r}),typeof e=="function"?e.call(t,n):e.handleEvent.call(t,n)};var CO=Ex(Wn),DO=Vx(Wn),SO=kw(to),Bb=new WeakMap,TO=Yw(Bb),An=pw(new Map,new WeakMap),yr=Tb(),Ub=D0(An,Tn),Up=Zw(gt),Tt=fb(gt,Up,Rr),EO=Ux(Ub,Pe,Tt),$e=Kw(Gi),Fr=Q0(yr),Ve=f0(Fr),qb=new WeakMap,$b=qw(Vo),as=I0(yr),qp=u0(as),$p=l0(yr),Hb=d0(yr),$a=M0(yr),rt=ow(Ix(zu),Px(CO,DO,Yi,SO,Qi,gt,TO,gr,Pe,Wn,Bt,Rr,Xi),An,o0(ja,Qi,gt,Pe,Fo,Bt),Tn,ts,St,Mw(Yi,ja,gt,Pe,Fo,$e,Bt,Ve),Pw(qb,gt,dt),$b,$e,qp,$p,Hb,Ve,$a),IO=Bx(rt,EO,Tn,Ub,$e,Ve);var Hp=new WeakSet,jb=S0(yr),Wb=Dw(new Uint32Array(1)),Wp=Eb(Wb,Tn),Gp=Ib(Wb),AO=qx(Hp,An,St,jb,Fr,wb(jb),Wp,Gp);var al=Lx(Ut),Gb=pb(Up,no,Rr),_r=_w(Gb),cs=E0(al,An,Rb,Fb,Pb,il,jp,sl,Lb,Ab(ss),Bp),xr=hb(Qw(no),Gb),MO=Wx(_r,cs,Pe,xr,Tt),zn=sw(Ax(Zu),qb,La,aw,Yt.createCancelAndHoldAutomationEvent,Yt.createCancelScheduledValuesAutomationEvent,Yt.createExponentialRampToValueAutomationEvent,Yt.createLinearRampToValueAutomationEvent,Yt.createSetTargetAutomationEvent,Yt.createSetValueAutomationEvent,Yt.createSetValueCurveAutomationEvent,as,Lp),NO=Hx(rt,MO,zn,He,cs,$e,Ve,Vo);var OO=Jx(rt,ew,Tn,He,A0(Ut,ss),$e,Ve,Tt),kO=fw(_r,kp,Pe,xr,Tt),Lo=vb(Bb),RO=hw(rt,zn,kO,ts,kp,$e,Ve,Lo),io=b0(Wn,$p),FO=Mb(He,io),so=V0(as,FO),PO=gw(so,Pe,Tt),VO=mw(rt,PO,so,$e,Ve),LO=yw(os,Pe,Tt),jO=vw(rt,LO,os,$e,Ve,Ob),BO=B0(al,cs,Ut,io),us=j0(al,An,BO,il,sl),UO=Cw(_r,us,Pe,xr,Tt),qO=bw(rt,zn,UO,us,$e,Ve,Vo),zb=U0(St,ss),$O=Tw(zb,Pe,Tt),HO=Sw(rt,$O,zb,$e,Ve,Lo),WO=Ow(_r,Rp,Pe,xr,Tt),GO=Nw(rt,zn,WO,Rp,$e,Ve,Lo),Zb=q0(St),zO=jw(_r,Zb,Pe,xr,Tt),ZO=Lw(rt,zn,zO,Zb,St,$e,Ve,Lo),YO=Gw(_r,Ut,Pe,xr,Tt),QO=Ww(rt,zn,YO,Ut,$e,Ve),XO=W0(ts,He,is,St),cl=mb(An,Ut,is,Cb(Ut,Fr)),KO=r0(cs,Pe,Fr,Tt,cl),JO=$0(XO),ek=n0(rt,JO,KO,$e,Ve,Lo),tk=tw(zn,so,us,is,St,Pp,Ve,ss),Yb=new WeakMap,zp=x0(OO,tk,$b,Ve,Yb,Vo),Qb=X0(al,An,il,jp,sl,Bp),nk=ab(_r,Qb,Pe,xr,Tt),rk=sb(rt,zn,Qb,nk,$e,Ve,Vo),Xb=ww(cs),ok=ob(Xb,He,Ut,Vp,io),ul=rb(Xb,He,ok,Vp,io,as,ss),ik=J0(Yi,He,so,Ut,is,ul,St,Qi,Pp,io),Kb=K0(ik),sk=ub(_r,so,us,Ut,Kb,Pe,Fr,xr,Tt,cl),ak=cb(rt,zn,Kb,sk,$e,Ve,Lo),ck=eb(Tn),uk=lb(ck,$e,new WeakSet,kb),lk=nb(so,os,Ut,ul,St,io),Jb=tb(lk,St),dk=xb(_r,Jb,Pe,xr,Tt),hk=_b(rt,zn,Jb,dk,$e,Ve),fk=Sb(ul,Pe,Tt),pk=Db(rt,He,ul,fk,$e,Ve,Lo),eC=p0(yr),Zp=$w(yr),tC=new WeakMap,mk=Jw(tC,Fr),gk=eC?Fx(An,St,Uw(yr),Zp,Hw(Tx),$e,mk,Ve,$a,new WeakMap,new WeakMap,bb($a,Fr),yr):void 0,vk=h0(qp,Ve),yk=Aw(Hp,An,Iw,Bw,new WeakSet,$e,vk,zi,Gn,Wp,Gp),nC=dw(gk,IO,AO,NO,RO,VO,jO,qO,HO,yk,GO,ZO,QO,ek,zp,rk,ak,uk,hk,pk),_k=m0(rt,G0,$e,Ve),xk=g0(rt,z0,$e,Ve),wk=v0(rt,Z0,$e,Ve),bk=Y0(He,Ve),Ck=y0(rt,bk,$e),rC=Kx(nC,He,St,Fp,_k,xk,wk,Ck,as);var Yp=e0(Yb),Dk=jx(Yp),oC=xw(Tn),Sk=Rw(Yp),iC=Vw(Tn),sC=new WeakMap,Tk=zw(sC,dt),Ek=P0(oC,Tn,He,so,os,us,Ut,is,St,iC,Zp,Tk,io),Ik=O0(He,Ek,Ut,St,io),Ak=lw(_r,oC,cs,so,os,us,Ut,Sk,iC,Zp,Pe,$a,Fr,xr,Tt,cl),Mk=Xw(tC),Nk=gb(sC),Qp=eC?cw(Dk,rt,zn,Ak,Ik,gt,Mk,$e,Ve,$a,Nb,Nk,Vb,Vo):void 0;var _oe=_0(He,St,Fp,zp,as);var aC=Ew(St,Fr),cC=yb(Hp,An,Up,Yp,cl,zi,Wp,Gp),xoe=w0(An,He,aC,zp,cC);var uC=ib(nC,An,He,aC,cC);var lC=i0(Gi,qp),dC=s0(Wi,$p),hC=a0(La,Hb),fC=c0(Gi,Ve);function G(t,e){if(!t)throw new Error(e)}function _t(t,e,n=1/0){if(!(e<=t&&t<=n))throw new RangeError(`Value must be within [${e}, ${n}], got: ${t}`)}function ll(t){!t.isOffline&&t.state!=="running"&&Ha('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}var pC=console;function mC(...t){pC.log(...t)}function Ha(...t){pC.warn(...t)}function ht(t){return typeof t>"u"}function ne(t){return!ht(t)}function gC(t){return typeof t=="function"}function Et(t){return typeof t=="number"}function Zn(t){return Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object}function dl(t){return typeof t=="boolean"}function ot(t){return Array.isArray(t)}function xt(t){return typeof t=="string"}function Wa(t){return xt(t)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(t)}function vC(t){return new rC(t)}function yC(t,e,n){return new uC(t,e,n)}var wr=typeof self=="object"?self:null,_C=wr&&(wr.hasOwnProperty("AudioContext")||wr.hasOwnProperty("webkitAudioContext"));function xC(t,e,n){return G(ne(Qp),"This node only works in a secure context (https or localhost)"),new Qp(t,e,n)}var hl=class{constructor(e,n,r){this._callback=e,this._type=n,this._updateInterval=r,this._createClock()}_createWorker(){let e=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),n=URL.createObjectURL(e),r=new Worker(n);r.onmessage=this._callback.bind(this),this._worker=r}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&(clearTimeout(this._timeout),this._timeout=0),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(e){this._updateInterval=Math.max(e,128/44100),this._type==="worker"&&this._worker.postMessage(Math.max(e*1e3,1))}get type(){return this._type}set type(e){this._disposeClock(),this._type=e,this._createClock()}dispose(){this._disposeClock()}};function Yn(t){return hC(t)}function br(t){return dC(t)}function ls(t){return fC(t)}function ao(t){return lC(t)}function fl(t){return t instanceof AudioBuffer}function Rk(t,e){return t==="value"||Yn(e)||br(e)||fl(e)}function Qn(t,...e){if(!e.length)return t;let n=e.shift();if(Zn(t)&&Zn(n))for(let r in n)Rk(r,n[r])?t[r]=n[r]:Zn(n[r])?(t[r]||Object.assign(t,{[r]:{}}),Qn(t[r],n[r])):Object.assign(t,{[r]:n[r]});return Qn(t,...e)}function wC(t,e){return t.length===e.length&&t.every((n,r)=>e[r]===n)}function y(t,e,n=[],r){let o={},i=Array.from(e);if(Zn(i[0])&&r&&!Reflect.has(i[0],r)&&(Object.keys(i[0]).some(a=>Reflect.has(t,a))||(Qn(o,{[r]:i[0]}),n.splice(n.indexOf(r),1),i.shift())),i.length===1&&Zn(i[0]))Qn(o,i[0]);else for(let s=0;s<n.length;s++)ne(i[s])&&(o[n[s]]=i[s]);return Qn(t,o)}function bC(t){return t.constructor.getDefaults()}function Qt(t,e){return ht(t)?e:t}function Cr(t,e){return e.forEach(n=>{Reflect.has(t,n)&&delete t[n]}),t}var Rt=(()=>{class t{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...n){(this.debug||wr&&this.toString()===wr.TONE_DEBUG_CLASS)&&mC(this,...n)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}return t.version=Ea,t})();function ds(t,e){return t>e+1e-6}function Ga(t,e){return ds(t,e)||qt(t,e)}function pl(t,e){return t+1e-6<e}function qt(t,e){return Math.abs(t-e)<1e-6}function Xp(t,e,n){return Math.max(Math.min(t,n),e)}var wt=class t extends Rt{constructor(){super(),this.name="Timeline",this._timeline=[];let e=y(t.getDefaults(),arguments,["memory"]);this.memory=e.memory,this.increasing=e.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(e){if(G(Reflect.has(e,"time"),"Timeline: events must have a time attribute"),e.time=e.time.valueOf(),this.increasing&&this.length){let n=this._timeline[this.length-1];G(Ga(e.time,n.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(e)}else{let n=this._search(e.time);this._timeline.splice(n+1,0,e)}if(this.length>this.memory){let n=this.length-this.memory;this._timeline.splice(0,n)}return this}remove(e){let n=this._timeline.indexOf(e);return n!==-1&&this._timeline.splice(n,1),this}get(e,n="time"){let r=this._search(e,n);return r!==-1?this._timeline[r]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(e,n="time"){let r=this._search(e,n);return r+1<this._timeline.length?this._timeline[r+1]:null}getBefore(e){let n=this._timeline.length;if(n>0&&this._timeline[n-1].time<e)return this._timeline[n-1];let r=this._search(e);return r-1>=0?this._timeline[r-1]:null}cancel(e){if(this._timeline.length>1){let n=this._search(e);if(n>=0)if(qt(this._timeline[n].time,e)){for(let r=n;r>=0&&qt(this._timeline[r].time,e);r--)n=r;this._timeline=this._timeline.slice(0,n)}else this._timeline=this._timeline.slice(0,n+1);else this._timeline=[]}else this._timeline.length===1&&Ga(this._timeline[0].time,e)&&(this._timeline=[]);return this}cancelBefore(e){let n=this._search(e);return n>=0&&(this._timeline=this._timeline.slice(n+1)),this}previousEvent(e){let n=this._timeline.indexOf(e);return n>0?this._timeline[n-1]:null}_search(e,n="time"){if(this._timeline.length===0)return-1;let r=0,o=this._timeline.length,i=o;if(o>0&&this._timeline[o-1][n]<=e)return o-1;for(;r<i;){let s=Math.floor(r+(i-r)/2),a=this._timeline[s],c=this._timeline[s+1];if(qt(a[n],e)){for(let u=s;u<this._timeline.length;u++){let l=this._timeline[u];if(qt(l[n],e))s=u;else break}return s}else{if(pl(a[n],e)&&ds(c[n],e))return s;ds(a[n],e)?i=s:r=s+1}}return-1}_iterate(e,n=0,r=this._timeline.length-1){this._timeline.slice(n,r+1).forEach(e)}forEach(e){return this._iterate(e),this}forEachBefore(e,n){let r=this._search(e);return r!==-1&&this._iterate(n,0,r),this}forEachAfter(e,n){let r=this._search(e);return this._iterate(n,r+1),this}forEachBetween(e,n,r){let o=this._search(e),i=this._search(n);return o!==-1&&i!==-1?(this._timeline[o].time!==e&&(o+=1),this._timeline[i].time===n&&(i-=1),this._iterate(r,o,i)):o===-1&&this._iterate(r,0,i),this}forEachFrom(e,n){let r=this._search(e);for(;r>=0&&this._timeline[r].time>=e;)r--;return this._iterate(n,r+1),this}forEachAtTime(e,n){let r=this._search(e);if(r!==-1&&qt(this._timeline[r].time,e)){let o=r;for(let i=r;i>=0&&qt(this._timeline[i].time,e);i--)o=i;this._iterate(i=>{n(i)},o,r)}return this}dispose(){return super.dispose(),this._timeline=[],this}};var CC=[];function co(t){CC.push(t)}function DC(t){CC.forEach(e=>e(t))}var SC=[];function uo(t){SC.push(t)}function TC(t){SC.forEach(e=>e(t))}var lo=class t extends Rt{constructor(){super(...arguments),this.name="Emitter"}on(e,n){return e.split(/\W+/).forEach(o=>{ht(this._events)&&(this._events={}),this._events.hasOwnProperty(o)||(this._events[o]=[]),this._events[o].push(n)}),this}once(e,n){let r=(...o)=>{n(...o),this.off(e,r)};return this.on(e,r),this}off(e,n){return e.split(/\W+/).forEach(o=>{if(ht(this._events)&&(this._events={}),this._events.hasOwnProperty(e))if(ht(n))this._events[e]=[];else{let i=this._events[e];for(let s=i.length-1;s>=0;s--)i[s]===n&&i.splice(s,1)}}),this}emit(e,...n){if(this._events&&this._events.hasOwnProperty(e)){let r=this._events[e].slice(0);for(let o=0,i=r.length;o<i;o++)r[o].apply(this,n)}return this}static mixin(e){["on","once","off","emit"].forEach(n=>{let r=Object.getOwnPropertyDescriptor(t.prototype,n);Object.defineProperty(e.prototype,n,r)})}dispose(){return super.dispose(),this._events=void 0,this}};var hs=class extends lo{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}};var jo=class t extends hs{constructor(){super(),this.name="Context",this._constants=new Map,this._timeouts=new wt,this._timeoutIds=0,this._initialized=!1,this.isOffline=!1,this._workletModules=new Map;let e=y(t.getDefaults(),arguments,["context"]);e.context?this._context=e.context:this._context=vC({latencyHint:e.latencyHint}),this._ticker=new hl(this.emit.bind(this,"tick"),e.clockSource,e.updateInterval),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this._setLatencyHint(e.latencyHint),this.lookAhead=e.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(DC(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(e,n,r){return this._context.createBuffer(e,n,r)}createChannelMerger(e){return this._context.createChannelMerger(e)}createChannelSplitter(e){return this._context.createChannelSplitter(e)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(e){return this._context.createDelay(e)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(e,n){return this._context.createIIRFilter(e,n)}createPanner(){return this._context.createPanner()}createPeriodicWave(e,n,r){return this._context.createPeriodicWave(e,n,r)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(e){return G(ao(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(e)}createMediaElementSource(e){return G(ao(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(e)}createMediaStreamDestination(){return G(ao(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(e){return this._context.decodeAudioData(e)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(e){G(!this._initialized,"The listener cannot be set after initialization."),this._listener=e}get transport(){return this.initialize(),this._transport}set transport(e){G(!this._initialized,"The transport cannot be set after initialization."),this._transport=e}get draw(){return this.initialize(),this._draw}set draw(e){G(!this._initialized,"Draw cannot be set after initialization."),this._draw=e}get destination(){return this.initialize(),this._destination}set destination(e){G(!this._initialized,"The destination cannot be set after initialization."),this._destination=e}createAudioWorkletNode(e,n){return xC(this.rawContext,e,n)}addAudioWorkletModule(e,n){return _e(this,void 0,void 0,function*(){G(ne(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletModules.has(n)||this._workletModules.set(n,this.rawContext.audioWorklet.addModule(e)),yield this._workletModules.get(n)})}workletsAreReady(){return _e(this,void 0,void 0,function*(){let e=[];this._workletModules.forEach(n=>e.push(n)),yield Promise.all(e)})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(e){this._ticker.updateInterval=e}get clockSource(){return this._ticker.type}set clockSource(e){this._ticker.type=e}get latencyHint(){return this._latencyHint}_setLatencyHint(e){let n=0;if(this._latencyHint=e,xt(e))switch(e){case"interactive":n=.1;break;case"playback":n=.5;break;case"balanced":n=.25;break}this.lookAhead=n,this.updateInterval=n/2}get rawContext(){return this._context}now(){return this._context.currentTime+this.lookAhead}immediate(){return this._context.currentTime}resume(){return ao(this._context)?this._context.resume():Promise.resolve()}close(){return _e(this,void 0,void 0,function*(){ao(this._context)&&(yield this._context.close()),this._initialized&&TC(this)})}getConstant(e){if(this._constants.has(e))return this._constants.get(e);{let n=this._context.createBuffer(1,128,this._context.sampleRate),r=n.getChannelData(0);for(let i=0;i<r.length;i++)r[i]=e;let o=this._context.createBufferSource();return o.channelCount=1,o.channelCountMode="explicit",o.buffer=n,o.loop=!0,o.start(0),this._constants.set(e,o),o}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(e=>this._constants[e].disconnect()),this}_timeoutLoop(){let e=this.now(),n=this._timeouts.peek();for(;this._timeouts.length&&n&&n.time<=e;)n.callback(),this._timeouts.shift(),n=this._timeouts.peek()}setTimeout(e,n){this._timeoutIds++;let r=this.now();return this._timeouts.add({callback:e,id:this._timeoutIds,time:r+n}),this._timeoutIds}clearTimeout(e){return this._timeouts.forEach(n=>{n.id===e&&this._timeouts.remove(n)}),this}clearInterval(e){return this.clearTimeout(e)}setInterval(e,n){let r=++this._timeoutIds,o=()=>{let i=this.now();this._timeouts.add({callback:()=>{e(),o()},id:r,time:i+n})};return o(),r}};var ml=class extends hs{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(e,n,r){return{}}createChannelMerger(e){return{}}createChannelSplitter(e){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(e){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(e,n){return{}}createPanner(){return{}}createPeriodicWave(e,n,r){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(e){return{}}createMediaElementSource(e){return{}}createMediaStreamDestination(){return{}}decodeAudioData(e){return Promise.resolve({})}createAudioWorkletNode(e,n){return{}}get rawContext(){return{}}addAudioWorkletModule(e,n){return _e(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(e,n){return 0}clearTimeout(e){return this}setInterval(e,n){return 0}clearInterval(e){return this}getConstant(e){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(e){}get destination(){return{}}set destination(e){}now(){return 0}immediate(){return 0}};function B(t,e){ot(e)?e.forEach(n=>B(t,n)):Object.defineProperty(t,e,{enumerable:!0,writable:!1})}function fs(t,e){ot(e)?e.forEach(n=>fs(t,n)):Object.defineProperty(t,e,{writable:!0})}var oe=()=>{};var Ft=(()=>{class t extends Rt{constructor(){super(),this.name="ToneAudioBuffer",this.onload=oe;let n=y(t.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=n.reverse,this.onload=n.onload,n.url&&fl(n.url)||n.url instanceof t?this.set(n.url):xt(n.url)&&this.load(n.url).catch(n.onerror)}static getDefaults(){return{onerror:oe,onload:oe,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:Ke().sampleRate}set(n){return n instanceof t?n.loaded?this._buffer=n.get():n.onload=()=>{this.set(n),this.onload(this)}:this._buffer=n,this._reversed&&this._reverse(),this}get(){return this._buffer}load(n){return _e(this,void 0,void 0,function*(){let r=t.load(n).then(o=>{this.set(o),this.onload(this)});t.downloads.push(r);try{yield r}finally{let o=t.downloads.indexOf(r);t.downloads.splice(o,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(n){let r=ot(n)&&n[0].length>0,o=r?n.length:1,i=r?n[0].length:n.length,s=Ke(),a=s.createBuffer(o,i,s.sampleRate),c=!r&&o===1?[n]:n;for(let u=0;u<o;u++)a.copyToChannel(c[u],u);return this._buffer=a,this}toMono(n){if(Et(n))this.fromArray(this.toArray(n));else{let r=new Float32Array(this.length),o=this.numberOfChannels;for(let i=0;i<o;i++){let s=this.toArray(i);for(let a=0;a<s.length;a++)r[a]+=s[a]}r=r.map(i=>i/o),this.fromArray(r)}return this}toArray(n){if(Et(n))return this.getChannelData(n);if(this.numberOfChannels===1)return this.toArray(0);{let r=[];for(let o=0;o<this.numberOfChannels;o++)r[o]=this.getChannelData(o);return r}}getChannelData(n){return this._buffer?this._buffer.getChannelData(n):new Float32Array(0)}slice(n,r=this.duration){let o=Math.floor(n*this.sampleRate),i=Math.floor(r*this.sampleRate);G(o<i,"The start time must be less than the end time");let s=i-o,a=Ke().createBuffer(this.numberOfChannels,s,this.sampleRate);for(let c=0;c<this.numberOfChannels;c++)a.copyToChannel(this.getChannelData(c).subarray(o,i),c);return new t(a)}_reverse(){if(this.loaded)for(let n=0;n<this.numberOfChannels;n++)this.getChannelData(n).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(n){this._reversed!==n&&(this._reversed=n,this._reverse())}static fromArray(n){return new t().fromArray(n)}static fromUrl(n){return _e(this,void 0,void 0,function*(){return yield new t().load(n)})}static load(n){return _e(this,void 0,void 0,function*(){let r=n.match(/\[([^\]\[]+\|.+)\]$/);if(r){let c=r[1].split("|"),u=c[0];for(let l of c)if(t.supportsType(l)){u=l;break}n=n.replace(r[0],u)}let o=t.baseUrl===""||t.baseUrl.endsWith("/")?t.baseUrl:t.baseUrl+"/",i=yield fetch(o+n);if(!i.ok)throw new Error(`could not load url: ${n}`);let s=yield i.arrayBuffer();return yield Ke().decodeAudioData(s)})}static supportsType(n){let r=n.split("."),o=r[r.length-1];return document.createElement("audio").canPlayType("audio/"+o)!==""}static loaded(){return _e(this,void 0,void 0,function*(){for(yield Promise.resolve();t.downloads.length;)yield t.downloads[0]})}}return t.baseUrl="",t.downloads=[],t})();var Dr=class extends jo{constructor(){super({clockSource:"offline",context:ls(arguments[0])?arguments[0]:yC(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:ls(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=ls(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(e){return _e(this,void 0,void 0,function*(){let n=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,n++;let r=Math.floor(this.sampleRate/128);e&&n%r===0&&(yield new Promise(o=>setTimeout(o,1)))}})}render(e=!0){return _e(this,void 0,void 0,function*(){yield this.workletsAreReady(),yield this._renderClock(e);let n=yield this._context.startRendering();return new Ft(n)})}close(){return Promise.resolve()}};var EC=new ml,ps=EC;function Ke(){return ps===EC&&_C&&Kp(new jo),ps}function Kp(t){ao(t)?ps=new jo(t):ls(t)?ps=new Dr(t):ps=t}function za(){return ps.resume()}if(wr&&!wr.TONE_SILENCE_LOGGING){let t="v";Ea==="dev"&&(t="");let e=` * Tone.js ${t}${Ea} * `;console.log(`%c${e}`,"background: #000; color: #fff")}function ms(t){return Math.pow(10,t/20)}function gs(t){return 20*(Math.log(t)/Math.LN10)}function Bo(t){return Math.pow(2,t/12)}var gl=440;function IC(){return gl}function AC(t){gl=t}function Uo(t){return Math.round(Jp(t))}function Jp(t){return 69+12*Math.log2(t/gl)}function vl(t){return gl*Math.pow(2,(t-69)/12)}var yl=class t extends Rt{constructor(e,n,r){super(),this.defaultUnits="s",this._val=n,this._units=r,this.context=e,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:e=>this._frequencyToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:e=>this._ticksToUnits(parseInt(e,10)),regexp:/^(\d+)i$/i},m:{method:e=>this._beatsToUnits(parseInt(e,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(e,n)=>{let r=parseInt(e,10),o=n==="."?1.5:1;return r===1?this._beatsToUnits(this._getTimeSignature())*o:this._beatsToUnits(4/r)*o},regexp:/^(\d+)n(\.?)$/i},number:{method:e=>this._expressions[this.defaultUnits].method.call(this,e),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:e=>this._secondsToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:e=>parseInt(e,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:e=>{let n=parseInt(e,10);return this._beatsToUnits(8/(Math.floor(n)*3))},regexp:/^(\d+)t$/i},tr:{method:(e,n,r)=>{let o=0;return e&&e!=="0"&&(o+=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),n&&n!=="0"&&(o+=this._beatsToUnits(parseFloat(n))),r&&r!=="0"&&(o+=this._beatsToUnits(parseFloat(r)/4)),o},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof t&&this.fromType(this._val),ht(this._val))return this._noArg();if(xt(this._val)&&ht(this._units)){for(let e in this._expressions)if(this._expressions[e].regexp.test(this._val.trim())){this._units=e;break}}else if(Zn(this._val)){let e=0;for(let n in this._val)if(ne(this._val[n])){let r=this._val[n],o=new this.constructor(this.context,n).valueOf()*r;e+=o}return e}if(ne(this._units)){let e=this._expressions[this._units],n=this._val.toString().trim().match(e.regexp);return n?e.method.apply(this,n.slice(1)):e.method.call(this,this._val)}else return xt(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(e){return 1/e}_beatsToUnits(e){return 60/this._getBpm()*e}_secondsToUnits(e){return e}_ticksToUnits(e){return e*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(e){switch(this._units=void 0,this.defaultUnits){case"s":this._val=e.toSeconds();break;case"i":this._val=e.toTicks();break;case"hz":this._val=e.toFrequency();break;case"midi":this._val=e.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}};var Xt=class t extends yl{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:e=>this._now()+new this.constructor(this.context,e).valueOf(),regexp:/^\+(.+)/},quantize:{method:e=>{let n=new t(this.context,e).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(n))},regexp:/^@(.+)/}})}quantize(e,n=1){let r=new this.constructor(this.context,e).valueOf(),o=this.valueOf(),a=Math.round(o/r)*r-o;return o+a*n}toNotation(){let e=this.toSeconds(),n=["1m"];for(let i=1;i<9;i++){let s=Math.pow(2,i);n.push(s+"n."),n.push(s+"n"),n.push(s+"t")}n.push("0");let r=n[0],o=new t(this.context,n[0]).toSeconds();return n.forEach(i=>{let s=new t(this.context,i).toSeconds();Math.abs(s-e)<Math.abs(o-e)&&(r=i,o=s)}),r}toBarsBeatsSixteenths(){let e=this._beatsToUnits(1),n=this.valueOf()/e;n=parseFloat(n.toFixed(4));let r=Math.floor(n/this._getTimeSignature()),o=n%1*4;n=Math.floor(n)%this._getTimeSignature();let i=o.toString();return i.length>3&&(o=parseFloat(parseFloat(i).toFixed(3))),[r,n,o].join(":")}toTicks(){let e=this._beatsToUnits(1),n=this.valueOf()/e;return Math.round(n*this._getPPQ())}toSeconds(){return this.valueOf()}toMidi(){return Uo(this.toFrequency())}_now(){return this.context.now()}};function hn(t,e){return new Xt(Ke(),t,e)}var Kt=class t extends Xt{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return IC()}static set A4(e){AC(e)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(e){return this.defaultUnits==="midi"?e:t.mtof(e)}},note:{regexp:/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i,method(e,n){let o=Fk[e.toLowerCase()]+(parseInt(n,10)+1)*12;return this.defaultUnits==="midi"?o:t.mtof(o)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(e,n,r){let o=1;return e&&e!=="0"&&(o*=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),n&&n!=="0"&&(o*=this._beatsToUnits(parseFloat(n))),r&&r!=="0"&&(o*=this._beatsToUnits(parseFloat(r)/4)),o}}})}transpose(e){return new t(this.context,this.valueOf()*Bo(e))}harmonize(e){return e.map(n=>this.transpose(n))}toMidi(){return Uo(this.valueOf())}toNote(){let e=this.toFrequency(),n=Math.log2(e/t.A4),r=Math.round(12*n)+57,o=Math.floor(r/12);return o<0&&(r+=-12*o),Pk[r%12]+o.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){let e=this._beatsToUnits(1),n=this.valueOf()/e;return Math.floor(n*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(e){return e}_ticksToUnits(e){return 1/(e*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(e){return 1/super._beatsToUnits(e)}_secondsToUnits(e){return 1/e}static mtof(e){return vl(e)}static ftom(e){return Uo(e)}},Fk={cbb:-2,cb:-1,c:0,"c#":1,cx:2,dbb:0,db:1,d:2,"d#":3,dx:4,ebb:2,eb:3,e:4,"e#":5,ex:6,fbb:3,fb:4,f:5,"f#":6,fx:7,gbb:5,gb:6,g:7,"g#":8,gx:9,abb:7,ab:8,a:9,"a#":10,ax:11,bbb:9,bb:10,b:11,"b#":12,bx:13},Pk=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];var Mn=class extends Xt{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}};var We=class t extends Rt{constructor(){super();let e=y(t.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=e.context}static getDefaults(){return{context:Ke()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(e){return new Xt(this.context,e).toSeconds()}toFrequency(e){return new Kt(this.context,e).toFrequency()}toTicks(e){return new Mn(this.context,e).toTicks()}_getPartialProperties(e){let n=this.get();return Object.keys(n).forEach(r=>{ht(e[r])&&delete n[r]}),n}get(){let e=bC(this);return Object.keys(e).forEach(n=>{if(Reflect.has(this,n)){let r=this[n];ne(r)&&ne(r.value)&&ne(r.setValueAtTime)?e[n]=r.value:r instanceof t?e[n]=r._getPartialProperties(e[n]):ot(r)||Et(r)||xt(r)||dl(r)?e[n]=r:delete e[n]}}),e}set(e){return Object.keys(e).forEach(n=>{Reflect.has(this,n)&&ne(this[n])&&(this[n]&&ne(this[n].value)&&ne(this[n].setValueAtTime)?this[n].value!==e[n]&&(this[n].value=e[n]):this[n]instanceof t?this[n].set(e[n]):this[n]=e[n])}),this}};var Xn=class extends wt{constructor(e="stopped"){super(),this.name="StateTimeline",this._initial=e,this.setStateAtTime(this._initial,0)}getValueAtTime(e){let n=this.get(e);return n!==null?n.state:this._initial}setStateAtTime(e,n,r){return _t(n,0),this.add(Object.assign({},r,{state:e,time:n})),this}getLastState(e,n){let r=this._search(n);for(let o=r;o>=0;o--){let i=this._timeline[o];if(i.state===e)return i}}getNextState(e,n){let r=this._search(n);if(r!==-1)for(let o=r;o<this._timeline.length;o++){let i=this._timeline[o];if(i.state===e)return i}}};var fe=class t extends We{constructor(){super(y(t.getDefaults(),arguments,["param","units","convert"])),this.name="Param",this.overridden=!1,this._minOutput=1e-7;let e=y(t.getDefaults(),arguments,["param","units","convert"]);for(G(ne(e.param)&&(Yn(e.param)||e.param instanceof t),"param must be an AudioParam");!Yn(e.param);)e.param=e.param._param;this._swappable=ne(e.swappable)?e.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=e.param,this.input.connect(this._param)):this._param=this.input=e.param,this._events=new wt(1e3),this._initialValue=this._param.defaultValue,this.units=e.units,this.convert=e.convert,this._minValue=e.minValue,this._maxValue=e.maxValue,ne(e.value)&&e.value!==this._toType(this._initialValue)&&this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(We.getDefaults(),{convert:!0,units:"number"})}get value(){let e=this.now();return this.getValueAtTime(e)}set value(e){this.cancelScheduledValues(this.now()),this.setValueAtTime(e,this.now())}get minValue(){return ne(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return ne(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(e,n){return this.units===n}_assertRange(e){return ne(this.maxValue)&&ne(this.minValue)&&_t(e,this._fromType(this.minValue),this._fromType(this.maxValue)),e}_fromType(e){return this.convert&&!this.overridden?this._is(e,"time")?this.toSeconds(e):this._is(e,"decibels")?ms(e):this._is(e,"frequency")?this.toFrequency(e):e:this.overridden?0:e}_toType(e){return this.convert&&this.units==="decibels"?gs(e):e}setValueAtTime(e,n){let r=this.toSeconds(n),o=this._fromType(e);return G(isFinite(o)&&isFinite(r),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._assertRange(o),this.log(this.units,"setValueAtTime",e,r),this._events.add({time:r,type:"setValueAtTime",value:o}),this._param.setValueAtTime(o,r),this}getValueAtTime(e){let n=Math.max(this.toSeconds(e),0),r=this._events.getAfter(n),o=this._events.get(n),i=this._initialValue;if(o===null)i=this._initialValue;else if(o.type==="setTargetAtTime"&&(r===null||r.type==="setValueAtTime")){let s=this._events.getBefore(o.time),a;s===null?a=this._initialValue:a=s.value,o.type==="setTargetAtTime"&&(i=this._exponentialApproach(o.time,a,o.value,o.constant,n))}else if(r===null)i=o.value;else if(r.type==="linearRampToValueAtTime"||r.type==="exponentialRampToValueAtTime"){let s=o.value;if(o.type==="setTargetAtTime"){let a=this._events.getBefore(o.time);a===null?s=this._initialValue:s=a.value}r.type==="linearRampToValueAtTime"?i=this._linearInterpolate(o.time,s,r.time,r.value,n):i=this._exponentialInterpolate(o.time,s,r.time,r.value,n)}else i=o.value;return this._toType(i)}setRampPoint(e){e=this.toSeconds(e);let n=this.getValueAtTime(e);return this.cancelAndHoldAtTime(e),this._fromType(n)===0&&(n=this._toType(this._minOutput)),this.setValueAtTime(n,e),this}linearRampToValueAtTime(e,n){let r=this._fromType(e),o=this.toSeconds(n);return G(isFinite(r)&&isFinite(o),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._assertRange(r),this._events.add({time:o,type:"linearRampToValueAtTime",value:r}),this.log(this.units,"linearRampToValueAtTime",e,o),this._param.linearRampToValueAtTime(r,o),this}exponentialRampToValueAtTime(e,n){let r=this._fromType(e);r=qt(r,0)?this._minOutput:r,this._assertRange(r);let o=this.toSeconds(n);return G(isFinite(r)&&isFinite(o),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._events.add({time:o,type:"exponentialRampToValueAtTime",value:r}),this.log(this.units,"exponentialRampToValueAtTime",e,o),this._param.exponentialRampToValueAtTime(r,o),this}exponentialRampTo(e,n,r){return r=this.toSeconds(r),this.setRampPoint(r),this.exponentialRampToValueAtTime(e,r+this.toSeconds(n)),this}linearRampTo(e,n,r){return r=this.toSeconds(r),this.setRampPoint(r),this.linearRampToValueAtTime(e,r+this.toSeconds(n)),this}targetRampTo(e,n,r){return r=this.toSeconds(r),this.setRampPoint(r),this.exponentialApproachValueAtTime(e,r,n),this}exponentialApproachValueAtTime(e,n,r){n=this.toSeconds(n),r=this.toSeconds(r);let o=Math.log(r+1)/Math.log(200);return this.setTargetAtTime(e,n,o),this.cancelAndHoldAtTime(n+r*.9),this.linearRampToValueAtTime(e,n+r),this}setTargetAtTime(e,n,r){let o=this._fromType(e);G(isFinite(r)&&r>0,"timeConstant must be a number greater than 0");let i=this.toSeconds(n);return this._assertRange(o),G(isFinite(o)&&isFinite(i),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._events.add({constant:r,time:i,type:"setTargetAtTime",value:o}),this.log(this.units,"setTargetAtTime",e,i,r),this._param.setTargetAtTime(o,i,r),this}setValueCurveAtTime(e,n,r,o=1){r=this.toSeconds(r),n=this.toSeconds(n);let i=this._fromType(e[0])*o;this.setValueAtTime(this._toType(i),n);let s=r/(e.length-1);for(let a=1;a<e.length;a++){let c=this._fromType(e[a])*o;this.linearRampToValueAtTime(this._toType(c),n+a*s)}return this}cancelScheduledValues(e){let n=this.toSeconds(e);return G(isFinite(n),`Invalid argument to cancelScheduledValues: ${JSON.stringify(e)}`),this._events.cancel(n),this._param.cancelScheduledValues(n),this.log(this.units,"cancelScheduledValues",n),this}cancelAndHoldAtTime(e){let n=this.toSeconds(e),r=this._fromType(this.getValueAtTime(n));G(isFinite(n),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(e)}`),this.log(this.units,"cancelAndHoldAtTime",n,"value="+r);let o=this._events.get(n),i=this._events.getAfter(n);return o&&qt(o.time,n)?i?(this._param.cancelScheduledValues(i.time),this._events.cancel(i.time)):(this._param.cancelAndHoldAtTime(n),this._events.cancel(n+this.sampleTime)):i&&(this._param.cancelScheduledValues(i.time),this._events.cancel(i.time),i.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(r),n):i.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(r),n)),this._events.add({time:n,type:"setValueAtTime",value:r}),this._param.setValueAtTime(r,n),this}rampTo(e,n=.1,r){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(e,n,r):this.linearRampTo(e,n,r),this}apply(e){let n=this.context.currentTime;e.setValueAtTime(this.getValueAtTime(n),n);let r=this._events.get(n);if(r&&r.type==="setTargetAtTime"){let o=this._events.getAfter(r.time),i=o?o.time:n+2,s=(i-n)/10;for(let a=n;a<i;a+=s)e.linearRampToValueAtTime(this.getValueAtTime(a),a)}return this._events.forEachAfter(this.context.currentTime,o=>{o.type==="cancelScheduledValues"?e.cancelScheduledValues(o.time):o.type==="setTargetAtTime"?e.setTargetAtTime(o.value,o.time,o.constant):e[o.type](o.value,o.time)}),this}setParam(e){G(this._swappable,"The Param must be assigned as 'swappable' in the constructor");let n=this.input;return n.disconnect(this._param),this.apply(e),this._param=e,n.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(e,n,r,o,i){return r+(n-r)*Math.exp(-(i-e)/o)}_linearInterpolate(e,n,r,o,i){return n+(o-n)*((i-e)/(r-e))}_exponentialInterpolate(e,n,r,o,i){return n*Math.pow(o/n,(i-e)/(r-e))}};var F=class t extends We{constructor(){super(...arguments),this.name="ToneAudioNode",this._internalChannels=[]}get numberOfInputs(){return ne(this.input)?Yn(this.input)||this.input instanceof fe?1:this.input.numberOfInputs:0}get numberOfOutputs(){return ne(this.output)?this.output.numberOfOutputs:0}_isAudioNode(e){return ne(e)&&(e instanceof t||br(e))}_getInternalNodes(){let e=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&e.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&e.push(this.output),e}_setChannelProperties(e){this._getInternalNodes().forEach(r=>{r.channelCount=e.channelCount,r.channelCountMode=e.channelCountMode,r.channelInterpretation=e.channelInterpretation})}_getChannelProperties(){let e=this._getInternalNodes();G(e.length>0,"ToneAudioNode does not have any internal nodes");let n=e[0];return{channelCount:n.channelCount,channelCountMode:n.channelCountMode,channelInterpretation:n.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(e){let n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelCount:e}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(e){let n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelCountMode:e}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(e){let n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelInterpretation:e}))}connect(e,n=0,r=0){return $t(this,e,n,r),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return Ha("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(e,n=0,r=0){return MC(this,e,n,r),this}chain(...e){return Kn(this,...e),this}fan(...e){return e.forEach(n=>this.connect(n)),this}dispose(){return super.dispose(),ne(this.input)&&(this.input instanceof t?this.input.dispose():br(this.input)&&this.input.disconnect()),ne(this.output)&&(this.output instanceof t?this.output.dispose():br(this.output)&&this.output.disconnect()),this._internalChannels=[],this}};function Kn(...t){let e=t.shift();t.reduce((n,r)=>(n instanceof F?n.connect(r):br(n)&&$t(n,r),r),e)}function $t(t,e,n=0,r=0){for(G(ne(t),"Cannot connect from undefined node"),G(ne(e),"Cannot connect to undefined node"),(e instanceof F||br(e))&&G(e.numberOfInputs>0,"Cannot connect to node with no inputs"),G(t.numberOfOutputs>0,"Cannot connect from node with no outputs");e instanceof F||e instanceof fe;)ne(e.input)&&(e=e.input);for(;t instanceof F;)ne(t.output)&&(t=t.output);Yn(e)?t.connect(e,n):t.connect(e,n,r)}function MC(t,e,n=0,r=0){if(ne(e))for(;e instanceof F;)e=e.input;for(;!br(t);)ne(t.output)&&(t=t.output);Yn(e)?t.disconnect(e,n):br(e)?t.disconnect(e,n,r):t.disconnect()}var Q=class t extends F{constructor(){super(y(t.getDefaults(),arguments,["gain","units"])),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode;let e=y(t.getDefaults(),arguments,["gain","units"]);this.gain=new fe({context:this.context,convert:e.convert,param:this._gainNode.gain,units:e.units,value:e.gain,minValue:e.minValue,maxValue:e.maxValue}),B(this,"gain")}static getDefaults(){return Object.assign(F.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}};var Jn=class extends F{constructor(e){super(e),this.onended=oe,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new Q({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(n){let r=this.toSeconds(n);return this._startTime!==-1&&r>=this._startTime&&(this._stopTime===-1||r<=this._stopTime)?"started":"stopped"},this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut,this._curve=e.curve,this.onended=e.onended}static getDefaults(){return Object.assign(F.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:oe})}_startGain(e,n=1){G(this._startTime===-1,"Source cannot be started more than once");let r=this.toSeconds(this._fadeIn);return this._startTime=e+r,this._startTime=Math.max(this._startTime,this.context.currentTime),r>0?(this._gainNode.gain.setValueAtTime(0,e),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(n,e+r):this._gainNode.gain.exponentialApproachValueAtTime(n,e,r)):this._gainNode.gain.setValueAtTime(n,e),this}stop(e){return this.log("stop",e),this._stopGain(this.toSeconds(e)),this}_stopGain(e){G(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();let n=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(e)+n,this._stopTime=Math.max(this._stopTime,this.context.currentTime),n>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,n,e):this._gainNode.gain.targetRampTo(0,n,e):(this._gainNode.gain.cancelAndHoldAtTime(e),this._gainNode.gain.setValueAtTime(0,e)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{let r=this._curve==="exponential"?n*2:0;this._stopSource(this.now()+r),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==oe&&(this.onended(this),this.onended=oe,!this.context.isOffline)){let e=()=>this.dispose();typeof window.requestIdleCallback<"u"?window.requestIdleCallback(e):setTimeout(e,1e3)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),G(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.disconnect(),this}};var Za=class t extends Jn{constructor(){super(y(t.getDefaults(),arguments,["offset"])),this.name="ToneConstantSource",this._source=this.context.createConstantSource();let e=y(t.getDefaults(),arguments,["offset"]);$t(this._source,this._gainNode),this.offset=new fe({context:this.context,convert:e.convert,param:this._source.offset,units:e.units,value:e.offset,minValue:e.minValue,maxValue:e.maxValue})}static getDefaults(){return Object.assign(Jn.getDefaults(),{convert:!0,offset:1,units:"number"})}start(e){let n=this.toSeconds(e);return this.log("start",n),this._startGain(n),this._source.start(n),this}_stopSource(e){this._source.stop(e)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}};var se=class t extends F{constructor(){super(y(t.getDefaults(),arguments,["value","units"])),this.name="Signal",this.override=!0;let e=y(t.getDefaults(),arguments,["value","units"]);this.output=this._constantSource=new Za({context:this.context,convert:e.convert,offset:e.value,units:e.units,minValue:e.minValue,maxValue:e.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(F.getDefaults(),{convert:!0,units:"number",value:0})}connect(e,n=0,r=0){return vs(this,e,n,r),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(e,n){return this._param.setValueAtTime(e,n),this}getValueAtTime(e){return this._param.getValueAtTime(e)}setRampPoint(e){return this._param.setRampPoint(e),this}linearRampToValueAtTime(e,n){return this._param.linearRampToValueAtTime(e,n),this}exponentialRampToValueAtTime(e,n){return this._param.exponentialRampToValueAtTime(e,n),this}exponentialRampTo(e,n,r){return this._param.exponentialRampTo(e,n,r),this}linearRampTo(e,n,r){return this._param.linearRampTo(e,n,r),this}targetRampTo(e,n,r){return this._param.targetRampTo(e,n,r),this}exponentialApproachValueAtTime(e,n,r){return this._param.exponentialApproachValueAtTime(e,n,r),this}setTargetAtTime(e,n,r){return this._param.setTargetAtTime(e,n,r),this}setValueCurveAtTime(e,n,r,o){return this._param.setValueCurveAtTime(e,n,r,o),this}cancelScheduledValues(e){return this._param.cancelScheduledValues(e),this}cancelAndHoldAtTime(e){return this._param.cancelAndHoldAtTime(e),this}rampTo(e,n,r){return this._param.rampTo(e,n,r),this}get value(){return this._param.value}set value(e){this._param.value=e}get convert(){return this._param.convert}set convert(e){this._param.convert=e}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(e){this._param.overridden=e}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(e){return this._param.apply(e),this}};function vs(t,e,n,r){(e instanceof fe||Yn(e)||e instanceof se&&e.override)&&(e.cancelScheduledValues(0),e.setValueAtTime(0,0),e instanceof se&&(e.overridden=!0)),$t(t,e,n,r)}var _l=class t extends fe{constructor(){super(y(t.getDefaults(),arguments,["value"])),this.name="TickParam",this._events=new wt(1/0),this._multiplier=1;let e=y(t.getDefaults(),arguments,["value"]);this._multiplier=e.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(e.value)}),this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(fe.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(e,n,r){n=this.toSeconds(n),this.setRampPoint(n);let o=this._fromType(e),i=this._events.get(n),s=Math.round(Math.max(1/r,1));for(let a=0;a<=s;a++){let c=r*a+n,u=this._exponentialApproach(i.time,i.value,o,r,c);this.linearRampToValueAtTime(this._toType(u),c)}return this}setValueAtTime(e,n){let r=this.toSeconds(n);super.setValueAtTime(e,n);let o=this._events.get(r),i=this._events.previousEvent(o),s=this._getTicksUntilEvent(i,r);return o.ticks=Math.max(s,0),this}linearRampToValueAtTime(e,n){let r=this.toSeconds(n);super.linearRampToValueAtTime(e,n);let o=this._events.get(r),i=this._events.previousEvent(o),s=this._getTicksUntilEvent(i,r);return o.ticks=Math.max(s,0),this}exponentialRampToValueAtTime(e,n){n=this.toSeconds(n);let r=this._fromType(e),o=this._events.get(n),i=Math.round(Math.max((n-o.time)*10,1)),s=(n-o.time)/i;for(let a=0;a<=i;a++){let c=s*a+o.time,u=this._exponentialInterpolate(o.time,o.value,n,r,c);this.linearRampToValueAtTime(this._toType(u),c)}return this}_getTicksUntilEvent(e,n){if(e===null)e={ticks:0,time:0,type:"setValueAtTime",value:0};else if(ht(e.ticks)){let s=this._events.previousEvent(e);e.ticks=this._getTicksUntilEvent(s,e.time)}let r=this._fromType(this.getValueAtTime(e.time)),o=this._fromType(this.getValueAtTime(n)),i=this._events.get(n);return i&&i.time===n&&i.type==="setValueAtTime"&&(o=this._fromType(this.getValueAtTime(n-this.sampleTime))),.5*(n-e.time)*(r+o)+e.ticks}getTicksAtTime(e){let n=this.toSeconds(e),r=this._events.get(n);return Math.max(this._getTicksUntilEvent(r,n),0)}getDurationOfTicks(e,n){let r=this.toSeconds(n),o=this.getTicksAtTime(n);return this.getTimeOfTick(o+e)-r}getTimeOfTick(e){let n=this._events.get(e,"ticks"),r=this._events.getAfter(e,"ticks");if(n&&n.ticks===e)return n.time;if(n&&r&&r.type==="linearRampToValueAtTime"&&n.value!==r.value){let o=this._fromType(this.getValueAtTime(n.time)),s=(this._fromType(this.getValueAtTime(r.time))-o)/(r.time-n.time),a=Math.sqrt(Math.pow(o,2)-2*s*(n.ticks-e)),c=(-o+a)/s,u=(-o-a)/s;return(c>0?c:u)+n.time}else return n?n.value===0?1/0:n.time+(e-n.ticks)/n.value:e/this._initialValue}ticksToTime(e,n){return this.getDurationOfTicks(e,n)}timeToTicks(e,n){let r=this.toSeconds(n),o=this.toSeconds(e),i=this.getTicksAtTime(r);return this.getTicksAtTime(r+o)-i}_fromType(e){return this.units==="bpm"&&this.multiplier?1/(60/e/this.multiplier):super._fromType(e)}_toType(e){return this.units==="bpm"&&this.multiplier?e/this.multiplier*60:super._toType(e)}get multiplier(){return this._multiplier}set multiplier(e){let n=this.value;this._multiplier=e,this.cancelScheduledValues(0),this.setValueAtTime(n,0)}};var xl=class t extends se{constructor(){super(y(t.getDefaults(),arguments,["value"])),this.name="TickSignal";let e=y(t.getDefaults(),arguments,["value"]);this.input=this._param=new _l({context:this.context,convert:e.convert,multiplier:e.multiplier,param:this._constantSource.offset,units:e.units,value:e.value})}static getDefaults(){return Object.assign(se.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(e,n){return this._param.ticksToTime(e,n)}timeToTicks(e,n){return this._param.timeToTicks(e,n)}getTimeOfTick(e){return this._param.getTimeOfTick(e)}getDurationOfTicks(e,n){return this._param.getDurationOfTicks(e,n)}getTicksAtTime(e){return this._param.getTicksAtTime(e)}get multiplier(){return this._param.multiplier}set multiplier(e){this._param.multiplier=e}dispose(){return super.dispose(),this._param.dispose(),this}};var wl=class t extends We{constructor(){super(y(t.getDefaults(),arguments,["frequency"])),this.name="TickSource",this._state=new Xn,this._tickOffset=new wt;let e=y(t.getDefaults(),arguments,["frequency"]);this.frequency=new xl({context:this.context,units:e.units,value:e.frequency}),B(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},We.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(e,n){let r=this.toSeconds(e);return this._state.getValueAtTime(r)!=="started"&&(this._state.setStateAtTime("started",r),ne(n)&&this.setTicksAtTime(n,r)),this}stop(e){let n=this.toSeconds(e);if(this._state.getValueAtTime(n)==="stopped"){let r=this._state.get(n);r&&r.time>0&&(this._tickOffset.cancel(r.time),this._state.cancel(r.time))}return this._state.cancel(n),this._state.setStateAtTime("stopped",n),this.setTicksAtTime(0,n),this}pause(e){let n=this.toSeconds(e);return this._state.getValueAtTime(n)==="started"&&this._state.setStateAtTime("paused",n),this}cancel(e){return e=this.toSeconds(e),this._state.cancel(e),this._tickOffset.cancel(e),this}getTicksAtTime(e){let n=this.toSeconds(e),r=this._state.getLastState("stopped",n),o={state:"paused",time:n};this._state.add(o);let i=r,s=0;return this._state.forEachBetween(r.time,n+this.sampleTime,a=>{let c=i.time,u=this._tickOffset.get(a.time);u&&u.time>=i.time&&(s=u.ticks,c=u.time),i.state==="started"&&a.state!=="started"&&(s+=this.frequency.getTicksAtTime(a.time)-this.frequency.getTicksAtTime(c)),i=a}),this._state.remove(o),s}get ticks(){return this.getTicksAtTime(this.now())}set ticks(e){this.setTicksAtTime(e,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(e){let n=this.now(),r=this.frequency.timeToTicks(e,n);this.setTicksAtTime(r,n)}getSecondsAtTime(e){e=this.toSeconds(e);let n=this._state.getLastState("stopped",e),r={state:"paused",time:e};this._state.add(r);let o=n,i=0;return this._state.forEachBetween(n.time,e+this.sampleTime,s=>{let a=o.time,c=this._tickOffset.get(s.time);c&&c.time>=o.time&&(i=c.seconds,a=c.time),o.state==="started"&&s.state!=="started"&&(i+=s.time-a),o=s}),this._state.remove(r),i}setTicksAtTime(e,n){return n=this.toSeconds(n),this._tickOffset.cancel(n),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(e,n),ticks:e,time:n}),this}getStateAtTime(e){return e=this.toSeconds(e),this._state.getValueAtTime(e)}getTimeOfTick(e,n=this.now()){let r=this._tickOffset.get(n),o=this._state.get(n),i=Math.max(r.time,o.time),s=this.frequency.getTicksAtTime(i)+e-r.ticks;return this.frequency.getTimeOfTick(s)}forEachTickBetween(e,n,r){let o=this._state.get(e);this._state.forEachBetween(e,n,s=>{o&&o.state==="started"&&s.state!=="started"&&this.forEachTickBetween(Math.max(o.time,e),s.time-this.sampleTime,r),o=s});let i=null;if(o&&o.state==="started"){let s=Math.max(o.time,e),a=this.frequency.getTicksAtTime(s),c=this.frequency.getTicksAtTime(o.time),u=a-c,l=Math.ceil(u)-u;l=qt(l,1)?0:l;let d=this.frequency.getTimeOfTick(a+l);for(;d<n;){try{r(d,Math.round(this.getTicksAtTime(d)))}catch(h){i=h;break}d+=this.frequency.getDurationOfTicks(1,d)}}if(i)throw i;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this.frequency.dispose(),this}};var ys=class t extends We{constructor(){super(y(t.getDefaults(),arguments,["callback","frequency"])),this.name="Clock",this.callback=oe,this._lastUpdate=0,this._state=new Xn("stopped"),this._boundLoop=this._loop.bind(this);let e=y(t.getDefaults(),arguments,["callback","frequency"]);this.callback=e.callback,this._tickSource=new wl({context:this.context,frequency:e.frequency,units:e.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,B(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(We.getDefaults(),{callback:oe,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(e,n){ll(this.context);let r=this.toSeconds(e);return this.log("start",r),this._state.getValueAtTime(r)!=="started"&&(this._state.setStateAtTime("started",r),this._tickSource.start(r,n),r<this._lastUpdate&&this.emit("start",r,n)),this}stop(e){let n=this.toSeconds(e);return this.log("stop",n),this._state.cancel(n),this._state.setStateAtTime("stopped",n),this._tickSource.stop(n),n<this._lastUpdate&&this.emit("stop",n),this}pause(e){let n=this.toSeconds(e);return this._state.getValueAtTime(n)==="started"&&(this._state.setStateAtTime("paused",n),this._tickSource.pause(n),n<this._lastUpdate&&this.emit("pause",n)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(e){this._tickSource.ticks=e}get seconds(){return this._tickSource.seconds}set seconds(e){this._tickSource.seconds=e}getSecondsAtTime(e){return this._tickSource.getSecondsAtTime(e)}setTicksAtTime(e,n){return this._tickSource.setTicksAtTime(e,n),this}getTimeOfTick(e,n=this.now()){return this._tickSource.getTimeOfTick(e,n)}getTicksAtTime(e){return this._tickSource.getTicksAtTime(e)}nextTickTime(e,n){let r=this.toSeconds(n),o=this.getTicksAtTime(r);return this._tickSource.getTimeOfTick(o+e,r)}_loop(){let e=this._lastUpdate,n=this.now();this._lastUpdate=n,this.log("loop",e,n),e!==n&&(this._state.forEachBetween(e,n,r=>{switch(r.state){case"started":let o=this._tickSource.getTicksAtTime(r.time);this.emit("start",r.time,o);break;case"stopped":r.time!==0&&this.emit("stop",r.time);break;case"paused":this.emit("pause",r.time);break}}),this._tickSource.forEachTickBetween(e,n,(r,o)=>{this.callback(r,o)}))}getStateAtTime(e){let n=this.toSeconds(e);return this._state.getValueAtTime(n)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}};lo.mixin(ys);var _s=class t extends Rt{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;let e=y(t.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=e.baseUrl,Object.keys(e.urls).forEach(n=>{this._loadingCount++;let r=e.urls[n];this.add(n,r,this._bufferLoaded.bind(this,e.onload),e.onerror)})}static getDefaults(){return{baseUrl:"",onerror:oe,onload:oe,urls:{}}}has(e){return this._buffers.has(e.toString())}get(e){return G(this.has(e),`ToneAudioBuffers has no buffer named: ${e}`),this._buffers.get(e.toString())}_bufferLoaded(e){this._loadingCount--,this._loadingCount===0&&e&&e()}get loaded(){return Array.from(this._buffers).every(([e,n])=>n.loaded)}add(e,n,r=oe,o=oe){return xt(n)?this._buffers.set(e.toString(),new Ft(this.baseUrl+n,r,o)):this._buffers.set(e.toString(),new Ft(n,r,o)),this}dispose(){return super.dispose(),this._buffers.forEach(e=>e.dispose()),this._buffers.clear(),this}};var Je=class extends Mn{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(e){return this._getPPQ()*e}_secondsToUnits(e){return Math.floor(e/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(e){return e}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}};var em=class extends We{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new wt,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(e,n){return this._events.add({callback:e,time:this.toSeconds(n)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(e){return this._events.cancel(this.toSeconds(e)),this}_drawLoop(){let e=this.context.currentTime;for(;this._events.length&&this._events.peek().time-this.anticipation<=e;){let n=this._events.shift();n&&e-n.time<=this.expiration&&n.callback()}this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}};co(t=>{t.draw=new em({context:t})});uo(t=>{t.draw.dispose()});var bl=class extends Rt{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(e){G(ne(e.time),"Events must have a time property"),G(ne(e.duration),"Events must have a duration parameter"),e.time=e.time.valueOf();let n=new tm(e.time,e.time+e.duration,e);for(this._root===null?this._root=n:this._root.insert(n),this._length++;n!==null;)n.updateHeight(),n.updateMax(),this._rebalance(n),n=n.parent;return this}remove(e){if(this._root!==null){let n=[];this._root.search(e.time,n);for(let r of n)if(r.event===e){this._removeNode(r),this._length--;break}}return this}get length(){return this._length}cancel(e){return this.forEachFrom(e,n=>this.remove(n)),this}_setRoot(e){this._root=e,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(e,n){e.parent!==null?(e.isLeftChild()?e.parent.left=n:e.parent.right=n,this._rebalance(e.parent)):this._setRoot(n)}_removeNode(e){if(e.left===null&&e.right===null)this._replaceNodeInParent(e,null);else if(e.right===null)this._replaceNodeInParent(e,e.left);else if(e.left===null)this._replaceNodeInParent(e,e.right);else{let n=e.getBalance(),r,o=null;if(n>0)if(e.left.right===null)r=e.left,r.right=e.right,o=r;else{for(r=e.left.right;r.right!==null;)r=r.right;r.parent&&(r.parent.right=r.left,o=r.parent,r.left=e.left,r.right=e.right)}else if(e.right.left===null)r=e.right,r.left=e.left,o=r;else{for(r=e.right.left;r.left!==null;)r=r.left;r.parent&&(r.parent.left=r.right,o=r.parent,r.left=e.left,r.right=e.right)}e.parent!==null?e.isLeftChild()?e.parent.left=r:e.parent.right=r:this._setRoot(r),o&&this._rebalance(o)}e.dispose()}_rotateLeft(e){let n=e.parent,r=e.isLeftChild(),o=e.right;o&&(e.right=o.left,o.left=e),n!==null?r?n.left=o:n.right=o:this._setRoot(o)}_rotateRight(e){let n=e.parent,r=e.isLeftChild(),o=e.left;o&&(e.left=o.right,o.right=e),n!==null?r?n.left=o:n.right=o:this._setRoot(o)}_rebalance(e){let n=e.getBalance();n>1&&e.left?e.left.getBalance()<0?this._rotateLeft(e.left):this._rotateRight(e):n<-1&&e.right&&(e.right.getBalance()>0?this._rotateRight(e.right):this._rotateLeft(e))}get(e){if(this._root!==null){let n=[];if(this._root.search(e,n),n.length>0){let r=n[0];for(let o=1;o<n.length;o++)n[o].low>r.low&&(r=n[o]);return r.event}}return null}forEach(e){if(this._root!==null){let n=[];this._root.traverse(r=>n.push(r)),n.forEach(r=>{r.event&&e(r.event)})}return this}forEachAtTime(e,n){if(this._root!==null){let r=[];this._root.search(e,r),r.forEach(o=>{o.event&&n(o.event)})}return this}forEachFrom(e,n){if(this._root!==null){let r=[];this._root.searchAfter(e,r),r.forEach(o=>{o.event&&n(o.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(e=>e.dispose()),this._root=null,this}},tm=class{constructor(e,n,r){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=r,this.low=e,this.high=n,this.max=this.high}insert(e){e.low<=this.low?this.left===null?this.left=e:this.left.insert(e):this.right===null?this.right=e:this.right.insert(e)}search(e,n){e>this.max||(this.left!==null&&this.left.search(e,n),this.low<=e&&this.high>e&&n.push(this),!(this.low>e)&&this.right!==null&&this.right.search(e,n))}searchAfter(e,n){this.low>=e&&(n.push(this),this.left!==null&&this.left.searchAfter(e,n)),this.right!==null&&this.right.searchAfter(e,n)}traverse(e){e(this),this.left!==null&&this.left.traverse(e),this.right!==null&&this.right.traverse(e)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let e=0;return this.left!==null&&this.right!==null?e=this.left.height-this.right.height:this.left!==null?e=this.left.height+1:this.right!==null&&(e=-(this.right.height+1)),e}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(e){this._left=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(e){this._right=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}};var Nn=class t extends F{constructor(){super(y(t.getDefaults(),arguments,["volume"])),this.name="Volume";let e=y(t.getDefaults(),arguments,["volume"]);this.input=this.output=new Q({context:this.context,gain:e.volume,units:"decibels"}),this.volume=this.output.gain,B(this,"volume"),this._unmutedVolume=e.volume,this.mute=e.mute}static getDefaults(){return Object.assign(F.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(e){!this.mute&&e?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!e&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}};var nm=class t extends F{constructor(){super(y(t.getDefaults(),arguments)),this.name="Destination",this.input=new Nn({context:this.context}),this.output=new Q({context:this.context}),this.volume=this.input.volume;let e=y(t.getDefaults(),arguments);Kn(this.input,this.output,this.context.rawContext.destination),this.mute=e.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(F.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(e){this.input.mute=e}chain(...e){return this.input.disconnect(),e.unshift(this.input),e.push(this.output),Kn(...e),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}};co(t=>{t.destination=new nm({context:t})});uo(t=>{t.destination.dispose()});var Cl=class extends Rt{constructor(e){super(),this.name="TimelineValue",this._timeline=new wt({memory:10}),this._initialValue=e}set(e,n){return this._timeline.add({value:e,time:n}),this}get(e){let n=this._timeline.get(e);return n?n.value:this._initialValue}};var xs=(()=>{class t{constructor(n,r){this.id=t._eventId++;let o=Object.assign(t.getDefaults(),r);this.transport=n,this.callback=o.callback,this._once=o.once,this.time=o.time}static getDefaults(){return{callback:oe,once:!1,time:0}}invoke(n){this.callback&&(this.callback(n),this._once&&this.transport.clear(this.id))}dispose(){return this.callback=void 0,this}}return t._eventId=0,t})();var Dl=class t extends xs{constructor(e,n){super(e,n),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);let r=Object.assign(t.getDefaults(),n);this.duration=new Je(e.context,r.duration).valueOf(),this._interval=new Je(e.context,r.interval).valueOf(),this._nextTick=r.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},xs.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(e){this._createEvents(e),super.invoke(e)}_createEvents(e){let n=this.transport.getTicksAtTime(e);n>=this.time&&n>=this._nextTick&&this._nextTick+this._interval<this.time+this.duration&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new Je(this.context,this._nextTick).toSeconds()))}_restart(e){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.time;let n=this.transport.getTicksAtTime(e);n>this.time&&(this._nextTick=this.time+Math.ceil((n-this.time)/this._interval)*this._interval),this._currentId=this.transport.scheduleOnce(this.invoke.bind(this),new Je(this.context,this._nextTick).toSeconds()),this._nextTick+=this._interval,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new Je(this.context,this._nextTick).toSeconds())}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this}};var Sl=class t extends We{constructor(){super(y(t.getDefaults(),arguments)),this.name="Transport",this._loop=new Cl(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new wt,this._repeatedEvents=new bl,this._syncedSignals=[],this._swingAmount=0;let e=y(t.getDefaults(),arguments);this._ppq=e.ppq,this._clock=new ys({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=e.ppq,this.bpm.setValueAtTime(e.bpm,0),B(this,"bpm"),this._timeSignature=e.timeSignature,this._swingTicks=e.ppq/2}static getDefaults(){return Object.assign(We.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(e,n){if(this._loop.get(e)&&n>=this._loopEnd&&(this.emit("loopEnd",e),this._clock.setTicksAtTime(this._loopStart,e),n=this._loopStart,this.emit("loopStart",e,this._clock.getSecondsAtTime(e)),this.emit("loop",e)),this._swingAmount>0&&n%this._ppq!==0&&n%(this._swingTicks*2)!==0){let r=n%(this._swingTicks*2)/(this._swingTicks*2),o=Math.sin(r*Math.PI)*this._swingAmount;e+=new Je(this.context,this._swingTicks*2/3).toSeconds()*o}this._timeline.forEachAtTime(n,r=>r.invoke(e))}schedule(e,n){let r=new xs(this,{callback:e,time:new Mn(this.context,n).toTicks()});return this._addEvent(r,this._timeline)}scheduleRepeat(e,n,r,o=1/0){let i=new Dl(this,{callback:e,duration:new Xt(this.context,o).toTicks(),interval:new Xt(this.context,n).toTicks(),time:new Mn(this.context,r).toTicks()});return this._addEvent(i,this._repeatedEvents)}scheduleOnce(e,n){let r=new xs(this,{callback:e,once:!0,time:new Mn(this.context,n).toTicks()});return this._addEvent(r,this._timeline)}clear(e){if(this._scheduledEvents.hasOwnProperty(e)){let n=this._scheduledEvents[e.toString()];n.timeline.remove(n.event),n.event.dispose(),delete this._scheduledEvents[e.toString()]}return this}_addEvent(e,n){return this._scheduledEvents[e.id.toString()]={event:e,timeline:n},n.add(e),e.id}cancel(e=0){let n=this.toTicks(e);return this._timeline.forEachFrom(n,r=>this.clear(r.id)),this._repeatedEvents.forEachFrom(n,r=>this.clear(r.id)),this}_bindClockEvents(){this._clock.on("start",(e,n)=>{n=new Je(this.context,n).toSeconds(),this.emit("start",e,n)}),this._clock.on("stop",e=>{this.emit("stop",e)}),this._clock.on("pause",e=>{this.emit("pause",e)})}get state(){return this._clock.getStateAtTime(this.now())}start(e,n){let r;return ne(n)&&(r=this.toTicks(n)),this._clock.start(e,r),this}stop(e){return this._clock.stop(e),this}pause(e){return this._clock.pause(e),this}toggle(e){return e=this.toSeconds(e),this._clock.getStateAtTime(e)!=="started"?this.start(e):this.stop(e),this}get timeSignature(){return this._timeSignature}set timeSignature(e){ot(e)&&(e=e[0]/e[1]*4),this._timeSignature=e}get loopStart(){return new Xt(this.context,this._loopStart,"i").toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e)}get loopEnd(){return new Xt(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e)}get loop(){return this._loop.get(this.now())}set loop(e){this._loop.set(e,this.now())}setLoopPoints(e,n){return this.loopStart=e,this.loopEnd=n,this}get swing(){return this._swingAmount}set swing(e){this._swingAmount=e}get swingSubdivision(){return new Je(this.context,this._swingTicks).toNotation()}set swingSubdivision(e){this._swingTicks=this.toTicks(e)}get position(){let e=this.now(),n=this._clock.getTicksAtTime(e);return new Je(this.context,n).toBarsBeatsSixteenths()}set position(e){let n=this.toTicks(e);this.ticks=n}get seconds(){return this._clock.seconds}set seconds(e){let n=this.now(),r=this._clock.frequency.timeToTicks(e,n);this.ticks=r}get progress(){if(this.loop){let e=this.now();return(this._clock.getTicksAtTime(e)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(e){if(this._clock.ticks!==e){let n=this.now();if(this.state==="started"){let r=this._clock.getTicksAtTime(n),o=this._clock.frequency.getDurationOfTicks(Math.ceil(r)-r,n),i=n+o;this.emit("stop",i),this._clock.setTicksAtTime(e,i),this.emit("start",i,this._clock.getSecondsAtTime(i))}else this._clock.setTicksAtTime(e,n)}}getTicksAtTime(e){return Math.round(this._clock.getTicksAtTime(e))}getSecondsAtTime(e){return this._clock.getSecondsAtTime(e)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(e){this._clock.frequency.multiplier=e}nextSubdivision(e){if(e=this.toTicks(e),this.state!=="started")return 0;{let n=this.now(),r=this.getTicksAtTime(n),o=e-r%e;return this._clock.nextTickTime(o,n)}}syncSignal(e,n){if(!n){let o=this.now();if(e.getValueAtTime(o)!==0){let s=1/(60/this.bpm.getValueAtTime(o)/this.PPQ);n=e.getValueAtTime(o)/s}else n=0}let r=new Q(n);return this.bpm.connect(r),r.connect(e._param),this._syncedSignals.push({initial:e.value,ratio:r,signal:e}),e.value=0,this}unsyncSignal(e){for(let n=this._syncedSignals.length-1;n>=0;n--){let r=this._syncedSignals[n];r.signal===e&&(r.ratio.dispose(),r.signal.value=r.initial,this._syncedSignals.splice(n,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),fs(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}};lo.mixin(Sl);co(t=>{t.transport=new Sl({context:t})});uo(t=>{t.transport.dispose()});var Fe=class extends F{constructor(e){super(e),this.input=void 0,this._state=new Xn("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=oe,this._syncedStop=oe,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new Nn({context:this.context,mute:e.mute,volume:e.volume}),this.volume=this._volume.volume,B(this,"volume"),this.onstop=e.onstop}static getDefaults(){return Object.assign(F.getDefaults(),{mute:!1,onstop:oe,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}_clampToCurrentTime(e){return this._synced?e:Math.max(e,this.context.currentTime)}start(e,n,r){let o=ht(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(o=this._clampToCurrentTime(o),!this._synced&&this._state.getValueAtTime(o)==="started")G(ds(o,this._state.get(o).time),"Start time must be strictly greater than previous start time"),this._state.cancel(o),this._state.setStateAtTime("started",o),this.log("restart",o),this.restart(o,n,r);else if(this.log("start",o),this._state.setStateAtTime("started",o),this._synced){let i=this._state.get(o);i&&(i.offset=this.toSeconds(Qt(n,0)),i.duration=r?this.toSeconds(r):void 0);let s=this.context.transport.schedule(a=>{this._start(a,n,r)},o);this._scheduled.push(s),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>o&&this._syncedStart(this.now(),this.context.transport.seconds)}else ll(this.context),this._start(o,n,r);return this}stop(e){let n=ht(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(n=this._clampToCurrentTime(n),this._state.getValueAtTime(n)==="started"||ne(this._state.getNextState("started",n))){if(this.log("stop",n),!this._synced)this._stop(n);else{let r=this.context.transport.schedule(this._stop.bind(this),n);this._scheduled.push(r)}this._state.cancel(n),this._state.setStateAtTime("stopped",n)}return this}restart(e,n,r){return e=this.toSeconds(e),this._state.getValueAtTime(e)==="started"&&(this._state.cancel(e),this._restart(e,n,r)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(e,n)=>{if(n>0){let r=this._state.get(n);if(r&&r.state==="started"&&r.time!==n){let o=n-this.toSeconds(r.time),i;r.duration&&(i=this.toSeconds(r.duration)-o),this._start(e,this.toSeconds(r.offset)+o,i)}}},this._syncedStop=e=>{let n=this.context.transport.getSecondsAtTime(Math.max(e-this.sampleTime,0));this._state.getValueAtTime(n)==="started"&&this._stop(e)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(e=>this.context.transport.clear(e)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=oe,this.unsync(),this._volume.dispose(),this._state.dispose(),this}};var Pr=class t extends Jn{constructor(){super(y(t.getDefaults(),arguments,["url","onload"])),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1;let e=y(t.getDefaults(),arguments,["url","onload"]);$t(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new fe({context:this.context,param:this._source.playbackRate,units:"positive",value:e.playbackRate}),this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this._buffer=new Ft(e.url,e.onload,e.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(Jn.getDefaults(),{url:new Ft,loop:!1,loopEnd:0,loopStart:0,onload:oe,onerror:oe,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e}get curve(){return this._curve}set curve(e){this._curve=e}start(e,n,r,o=1){G(this.buffer.loaded,"buffer is either not set or not loaded");let i=this.toSeconds(e);this._startGain(i,o),this.loop?n=Qt(n,this.loopStart):n=Qt(n,0);let s=Math.max(this.toSeconds(n),0);if(this.loop){let a=this.toSeconds(this.loopEnd)||this.buffer.duration,c=this.toSeconds(this.loopStart),u=a-c;Ga(s,a)&&(s=(s-c)%u+c),qt(s,this.buffer.duration)&&(s=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,pl(s,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(i,s)),ne(r)){let a=this.toSeconds(r);a=Math.max(a,0),this.stop(i+a)}return this}_stopSource(e){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(e)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(e){this._source.loopStart=this.toSeconds(e)}get loopEnd(){return this._source.loopEnd}set loopEnd(e){this._source.loopEnd=this.toSeconds(e)}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._source.loop}set loop(e){this._source.loop=e,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}};var Mue=44100*5;function Jt(t,e){return _e(this,void 0,void 0,function*(){let n=e/t.context.sampleRate,r=new Dr(1,n,t.context.sampleRate);return new t.constructor(Object.assign(t.get(),{frequency:2/n,detune:0,context:r})).toDestination().start(0),(yield r.render()).getChannelData(0)})}var Ya=class t extends Jn{constructor(){super(y(t.getDefaults(),arguments,["frequency","type"])),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator];let e=y(t.getDefaults(),arguments,["frequency","type"]);$t(this._oscillator,this._gainNode),this.type=e.type,this.frequency=new fe({context:this.context,param:this._oscillator.frequency,units:"frequency",value:e.frequency}),this.detune=new fe({context:this.context,param:this._oscillator.detune,units:"cents",value:e.detune}),B(this,["frequency","detune"])}static getDefaults(){return Object.assign(Jn.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(e){let n=this.toSeconds(e);return this.log("start",n),this._startGain(n),this._oscillator.start(n),this}_stopSource(e){this._oscillator.stop(e)}setPeriodicWave(e){return this._oscillator.setPeriodicWave(e),this}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}};var ft=(()=>{class t extends Fe{constructor(){super(y(t.getDefaults(),arguments,["frequency","type"])),this.name="Oscillator",this._oscillator=null;let n=y(t.getDefaults(),arguments,["frequency","type"]);this.frequency=new se({context:this.context,units:"frequency",value:n.frequency}),B(this,"frequency"),this.detune=new se({context:this.context,units:"cents",value:n.detune}),B(this,"detune"),this._partials=n.partials,this._partialCount=n.partialCount,this._type=n.type,n.partialCount&&n.type!=="custom"&&(this._type=this.baseType+n.partialCount.toString()),this.phase=n.phase}static getDefaults(){return Object.assign(Fe.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(n){let r=this.toSeconds(n),o=new Ya({context:this.context,onended:()=>this.onstop(this)});this._oscillator=o,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(r)}_stop(n){let r=this.toSeconds(n);this._oscillator&&this._oscillator.stop(r)}_restart(n){let r=this.toSeconds(n);return this.log("restart",r),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(r),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return t._periodicWaveCache.find(r=>r.phase===this._phase&&wC(r.partials,this._partials));{let n=t._periodicWaveCache.find(r=>r.type===this._type&&r.phase===this._phase);return this._partialCount=n?n.partialCount:this._partialCount,n}}get type(){return this._type}set type(n){this._type=n;let r=["sine","square","sawtooth","triangle"].indexOf(n)!==-1;if(this._phase===0&&r)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=n);else{let o=this._getCachedPeriodicWave();if(ne(o)){let{partials:i,wave:s}=o;this._wave=s,this._partials=i,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{let[i,s]=this._getRealImaginary(n,this._phase),a=this.context.createPeriodicWave(i,s);this._wave=a,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),t._periodicWaveCache.push({imag:s,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:i,type:this._type,wave:this._wave}),t._periodicWaveCache.length>100&&t._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(n){this.partialCount&&this._type!=="custom"&&n!=="custom"?this.type=n+this.partialCount:this.type=n}get partialCount(){return this._partialCount}set partialCount(n){_t(n,0);let r=this._type,o=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(o&&(r=o[1]),this._type!=="custom")n===0?this.type=r:this.type=r+n.toString();else{let i=new Float32Array(n);this._partials.forEach((s,a)=>i[a]=s),this._partials=Array.from(i),this.type=this._type}}_getRealImaginary(n,r){let i=2048,s=new Float32Array(i),a=new Float32Array(i),c=1;if(n==="custom"){if(c=this._partials.length+1,this._partialCount=this._partials.length,i=c,this._partials.length===0)return[s,a]}else{let u=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(n);u?(c=parseInt(u[2],10)+1,this._partialCount=parseInt(u[2],10),n=u[1],c=Math.max(c,2),i=c):this._partialCount=0,this._partials=[]}for(let u=1;u<i;++u){let l=2/(u*Math.PI),d;switch(n){case"sine":d=u<=c?1:0,this._partials[u-1]=d;break;case"square":d=u&1?2*l:0,this._partials[u-1]=d;break;case"sawtooth":d=l*(u&1?1:-1),this._partials[u-1]=d;break;case"triangle":u&1?d=2*(l*l)*(u-1>>1&1?-1:1):d=0,this._partials[u-1]=d;break;case"custom":d=this._partials[u-1];break;default:throw new TypeError("Oscillator: invalid type: "+n)}d!==0?(s[u]=-d*Math.sin(r*u),a[u]=d*Math.cos(r*u)):(s[u]=0,a[u]=0)}return[s,a]}_inverseFFT(n,r,o){let i=0,s=n.length;for(let a=0;a<s;a++)i+=n[a]*Math.cos(a*o)+r[a]*Math.sin(a*o);return i}getInitialValue(){let[n,r]=this._getRealImaginary(this._type,0),o=0,i=Math.PI*2,s=32;for(let a=0;a<s;a++)o=Math.max(this._inverseFFT(n,r,a/s*i),o);return Xp(-this._inverseFFT(n,r,this._phase)/o,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(n){this._partials=n,this._partialCount=this._partials.length,n.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(n){this._phase=n*Math.PI/180,this.type=this._type}asArray(n=1024){return _e(this,void 0,void 0,function*(){return Jt(this,n)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}return t._periodicWaveCache=[],t})();var fn=class t extends F{constructor(){super(Object.assign(y(t.getDefaults(),arguments,["context"])))}connect(e,n=0,r=0){return vs(this,e,n,r),this}};var On=class t extends fn{constructor(){super(Object.assign(y(t.getDefaults(),arguments,["mapping","length"]))),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper;let e=y(t.getDefaults(),arguments,["mapping","length"]);ot(e.mapping)||e.mapping instanceof Float32Array?this.curve=Float32Array.from(e.mapping):gC(e.mapping)&&this.setMap(e.mapping,e.length)}static getDefaults(){return Object.assign(se.getDefaults(),{length:1024})}setMap(e,n=1024){let r=new Float32Array(n);for(let o=0,i=n;o<i;o++){let s=o/(i-1)*2-1;r[o]=e(s,o)}return this.curve=r,this}get curve(){return this._shaper.curve}set curve(e){this._shaper.curve=e}get oversample(){return this._shaper.oversample}set oversample(e){let n=["none","2x","4x"].some(r=>r.includes(e));G(n,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.disconnect(),this}};var ws=class extends fn{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new On({context:this.context,mapping:e=>(e+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}};var pt=class t extends se{constructor(){super(Object.assign(y(t.getDefaults(),arguments,["value"]))),this.name="Multiply",this.override=!1;let e=y(t.getDefaults(),arguments,["value"]);this._mult=this.input=this.output=new Q({context:this.context,minValue:e.minValue,maxValue:e.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(se.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}};var Qa=class t extends Fe{constructor(){super(y(t.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="AMOscillator",this._modulationScale=new ws({context:this.context}),this._modulationNode=new Q({context:this.context});let e=y(t.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new ft({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new ft({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new pt({context:this.context,units:"positive",value:e.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),B(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(ft.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){this._modulator.restart(e),this._carrier.restart(e)}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(e=1024){return _e(this,void 0,void 0,function*(){return Jt(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}};var bs=class t extends Fe{constructor(){super(y(t.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="FMOscillator",this._modulationNode=new Q({context:this.context,gain:0});let e=y(t.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new ft({context:this.context,detune:e.detune,frequency:0,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.detune=this._carrier.detune,this.frequency=new se({context:this.context,units:"frequency",value:e.frequency}),this._modulator=new ft({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new pt({context:this.context,units:"positive",value:e.harmonicity}),this.modulationIndex=new pt({context:this.context,units:"positive",value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),B(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(ft.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){return this._modulator.restart(e),this._carrier.restart(e),this}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(e=1024){return _e(this,void 0,void 0,function*(){return Jt(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}};var qo=class t extends Fe{constructor(){super(y(t.getDefaults(),arguments,["frequency","width"])),this.name="PulseOscillator",this._widthGate=new Q({context:this.context,gain:0}),this._thresh=new On({context:this.context,mapping:n=>n<=0?-1:1});let e=y(t.getDefaults(),arguments,["frequency","width"]);this.width=new se({context:this.context,units:"audioRange",value:e.width}),this._triangle=new ft({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),B(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(Fe.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(e){e=this.toSeconds(e),this._triangle.start(e),this._widthGate.gain.setValueAtTime(1,e)}_stop(e){e=this.toSeconds(e),this._triangle.stop(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(0,e)}_restart(e){this._triangle.restart(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(1,e)}get phase(){return this._triangle.phase}set phase(e){this._triangle.phase=e}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(e){this._triangle.type=e}asArray(e=1024){return _e(this,void 0,void 0,function*(){return Jt(this,e)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}};var Xa=class t extends Fe{constructor(){super(y(t.getDefaults(),arguments,["frequency","type","spread"])),this.name="FatOscillator",this._oscillators=[];let e=y(t.getDefaults(),arguments,["frequency","type","spread"]);this.frequency=new se({context:this.context,units:"frequency",value:e.frequency}),this.detune=new se({context:this.context,units:"cents",value:e.detune}),this._spread=e.spread,this._type=e.type,this._phase=e.phase,this._partials=e.partials,this._partialCount=e.partialCount,this.count=e.count,B(this,["frequency","detune"])}static getDefaults(){return Object.assign(ft.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(e){e=this.toSeconds(e),this._forEach(n=>n.start(e))}_stop(e){e=this.toSeconds(e),this._forEach(n=>n.stop(e))}_restart(e){this._forEach(n=>n.restart(e))}_forEach(e){for(let n=0;n<this._oscillators.length;n++)e(this._oscillators[n],n)}get type(){return this._type}set type(e){this._type=e,this._forEach(n=>n.type=e)}get spread(){return this._spread}set spread(e){if(this._spread=e,this._oscillators.length>1){let n=-e/2,r=e/(this._oscillators.length-1);this._forEach((o,i)=>o.detune.value=n+r*i)}}get count(){return this._oscillators.length}set count(e){if(_t(e,1),this._oscillators.length!==e){this._forEach(n=>n.dispose()),this._oscillators=[];for(let n=0;n<e;n++){let r=new ft({context:this.context,volume:-6-e*1.1,type:this._type,phase:this._phase+n/e*360,partialCount:this._partialCount,onstop:n===0?()=>this.onstop(this):oe});this.type==="custom"&&(r.partials=this._partials),this.frequency.connect(r.frequency),this.detune.connect(r.detune),r.detune.overridden=!1,r.connect(this.output),this._oscillators[n]=r}this.spread=this._spread,this.state==="started"&&this._forEach(n=>n.start())}}get phase(){return this._phase}set phase(e){this._phase=e,this._forEach((n,r)=>n.phase=this._phase+r/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(e){this._forEach(n=>n.baseType=e),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this._type="custom",this._forEach(n=>n.partials=e))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(e){this._partialCount=e,this._forEach(n=>n.partialCount=e),this._type=this._oscillators[0].type}asArray(e=1024){return _e(this,void 0,void 0,function*(){return Jt(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(e=>e.dispose()),this}};var Ka=class t extends Fe{constructor(){super(y(t.getDefaults(),arguments,["frequency","modulationFrequency"])),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new pt({context:this.context,value:2});let e=y(t.getDefaults(),arguments,["frequency","modulationFrequency"]);this._pulse=new qo({context:this.context,frequency:e.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new ft({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),B(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(Fe.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(e){e=this.toSeconds(e),this._modulator.start(e),this._pulse.start(e)}_stop(e){e=this.toSeconds(e),this._modulator.stop(e),this._pulse.stop(e)}_restart(e){this._modulator.restart(e),this._pulse.restart(e)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(e){this._modulator.phase=e}asArray(e=1024){return _e(this,void 0,void 0,function*(){return Jt(this,e)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}};var NC={am:Qa,fat:Xa,fm:bs,oscillator:ft,pulse:qo,pwm:Ka},$o=class t extends Fe{constructor(){super(y(t.getDefaults(),arguments,["frequency","type"])),this.name="OmniOscillator";let e=y(t.getDefaults(),arguments,["frequency","type"]);this.frequency=new se({context:this.context,units:"frequency",value:e.frequency}),this.detune=new se({context:this.context,units:"cents",value:e.detune}),B(this,["frequency","detune"]),this.set(e)}static getDefaults(){return Object.assign(ft.getDefaults(),bs.getDefaults(),Qa.getDefaults(),Xa.getDefaults(),qo.getDefaults(),Ka.getDefaults())}_start(e){this._oscillator.start(e)}_stop(e){this._oscillator.stop(e)}_restart(e){return this._oscillator.restart(e),this}get type(){let e="";return["am","fm","fat"].some(n=>this._sourceType===n)&&(e=this._sourceType),e+this._oscillator.type}set type(e){e.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(3)):e==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):e==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=e)}get partials(){return this._oscillator.partials}set partials(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=e)}get partialCount(){return this._oscillator.partialCount}set partialCount(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=e)}set(e){return Reflect.has(e,"type")&&e.type&&(this.type=e.type),super.set(e),this}_createNewOscillator(e){if(e!==this._sourceType){this._sourceType=e;let n=NC[e],r=this.now();if(this._oscillator){let o=this._oscillator;o.stop(r),this.context.setTimeout(()=>o.dispose(),this.blockTime)}this._oscillator=new n({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(r)}}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e}get sourceType(){return this._sourceType}set sourceType(e){let n="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(n=this._oscillator.type),e==="fm"?this.type="fm"+n:e==="am"?this.type="am"+n:e==="fat"?this.type="fat"+n:e==="oscillator"?this.type=n:e==="pulse"?this.type="pulse":e==="pwm"&&(this.type="pwm")}_getOscType(e,n){return e instanceof NC[n]}get baseType(){return this._oscillator.baseType}set baseType(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&e!=="pulse"&&e!=="pwm"&&(this._oscillator.baseType=e)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(e){this._getOscType(this._oscillator,"fat")&&Et(e)&&(this._oscillator.count=e)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(e){this._getOscType(this._oscillator,"fat")&&Et(e)&&(this._oscillator.spread=e)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(e){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&xt(e)&&(this._oscillator.modulationType=e)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(e=1024){return _e(this,void 0,void 0,function*(){return Jt(this,e)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}};function El(t,e=1/0){let n=new WeakMap;return function(r,o){Reflect.defineProperty(r,o,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(i){_t(i,t,e),n.set(this,i)}})}}function en(t,e=1/0){let n=new WeakMap;return function(r,o){Reflect.defineProperty(r,o,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(i){_t(this.toSeconds(i),t,e),n.set(this,i)}})}}var Ho=class t extends Fe{constructor(){super(y(t.getDefaults(),arguments,["url","onload"])),this.name="Player",this._activeSources=new Set;let e=y(t.getDefaults(),arguments,["url","onload"]);this._buffer=new Ft({onload:this._onload.bind(this,e.onload),onerror:e.onerror,reverse:e.reverse,url:e.url}),this.autostart=e.autostart,this._loop=e.loop,this._loopStart=e.loopStart,this._loopEnd=e.loopEnd,this._playbackRate=e.playbackRate,this.fadeIn=e.fadeIn,this.fadeOut=e.fadeOut}static getDefaults(){return Object.assign(Fe.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:oe,onerror:oe,playbackRate:1,reverse:!1})}load(e){return _e(this,void 0,void 0,function*(){return yield this._buffer.load(e),this._onload(),this})}_onload(e=oe){e(),this.autostart&&this.start()}_onSourceEnd(e){this.onstop(this),this._activeSources.delete(e),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(e,n,r){return super.start(e,n,r),this}_start(e,n,r){this._loop?n=Qt(n,this._loopStart):n=Qt(n,0);let o=this.toSeconds(n),i=r;r=Qt(r,Math.max(this._buffer.duration-o,0));let s=this.toSeconds(r);s=s/this._playbackRate,e=this.toSeconds(e);let a=new Pr({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(e+s),this._state.setStateAtTime("stopped",e+s,{implicitEnd:!0})),this._activeSources.add(a),this._loop&&ht(i)?a.start(e,o):a.start(e,o,s-this.toSeconds(this.fadeOut))}_stop(e){let n=this.toSeconds(e);this._activeSources.forEach(r=>r.stop(n))}restart(e,n,r){return super.restart(e,n,r),this}_restart(e,n,r){this._stop(e),this._start(e,n,r)}seek(e,n){let r=this.toSeconds(n);if(this._state.getValueAtTime(r)==="started"){let o=this.toSeconds(e);this._stop(r),this._start(r,o)}return this}setLoopPoints(e,n){return this.loopStart=e,this.loopEnd=n,this}get loopStart(){return this._loopStart}set loopStart(e){this._loopStart=e,this.buffer.loaded&&_t(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(n=>{n.loopStart=e})}get loopEnd(){return this._loopEnd}set loopEnd(e){this._loopEnd=e,this.buffer.loaded&&_t(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(n=>{n.loopEnd=e})}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._loop}set loop(e){if(this._loop!==e&&(this._loop=e,this._activeSources.forEach(n=>{n.loop=e}),e)){let n=this._state.getNextState("stopped",this.now());n&&this._state.cancel(n.time)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e;let n=this.now(),r=this._state.getNextState("stopped",n);r&&r.implicitEnd&&(this._state.cancel(r.time),this._activeSources.forEach(o=>o.cancelStop())),this._activeSources.forEach(o=>{o.playbackRate.setValueAtTime(e,n)})}get reverse(){return this._buffer.reverse}set reverse(e){this._buffer.reverse=e}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(e=>e.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}};At([en(0)],Ho.prototype,"fadeIn",void 0);At([en(0)],Ho.prototype,"fadeOut",void 0);var Ht=class t extends F{constructor(){super(y(t.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="Envelope",this._sig=new se({context:this.context,value:0}),this.output=this._sig,this.input=void 0;let e=y(t.getDefaults(),arguments,["attack","decay","sustain","release"]);this.attack=e.attack,this.decay=e.decay,this.sustain=e.sustain,this.release=e.release,this.attackCurve=e.attackCurve,this.releaseCurve=e.releaseCurve,this.decayCurve=e.decayCurve}static getDefaults(){return Object.assign(F.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(e,n){if(xt(e))return e;{let r;for(r in Il)if(Il[r][n]===e)return r;return e}}_setCurve(e,n,r){if(xt(r)&&Reflect.has(Il,r)){let o=Il[r];Zn(o)?e!=="_decayCurve"&&(this[e]=o[n]):this[e]=o}else if(ot(r)&&e!=="_decayCurve")this[e]=r;else throw new Error("Envelope: invalid curve: "+r)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(e){this._setCurve("_attackCurve","In",e)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(e){this._setCurve("_releaseCurve","Out",e)}get decayCurve(){return this._decayCurve}set decayCurve(e){G(["linear","exponential"].some(n=>n===e),`Invalid envelope curve: ${e}`),this._decayCurve=e}triggerAttack(e,n=1){this.log("triggerAttack",e,n),e=this.toSeconds(e);let o=this.toSeconds(this.attack),i=this.toSeconds(this.decay),s=this.getValueAtTime(e);if(s>0){let a=1/o;o=(1-s)/a}if(o<this.sampleTime)this._sig.cancelScheduledValues(e),this._sig.setValueAtTime(n,e);else if(this._attackCurve==="linear")this._sig.linearRampTo(n,o,e);else if(this._attackCurve==="exponential")this._sig.targetRampTo(n,o,e);else{this._sig.cancelAndHoldAtTime(e);let a=this._attackCurve;for(let c=1;c<a.length;c++)if(a[c-1]<=s&&s<=a[c]){a=this._attackCurve.slice(c),a[0]=s;break}this._sig.setValueCurveAtTime(a,e,o,n)}if(i&&this.sustain<1){let a=n*this.sustain,c=e+o;this.log("decay",c),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(a,i+c):this._sig.exponentialApproachValueAtTime(a,c,i)}return this}triggerRelease(e){this.log("triggerRelease",e),e=this.toSeconds(e);let n=this.getValueAtTime(e);if(n>0){let r=this.toSeconds(this.release);r<this.sampleTime?this._sig.setValueAtTime(0,e):this._releaseCurve==="linear"?this._sig.linearRampTo(0,r,e):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,r,e):(G(ot(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(e),this._sig.setValueCurveAtTime(this._releaseCurve,e,r,n))}return this}getValueAtTime(e){return this._sig.getValueAtTime(e)}triggerAttackRelease(e,n,r=1){return n=this.toSeconds(n),this.triggerAttack(n,r),this.triggerRelease(n+this.toSeconds(e)),this}cancel(e){return this._sig.cancelScheduledValues(this.toSeconds(e)),this}connect(e,n=0,r=0){return vs(this,e,n,r),this}asArray(e=1024){return _e(this,void 0,void 0,function*(){let n=e/this.context.sampleRate,r=new Dr(1,n,this.context.sampleRate),o=this.toSeconds(this.attack)+this.toSeconds(this.decay),i=o+this.toSeconds(this.release),s=i*.1,a=i+s,c=new this.constructor(Object.assign(this.get(),{attack:n*this.toSeconds(this.attack)/a,decay:n*this.toSeconds(this.decay)/a,release:n*this.toSeconds(this.release)/a,context:r}));return c._sig.toDestination(),c.triggerAttackRelease(n*(o+s)/a,0),(yield r.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}};At([en(0)],Ht.prototype,"attack",void 0);At([en(0)],Ht.prototype,"decay",void 0);At([El(0,1)],Ht.prototype,"sustain",void 0);At([en(0)],Ht.prototype,"release",void 0);var Il=(()=>{let e,n,r=[];for(e=0;e<128;e++)r[e]=Math.sin(e/(128-1)*(Math.PI/2));let o=[],i=6.4;for(e=0;e<128-1;e++){n=e/(128-1);let h=Math.sin(n*(Math.PI*2)*i-Math.PI/2)+1;o[e]=h/10+n*.83}o[128-1]=1;let s=[],a=5;for(e=0;e<128;e++)s[e]=Math.ceil(e/(128-1)*a)/a;let c=[];for(e=0;e<128;e++)n=e/(128-1),c[e]=.5*(1-Math.cos(Math.PI*n));let u=[];for(e=0;e<128;e++){n=e/(128-1);let h=Math.pow(n,3)*4+.2,f=Math.cos(h*Math.PI*2*n);u[e]=Math.abs(f*(1-n))}function l(h){let f=new Array(h.length);for(let p=0;p<h.length;p++)f[p]=1-h[p];return f}function d(h){return h.slice(0).reverse()}return{bounce:{In:l(u),Out:u},cosine:{In:r,Out:d(r)},exponential:"exponential",linear:"linear",ripple:{In:o,Out:l(o)},sine:{In:c,Out:l(c)},step:{In:s,Out:l(s)}}})();var er=class t extends F{constructor(){super(y(t.getDefaults(),arguments)),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease;let e=y(t.getDefaults(),arguments);this._volume=this.output=new Nn({context:this.context,volume:e.volume}),this.volume=this._volume.volume,B(this,"volume")}static getDefaults(){return Object.assign(F.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0)),this}_syncState(){let e=!1;return this._synced||(this._synced=!0,e=!0),e}_syncMethod(e,n){let r=this["_original_"+e]=this[e];this[e]=(...o)=>{let i=o[n],s=this.context.transport.schedule(a=>{o[n]=a,r.apply(this,o)},i);this._scheduledEvents.push(s)}}unsync(){return this._scheduledEvents.forEach(e=>this.context.transport.clear(e)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease),this}triggerAttackRelease(e,n,r,o){let i=this.toSeconds(r),s=this.toSeconds(n);return this.triggerAttack(e,i,o),this.triggerRelease(i+s),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}};var kn=class t extends er{constructor(){super(y(t.getDefaults(),arguments));let e=y(t.getDefaults(),arguments);this.portamento=e.portamento,this.onsilence=e.onsilence}static getDefaults(){return Object.assign(er.getDefaults(),{detune:0,onsilence:oe,portamento:0})}triggerAttack(e,n,r=1){this.log("triggerAttack",e,n,r);let o=this.toSeconds(n);return this._triggerEnvelopeAttack(o,r),this.setNote(e,o),this}triggerRelease(e){this.log("triggerRelease",e);let n=this.toSeconds(e);return this._triggerEnvelopeRelease(n),this}setNote(e,n){let r=this.toSeconds(n),o=e instanceof Kt?e.toFrequency():e;if(this.portamento>0&&this.getLevelAtTime(r)>.05){let i=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(o,i,r)}else this.frequency.setValueAtTime(o,r);return this}};At([en(0)],kn.prototype,"portamento",void 0);var Cs=class t extends Ht{constructor(){super(y(t.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new Q({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}};var Wo=class t extends kn{constructor(){super(y(t.getDefaults(),arguments)),this.name="Synth";let e=y(t.getDefaults(),arguments);this.oscillator=new $o(Object.assign({context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)},e.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new Cs(Object.assign({context:this.context},e.envelope)),this.oscillator.chain(this.envelope,this.output),B(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(kn.getDefaults(),{envelope:Object.assign(Cr(Ht.getDefaults(),Object.keys(F.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(Cr($o.getDefaults(),[...Object.keys(Fe.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(e,n){if(this.envelope.triggerAttack(e,n),this.oscillator.start(e),this.envelope.sustain===0){let r=this.toSeconds(this.envelope.attack),o=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+r+o)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}};var Ml=class t extends Wo{constructor(){super(y(t.getDefaults(),arguments)),this.name="MembraneSynth",this.portamento=0;let e=y(t.getDefaults(),arguments);this.pitchDecay=e.pitchDecay,this.octaves=e.octaves,B(this,["oscillator","envelope"])}static getDefaults(){return Qn(kn.getDefaults(),Wo.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(e,n){let r=this.toSeconds(n),o=this.toFrequency(e instanceof Kt?e.toFrequency():e),i=o*this.octaves;return this.oscillator.frequency.setValueAtTime(i,r),this.oscillator.frequency.exponentialRampToValueAtTime(o,r+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}};At([El(0)],Ml.prototype,"octaves",void 0);At([en(0)],Ml.prototype,"pitchDecay",void 0);var kC=new Set;function Ss(t){kC.add(t)}function Nl(t,e){let n=`registerProcessor("${t}", ${e})`;kC.add(n)}var Bk=`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the [[ToneAudioWorklet]]. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`;Ss(Bk);var Uk=`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`;Ss(Uk);var qk=`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`;Ss(qk);var RC="feedback-comb-filter",$k=`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`;Nl(RC,$k);var Ol=class t extends er{constructor(){super(y(t.getDefaults(),arguments,["urls","onload","baseUrl"],"urls")),this.name="Sampler",this._activeSources=new Map;let e=y(t.getDefaults(),arguments,["urls","onload","baseUrl"],"urls"),n={};Object.keys(e.urls).forEach(r=>{let o=parseInt(r,10);if(G(Wa(r)||Et(o)&&isFinite(o),`url key is neither a note or midi pitch: ${r}`),Wa(r)){let i=new Kt(this.context,r).toMidi();n[i]=e.urls[r]}else Et(o)&&isFinite(o)&&(n[o]=e.urls[o])}),this._buffers=new _s({urls:n,onload:e.onload,baseUrl:e.baseUrl,onerror:e.onerror}),this.attack=e.attack,this.release=e.release,this.curve=e.curve,this._buffers.loaded&&Promise.resolve().then(e.onload)}static getDefaults(){return Object.assign(er.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:oe,onerror:oe,release:.1,urls:{}})}_findClosest(e){let r=0;for(;r<96;){if(this._buffers.has(e+r))return-r;if(this._buffers.has(e-r))return r;r++}throw new Error(`No available buffers for note: ${e}`)}triggerAttack(e,n,r=1){return this.log("triggerAttack",e,n,r),Array.isArray(e)||(e=[e]),e.forEach(o=>{let i=Jp(new Kt(this.context,o).toFrequency()),s=Math.round(i),a=i-s,c=this._findClosest(s),u=s-c,l=this._buffers.get(u),d=Bo(c+a),h=new Pr({url:l,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:d}).connect(this.output);h.start(n,0,l.duration/d,r),ot(this._activeSources.get(s))||this._activeSources.set(s,[]),this._activeSources.get(s).push(h),h.onended=()=>{if(this._activeSources&&this._activeSources.has(s)){let f=this._activeSources.get(s),p=f.indexOf(h);p!==-1&&f.splice(p,1)}}}),this}triggerRelease(e,n){return this.log("triggerRelease",e,n),Array.isArray(e)||(e=[e]),e.forEach(r=>{let o=new Kt(this.context,r).toMidi();if(this._activeSources.has(o)&&this._activeSources.get(o).length){let i=this._activeSources.get(o);n=this.toSeconds(n),i.forEach(s=>{s.stop(n)}),this._activeSources.set(o,[])}}),this}releaseAll(e){let n=this.toSeconds(e);return this._activeSources.forEach(r=>{for(;r.length;)r.shift().stop(n)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(e,n,r,o=1){let i=this.toSeconds(r);return this.triggerAttack(e,i,o),ot(n)?(G(ot(e),"notes must be an array when duration is array"),e.forEach((s,a)=>{let c=n[Math.min(a,n.length-1)];this.triggerRelease(s,i+this.toSeconds(c))})):this.triggerRelease(e,i+this.toSeconds(n)),this}add(e,n,r){if(G(Wa(e)||isFinite(e),`note must be a pitch or midi: ${e}`),Wa(e)){let o=new Kt(this.context,e).toMidi();this._buffers.add(o,n,r)}else this._buffers.add(e,n,r);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(e=>{e.forEach(n=>n.dispose())}),this._activeSources.clear(),this}};At([en(0)],Ol.prototype,"attack",void 0);At([en(0)],Ol.prototype,"release",void 0);var Ts=class t extends We{constructor(){super(y(t.getDefaults(),arguments,["callback","value"])),this.name="ToneEvent",this._state=new Xn("stopped"),this._startOffset=0;let e=y(t.getDefaults(),arguments,["callback","value"]);this._loop=e.loop,this.callback=e.callback,this.value=e.value,this._loopStart=this.toTicks(e.loopStart),this._loopEnd=this.toTicks(e.loopEnd),this._playbackRate=e.playbackRate,this._probability=e.probability,this._humanize=e.humanize,this.mute=e.mute,this._playbackRate=e.playbackRate,this._state.increasing=!0,this._rescheduleEvents()}static getDefaults(){return Object.assign(We.getDefaults(),{callback:oe,humanize:!1,loop:!1,loopEnd:"1m",loopStart:0,mute:!1,playbackRate:1,probability:1,value:null})}_rescheduleEvents(e=-1){this._state.forEachFrom(e,n=>{let r;if(n.state==="started"){n.id!==-1&&this.context.transport.clear(n.id);let o=n.time+Math.round(this.startOffset/this._playbackRate);if(this._loop===!0||Et(this._loop)&&this._loop>1){r=1/0,Et(this._loop)&&(r=this._loop*this._getLoopDuration());let i=this._state.getAfter(o);i!==null&&(r=Math.min(r,i.time-o)),r!==1/0&&(this._state.setStateAtTime("stopped",o+r+1,{id:-1}),r=new Je(this.context,r));let s=new Je(this.context,this._getLoopDuration());n.id=this.context.transport.scheduleRepeat(this._tick.bind(this),s,new Je(this.context,o),r)}else n.id=this.context.transport.schedule(this._tick.bind(this),new Je(this.context,o))}})}get state(){return this._state.getValueAtTime(this.context.transport.ticks)}get startOffset(){return this._startOffset}set startOffset(e){this._startOffset=e}get probability(){return this._probability}set probability(e){this._probability=e}get humanize(){return this._humanize}set humanize(e){this._humanize=e}start(e){let n=this.toTicks(e);return this._state.getValueAtTime(n)==="stopped"&&(this._state.add({id:-1,state:"started",time:n}),this._rescheduleEvents(n)),this}stop(e){this.cancel(e);let n=this.toTicks(e);if(this._state.getValueAtTime(n)==="started"){this._state.setStateAtTime("stopped",n,{id:-1});let r=this._state.getBefore(n),o=n;r!==null&&(o=r.time),this._rescheduleEvents(o)}return this}cancel(e){e=Qt(e,-1/0);let n=this.toTicks(e);return this._state.forEachFrom(n,r=>{this.context.transport.clear(r.id)}),this._state.cancel(n),this}_tick(e){let n=this.context.transport.getTicksAtTime(e);if(!this.mute&&this._state.getValueAtTime(n)==="started"){if(this.probability<1&&Math.random()>this.probability)return;if(this.humanize){let r=.02;dl(this.humanize)||(r=this.toSeconds(this.humanize)),e+=(Math.random()*2-1)*r}this.callback(e,this.value)}}_getLoopDuration(){return Math.round((this._loopEnd-this._loopStart)/this._playbackRate)}get loop(){return this._loop}set loop(e){this._loop=e,this._rescheduleEvents()}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e,this._rescheduleEvents()}get loopEnd(){return new Je(this.context,this._loopEnd).toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e),this._loop&&this._rescheduleEvents()}get loopStart(){return new Je(this.context,this._loopStart).toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e),this._loop&&this._rescheduleEvents()}get progress(){if(this._loop){let e=this.context.transport.ticks,n=this._state.get(e);if(n!==null&&n.state==="started"){let r=this._getLoopDuration();return(e-n.time)%r/r}else return 0}else return 0}dispose(){return super.dispose(),this.cancel(),this._state.dispose(),this}};var Ja=class t extends We{constructor(){super(y(t.getDefaults(),arguments,["callback","interval"])),this.name="Loop";let e=y(t.getDefaults(),arguments,["callback","interval"]);this._event=new Ts({context:this.context,callback:this._tick.bind(this),loop:!0,loopEnd:e.interval,playbackRate:e.playbackRate,probability:e.probability}),this.callback=e.callback,this.iterations=e.iterations}static getDefaults(){return Object.assign(We.getDefaults(),{interval:"4n",callback:oe,playbackRate:1,iterations:1/0,probability:1,mute:!1,humanize:!1})}start(e){return this._event.start(e),this}stop(e){return this._event.stop(e),this}cancel(e){return this._event.cancel(e),this}_tick(e){this.callback(e)}get state(){return this._event.state}get progress(){return this._event.progress}get interval(){return this._event.loopEnd}set interval(e){this._event.loopEnd=e}get playbackRate(){return this._event.playbackRate}set playbackRate(e){this._event.playbackRate=e}get humanize(){return this._event.humanize}set humanize(e){this._event.humanize=e}get probability(){return this._event.probability}set probability(e){this._event.probability=e}get mute(){return this._event.mute}set mute(e){this._event.mute=e}get iterations(){return this._event.loop===!0?1/0:this._event.loop}set iterations(e){e===1/0?this._event.loop=!0:this._event.loop=e}dispose(){return super.dispose(),this._event.dispose(),this}};var ec=class t extends F{constructor(){super(Object.assign(y(t.getDefaults(),arguments,["pan"]))),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner;let e=y(t.getDefaults(),arguments,["pan"]);this.pan=new fe({context:this.context,param:this._panner.pan,value:e.pan,minValue:-1,maxValue:1}),this._panner.channelCount=e.channelCount,this._panner.channelCountMode="explicit",B(this,"pan")}static getDefaults(){return Object.assign(F.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}};var PC="bit-crusher",Qk=`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`;Nl(PC,Qk);var Oxe=[1557/44100,1617/44100,1491/44100,1422/44100,1277/44100,1356/44100,1188/44100,1116/44100];var Bxe=[1687/25e3,1601/25e3,2053/25e3,2251/25e3];var Es=class t extends F{constructor(){super(y(t.getDefaults(),arguments,["solo"])),this.name="Solo";let e=y(t.getDefaults(),arguments,["solo"]);this.input=this.output=new Q({context:this.context}),t._allSolos.has(this.context)||t._allSolos.set(this.context,new Set),t._allSolos.get(this.context).add(this),this.solo=e.solo}static getDefaults(){return Object.assign(F.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(e){e?this._addSolo():this._removeSolo(),t._allSolos.get(this.context).forEach(n=>n._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){t._soloed.has(this.context)||t._soloed.set(this.context,new Set),t._soloed.get(this.context).add(this)}_removeSolo(){t._soloed.has(this.context)&&t._soloed.get(this.context).delete(this)}_isSoloed(){return t._soloed.has(this.context)&&t._soloed.get(this.context).has(this)}_noSolos(){return!t._soloed.has(this.context)||t._soloed.has(this.context)&&t._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),t._allSolos.get(this.context).delete(this),this._removeSolo(),this}};Es._allSolos=new Map;Es._soloed=new Map;var Pl=class t extends F{constructor(){super(y(t.getDefaults(),arguments,["pan","volume"])),this.name="PanVol";let e=y(t.getDefaults(),arguments,["pan","volume"]);this._panner=this.input=new ec({context:this.context,pan:e.pan,channelCount:e.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new Nn({context:this.context,volume:e.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=e.mute,B(this,["pan","volume"])}static getDefaults(){return Object.assign(F.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}};var am=class t extends F{constructor(){super(y(t.getDefaults(),arguments,["volume","pan"])),this.name="Channel";let e=y(t.getDefaults(),arguments,["volume","pan"]);this._solo=this.input=new Es({solo:e.solo,context:this.context}),this._panVol=this.output=new Pl({context:this.context,pan:e.pan,volume:e.volume,mute:e.mute,channelCount:e.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),B(this,["pan","volume"])}static getDefaults(){return Object.assign(F.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(e){this._solo.solo=e}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(e){this._panVol.mute=e}_getBus(e){return t.buses.has(e)||t.buses.set(e,new Q({context:this.context})),t.buses.get(e)}send(e,n=0){let r=this._getBus(e),o=new Q({context:this.context,units:"decibels",gain:n});return this.connect(o),o.connect(r),o}receive(e){return this._getBus(e).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}};am.buses=new Map;var cm=class extends F{constructor(){super(...arguments),this.name="Listener",this.positionX=new fe({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new fe({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new fe({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new fe({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new fe({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new fe({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new fe({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new fe({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new fe({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(F.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}};co(t=>{t.listener=new cm({context:t})});uo(t=>{t.listener.dispose()});var tn=Ke().transport;var IDe=Ke().destination,ADe=Ke().destination;var MDe=Ke().listener;var LC=Ke().draw;var NDe=Ke();function Vl(){return Ft.loaded()}var Pt=class t{constructor(e=hn(0)){this._toneTime=e}static fromValue(e){return new this(hn(e))}static fromTransport(e){return new this(hn(e.position))}add(e){let n=this.toSeconds()+e.toSeconds();return new t(hn(n,"s"))}relativeTo(e){return new t(hn(this.toSeconds()-e.toSeconds(),"s"))}compareTo(e){return this.toSeconds()-e.toSeconds()}isBefore(e){return this.compareTo(e)<0}isBeforeOrEquals(e){return this.compareTo(e)<=0}isAfterOrEquals(e){return this.compareTo(e)>=0}toBarsBeatsSixteenths(){return this._toneTime.toBarsBeatsSixteenths()}toAbletonLiveBarsBeatsSixteenths(){let e=this._toneTime.toBarsBeatsSixteenths().split(":"),n=+e[0]+1,r=+e[1]+1,o=Math.floor(+e[2])+1;return`${n}.${r}.${o}`}toAbletonLiveBeatTime(){let e=this._toneTime.toBarsBeatsSixteenths().split(":"),n=+e[0],r=+e[1],o=Math.floor(+e[2]);return n*4+r+o/4}toSeconds(){return this._toneTime.toSeconds()}toString(){return this.toBarsBeatsSixteenths()}};var Ll=class{constructor(e,n,r){this.pattern=e,this.structure=n,this.startTime=r,this.endTime=r.add(e.duration)}get initial(){return this.pattern.initial??this.pattern.name.charAt(0)}getChordAt(e){let n=e.relativeTo(this.startTime);return console.log("getChordAt",e.toBarsBeatsSixteenths(),n.toString(),`
`+this.pattern.chords?.toString()),this.pattern.chords?.getChordAt(n)}};var jl=class{constructor(e){this.startTimes=[],this.patternsInStructure=[];let n=new Pt;for(let r of e)this.patternsInStructure.push(new Ll(r,this,n)),n=n.add(r.duration);this.duration=n}getPatternInStructureAt(e){let n=this.patternsInStructure[0];if(!e.isBefore(n.startTime)){for(let r of this.patternsInStructure)if(e.isBefore(r.endTime))return r}}};var Bl=["C","C#","D","Eb","E","F","F#","G","Ab","A","Bb","B"],Go=class{constructor(e){let n=e%12;this.value=n>=0?n:n+12}static getValueFromName(e,n){let r=n.indexOf(e);if(r===-1)throw new Error("invalid name : "+e);return r}equals(e){return this.value===e.value}},It=class t extends Go{constructor(e){super(e)}static fromName(e){return new t(Go.getValueFromName(e,Bl))}next(e){return new t(this.value+e)}get name(){return Bl[this.value]}is(e){return this.value===e.value}degreeIn(e){return new lm(this.value-e.note.value)}modeIn(e){return new tc(e.mode.value+this.value-e.note.value)}toString(){return Bl[this.value]}};(function(t){t.C=t.fromName("C"),t.Cs=t.fromName("C#"),t.D=t.fromName("D"),t.Eb=t.fromName("Eb"),t.E=t.fromName("E"),t.F=t.fromName("F"),t.Fs=t.fromName("F#"),t.G=t.fromName("G"),t.Ab=t.fromName("Ab"),t.A=t.fromName("A"),t.Bb=t.fromName("Bb"),t.B=t.fromName("B")})(It||(It={}));var jC=["I","bii","ii","biii","iii","IV","bV","V","bvi","vi","bvii","vii"],tc=class extends Go{constructor(e){super(e)}static fromName(e){return new It(Go.getValueFromName(e,jC))}get name(){return jC[this.value]}},Is=class{constructor(e,n){this.note=e,this.mode=n}},lm=class extends Go{constructor(e){super(e)}},As=class t{constructor(e,n){this.name=e,this.root=t.getRootFromName(e)}static getRootFromName(e){if(Bl.includes(e))return It.fromName(e);switch(e){case"Gm":return It.G}throw new Error("Cannot find root from "+e)}toString(){return this.name}};(function(t){t.Gm=new t("Gm",It.G)})(As||(As={}));var Ul=class t{constructor(e=[]){this.chordsByTime=e}static fromAsciiChords(e){console.log("asciiChords",e);let n=e.split("|").slice(1,-1).map(i=>i.trim());if(n.length===0)throw new Error("Cannot find bars in AsciiChords : "+e);let r=new t,o=Pt.fromValue(0);return n.forEach(i=>{let s=i.split(" ");if(s.length===1){let a=Pt.fromValue("1m"),c=new As(i);console.log(o.toBarsBeatsSixteenths(),c.name),r.setChordAt(o,c),o=o.add(a);return}if(s.length===2){let a=Pt.fromValue("2n");s.forEach(c=>{let u=new As(c);console.log(o.toBarsBeatsSixteenths(),u.name),r.setChordAt(o,u),o=o.add(a)});return}throw new Error("Cannot split chords in bar : "+i)}),r}setChordAt(e,n){this.chordsByTime.push([e,n])}getChordAt(e){return[...this.chordsByTime].reverse().find(([o])=>o.isBeforeOrEquals(e))?.[1]}get length(){return this.chordsByTime.length}toString(){return this.chordsByTime.map(([e,n])=>`${e.toBarsBeatsSixteenths()} ${n}`).join(`
`)}};var Ms=class t{constructor(e,n,r,o,i){this.name=e,this.duration=n,this.initial=r,this.key=o,this.chords=i}static fromData(e){return new t(e.name,new Pt(hn(e.duration)),e.initial,e.key,e.chords?Ul.fromAsciiChords(e.chords):void 0)}};var j=class{constructor(e,n){this.secTime=e,this.beatTime=n}};var ql=class t{constructor(e,n){this.strings=e,this.lines=n}static create(e){let{startingNote:n,stringInterval:r,stringsCount:o,lowestFret:i,fretsCount:s}=e,a=this.buildStrings(n,r,o),u=[...Array(s).keys()].map(l=>i+l).map(l=>dm.create(a,l));return new t(a,u)}static buildStrings(e,n,r){return[...Array(r).keys()].map(i=>e.next(i*n.value))}},dm=class t{constructor(e,n){this.fret=e,this.notes=n}static create(e,n){let r=e.map(o=>new hm(o,n));return new t(n,r)}},hm=class extends It{constructor(e,n){super(e.value+n),this.string=e,this.fret=n}};function rR(t,e){if(t&1&&(De(0,"div"),ut(1),Se()),t&2){let n=e.$implicit,r=K().$implicit,o=K();dr("active",o.currentNote==null?null:o.currentNote.equals(n)),Ei("data-fret",r.fret)("data-string",n.string.name)("data-note",n.value)("data-degree",o.key&&n.degreeIn(o.key).value)("data-mode",o.key&&n.modeIn(o.key).name)("title",o.key&&"Mode : "+n.modeIn(o.key).name+`
Degr\xE9 : +`+n.degreeIn(o.key).value+"/12"),le(1),Zt(" ",n.name," ")}}function oR(t,e){if(t&1&&(Ot(0),De(1,"div",1),ut(2),Se(),ct(3,rR,2,9,"div",2),kt()),t&2){let n=e.$implicit;le(1),Ei("data-fret",n.fret),le(1),Zt(" ",n.fret==12?"":n.fret," "),le(1),ue("ngForOf",n.notes)}}var BC=(()=>{let e=class e{constructor(){this.lowestFret=0,this.startingNote=It.fromName("E"),this.stringInterval=new It(5),this.stringsCount=4,this.fretsCount=5,this.key=new Is(It.fromName("C"),tc.fromName("I"))}ngOnInit(){this.buildFretboard()}buildFretboard(){this.fretboard=ql.create({startingNote:this.startingNote,stringInterval:this.stringInterval,stringsCount:this.stringsCount,lowestFret:this.lowestFret,fretsCount:this.fretsCount})}ngOnChanges(r){this.buildFretboard()}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=Qe({type:e,selectors:[["app-fretboard"]],inputs:{lowestFret:"lowestFret",fretsCount:"fretsCount",key:"key",currentNote:"currentNote"},standalone:!0,features:[So,lt],decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],[1,"fret-mark"],[3,"active",4,"ngFor","ngForOf"]],template:function(o,i){o&1&&ct(0,oR,4,3,"ng-container",0),o&2&&ue("ngForOf",i.fretboard==null?null:i.fretboard.lines)},dependencies:[yt,hr],styles:['@charset "UTF-8";.viewport[_ngcontent-%COMP%]{display:inline-block}[_nghost-%COMP%]{background:#000;display:inline-grid;grid-template-columns:auto repeat(4,1fr);gap:2mm;padding:2mm;margin:2mm}[data-fret][_ngcontent-%COMP%]{flex:1 1 auto;height:2cm;width:2cm;line-height:2cm;box-sizing:border-box}[data-note][_ngcontent-%COMP%]{background:var(--disabled-color);color:var(--disabled-color);border-radius:.1em}[data-note][data-fret="0"][_ngcontent-%COMP%]{border-top-left-radius:100%;border-top-right-radius:100%}[data-note][_ngcontent-%COMP%]:hover, [data-note].active[_ngcontent-%COMP%]{color:#fff;text-shadow:0 0 1ex #000;border:solid 1pt #fff}.fret-mark[_ngcontent-%COMP%]{color:#444;font-size:5mm;text-align:right;width:1cm;text-wrap:nowrap}.fret-mark[data-fret="3"][_ngcontent-%COMP%], .fret-mark[data-fret="5"][_ngcontent-%COMP%], .fret-mark[data-fret="7"][_ngcontent-%COMP%], .fret-mark[data-fret="9"][_ngcontent-%COMP%], .fret-mark[data-fret="12"][_ngcontent-%COMP%], .fret-mark[data-fret="15"][_ngcontent-%COMP%]{color:#fff}.fret-mark[data-fret="3"][_ngcontent-%COMP%]:before, .fret-mark[data-fret="5"][_ngcontent-%COMP%]:before, .fret-mark[data-fret="7"][_ngcontent-%COMP%]:before, .fret-mark[data-fret="9"][_ngcontent-%COMP%]:before, .fret-mark[data-fret="12"][_ngcontent-%COMP%]:before, .fret-mark[data-fret="15"][_ngcontent-%COMP%]:before{content:"\\2b24";margin-right:1ex}.fret-mark[data-fret="12"][_ngcontent-%COMP%]:before{content:"\\2b24\\2b24"}[data-mode=vi][_ngcontent-%COMP%]{background:var(--vi-color);color:var(--vi-color);border-color:var(--vi-color)}[data-mode=ii][_ngcontent-%COMP%]{background:var(--ii-color);color:var(--ii-color);border-color:var(--ii-color)}[data-mode=iii][_ngcontent-%COMP%]{background:var(--iii-color);color:var(--iii-color);border-color:var(--iii-color)}[data-mode=vii][_ngcontent-%COMP%]{background:var(--vii-color);color:var(--vii-color);border-color:var(--vii-color)}[data-mode=IV][_ngcontent-%COMP%]{background:var(--IV-color);color:var(--IV-color);border-color:var(--IV-color)}[data-mode=V][_ngcontent-%COMP%]{background:var(--V-color);color:var(--V-color);border-color:var(--V-color)}[data-mode=I][_ngcontent-%COMP%]{background:var(--I-color);color:var(--I-color);border-color:var(--I-color)}[data-degree="0"][_ngcontent-%COMP%]{color:#fff4;font-weight:700}']});let t=e;return t})();function iR(t,e){if(t&1){let n=Dt();Ot(0),De(1,"input",1),ke("change",function(o){we(n);let i=K();return be(i.uploadFile(o))}),Se(),qe(2,"br"),kt()}}function sR(t,e){if(t&1){let n=Dt();De(0,"button",3),ke("click",function(){we(n);let o=K(2);return be(o.playSong())}),ut(1,"\u23F5"),Se()}}function aR(t,e){if(t&1){let n=Dt();De(0,"button",3),ke("click",function(){we(n);let o=K(2);return be(o.pauseSong())}),ut(1,"\u23F8"),Se()}}function cR(t,e){if(t&1){let n=Dt();Ot(0),ut(1),De(2,"button",6),ke("click",function(){we(n);let o=K(2);return be(o.play())}),ut(3,"Play"),Se(),De(4,"button",6),ke("click",function(){we(n);let o=K(2);return be(o.stop())}),ut(5,"Stop"),Se(),qe(6,"br"),kt()}if(t&2){let n=K(2);le(1),Zt(" ",n.patternToPlay," : "),le(1),ue("disabled",!n.patternToPlay),le(2),ue("disabled",!n.patternToPlay)}}function uR(t,e){if(t&1){let n=Dt();Ot(0),ut(1),qe(2,"app-fretboard",7),De(3,"app-rythm-bar",8),ke("addEvent",function(o){we(n);let i=K(2);return be(i.addEvent(o))})("removeEvent",function(o){we(n);let i=K(2);return be(i.removeEvent(o))}),Se(),qe(4,"br"),De(5,"app-rythm-bar",8),ke("addEvent",function(o){we(n);let i=K(2);return be(i.addEvent(o))})("removeEvent",function(o){we(n);let i=K(2);return be(i.removeEvent(o))}),Se(),qe(6,"br"),kt()}if(t&2){let n=K(2);le(1),Zt(" ",n.currentPatternInStructure.pattern.name," : | Gm F | Eb D | "),le(1),ue("lowestFret",1)("fretsCount",6)("key",n.currentPatternInStructure.pattern.key)("currentNote",n.currentChord==null?null:n.currentChord.root),le(1),ue("number",1)("events",n.events)("timecode",n.timecode),le(2),ue("number",2)("events",n.events)("timecode",n.timecode)}}function lR(t,e){if(t&1){let n=Dt();Ot(0),ut(1),qe(2,"app-fretboard",9),De(3,"app-rythm-bar",10),ke("addEvent",function(o){we(n);let i=K(2);return be(i.addEvent(o))})("removeEvent",function(o){we(n);let i=K(2);return be(i.removeEvent(o))}),Se(),qe(4,"br"),De(5,"app-rythm-bar",10),ke("addEvent",function(o){we(n);let i=K(2);return be(i.addEvent(o))})("removeEvent",function(o){we(n);let i=K(2);return be(i.removeEvent(o))}),Se(),qe(6,"br"),kt()}if(t&2){let n=K(2);le(1),Zt(" ",n.currentPatternInStructure.pattern.name," : | Gm F | Eb D* | (*Bb sur le 4e pattern) "),le(1),ue("lowestFret",1)("fretsCount",6)("key",n.currentPatternInStructure.pattern.key),le(1),ue("number",3)("events",n.events),le(2),ue("number",4)("events",n.events)}}function dR(t,e){if(t&1){let n=Dt();Ot(0),ut(1),qe(2,"app-fretboard",9),De(3,"app-rythm-bar",10),ke("addEvent",function(o){we(n);let i=K(2);return be(i.addEvent(o))})("removeEvent",function(o){we(n);let i=K(2);return be(i.removeEvent(o))}),Se(),qe(4,"br"),De(5,"app-rythm-bar",10),ke("addEvent",function(o){we(n);let i=K(2);return be(i.addEvent(o))})("removeEvent",function(o){we(n);let i=K(2);return be(i.removeEvent(o))}),Se(),qe(6,"br"),De(7,"app-rythm-bar",10),ke("addEvent",function(o){we(n);let i=K(2);return be(i.addEvent(o))})("removeEvent",function(o){we(n);let i=K(2);return be(i.removeEvent(o))}),Se(),qe(8,"br"),De(9,"app-rythm-bar",10),ke("addEvent",function(o){we(n);let i=K(2);return be(i.addEvent(o))})("removeEvent",function(o){we(n);let i=K(2);return be(i.removeEvent(o))}),Se(),kt()}if(t&2){let n=K(2);le(1),Zt(" ",n.currentPatternInStructure.pattern.name," : | Bb | F | C | Gm | "),le(1),ue("lowestFret",1)("fretsCount",3)("key",n.currentPatternInStructure.pattern.key),le(1),ue("number",5)("events",n.events),le(2),ue("number",6)("events",n.events),le(2),ue("number",7)("events",n.events),le(2),ue("number",8)("events",n.events)}}function hR(t,e){if(t&1){let n=Dt();Ot(0),ut(1),ct(2,sR,2,0,"button",2)(3,aR,2,0,"button",2),De(4,"button",3),ke("click",function(){we(n);let o=K();return be(o.stopSong())}),ut(5,"\u23F9"),Se(),qe(6,"br"),De(7,"input",4),ke("change",function(o){we(n);let i=K();return be(i.setProgress(o))}),Se(),qe(8,"br"),ut(9," Gm "),De(10,"app-structure",5),ke("clickPatternInStructure",function(o){we(n);let i=K();return be(i.onClickPatternInStructure(o))}),Se(),qe(11,"br"),ct(12,cR,7,3,"ng-container",0),ut(13),qe(14,"br"),ct(15,uR,7,11,"ng-container",0)(16,lR,7,8,"ng-container",0)(17,dR,10,12,"ng-container",0),kt()}if(t&2){let n=K();le(1),Zt(" ",n.timecode," "),le(1),ue("ngIf",!n.playing),le(1),ue("ngIf",n.playing),le(4),ue("value",n.progress),le(3),ue("structure",n.structure)("currentPatternInStructure",n.currentPatternInStructure),le(2),ue("ngIf",n.patternToPlay),le(1),Zt(" ",n.currentChord," "),le(2),ue("ngIf",n.currentPatternInStructure&&n.currentPatternInStructure.pattern&&n.currentPatternInStructure.pattern.name=="Partie bombarde"),le(1),ue("ngIf",n.currentPatternInStructure&&n.currentPatternInStructure.pattern&&n.currentPatternInStructure.pattern.name=="Couplet"),le(1),ue("ngIf",n.currentPatternInStructure&&n.currentPatternInStructure.pattern&&n.currentPatternInStructure.pattern.name=="Refrain")}}var UC=new Pt(hn(3*60+28,"s")),Rn=[new j(0,-1.1762159715284715),new j(.6474583333333334,0),new j(2.5494791666666665,4),new j(4.533229166666667,8),new j(6.414729166666667,12),new j(8.447458333333334,16),new j(8.623416666666666,16.323610764235763),new j(10.798354166666666,20.323610764235763),new j(12.963208333333332,24.323610764235763),new j(15.102354166666666,28.323610764235763),new j(19.361729166666667,36.32361076423577),new j(21.5016875,40.32361076423577),new j(23.657645833333333,44.32361076423577),new j(25.796,48.32361076423577),new j(30.123145833333332,56.32361076423577),new j(32.3084375,60.32361076423577),new j(36.767270833333335,68.32361076423577),new j(38.93233333333333,72.32361076423577),new j(41.07664583333333,76.32361076423577),new j(45.41322916666667,84.32361076423577),new j(47.56552083333333,88.32361076423577),new j(49.75370833333333,92.32361076423577),new j(54.171625,100.32361076423577),new j(56.36841666666666,104.32361076423577),new j(58.552125,108.32361076423577),new j(60.758874999999996,112.32361076423577),new j(62.94252083333333,116.32361076423577),new j(65.11383333333333,120.32361076423577),new j(69.3805,128.32361076423575),new j(71.57797916666667,132.32361076423575),new j(73.79679166666666,136.32361076423575),new j(76.00502083333333,140.32361076423575),new j(78.20058333333333,144.32361076423575),new j(80.44814583333333,148.32361076423575),new j(82.71722916666667,152.32361076423575),new j(84.971625,156.32361076423575),new j(89.40552083333333,164.32361076423575),new j(91.63077083333333,168.32361076423575),new j(96.12441666666666,176.32361076423575),new j(98.34041666666667,180.32361076423575),new j(100.53739583333333,184.32361076423575),new j(102.71122916666667,188.32361076423575),new j(104.869875,192.32361076423575),new j(107.0630625,196.32361076423575),new j(111.51870833333334,204.32361076423575),new j(115.91847916666666,212.32361076423575),new j(118.13981249999999,216.32361076423575),new j(120.3725625,220.32361076423575),new j(122.5775625,224.32361076423575),new j(124.79789583333333,228.32361076423575),new j(129.27608333333333,236.32361076423575),new j(135.8514375,248.32361076423575),new j(138.0909375,252.32361076423575),new j(140.3044375,256.32361076423575),new j(144.69927083333332,264.32361076423575),new j(146.91591666666667,268.32361076423575),new j(149.09029166666667,272.32361076423575),new j(151.29185416666667,276.32361076423575),new j(155.75666666666666,284.32361076423575),new j(164.63647916666667,300.32361076423575),new j(169.0448125,308.32361076423575),new j(171.278875,312.32361076423575),new j(173.54152083333332,316.32361076423575),new j(175.77772916666666,320.32361076423575),new j(177.99827083333332,324.32361076423575),new j(182.51258333333334,332.32361076423575),new j(184.74072916666665,336.32361076423575),new j(186.95395833333333,340.32361076423575),new j(189.1530833333333,344.32361076423575),new j(191.3145625,348.32361076423575),new j(193.45008333333334,352.32361076423575),new j(195.61702083333333,356.32361076423575),new j(197.8255,360.32361076423575),new j(197.84312565104167,360.35486076423575)],qC=(()=>{let e=class e{constructor(r){this.changeDetectorRef=r,this.events=Hi.fromEach(ux),this.progress=0,tn.schedule(function(o){console.log("Premi\xE8re mesure")},"1m")}addEvent(r){this.events.push(r),this.logEvents(),this.changeDetectorRef.detectChanges()}removeEvent(r){this.events.splice(this.events.indexOf(r),1),this.logEvents(),this.changeDetectorRef.detectChanges()}logEvents(){console.log(this.events)}uploadFile(r){return z(this,null,function*(){let i=r.currentTarget.files;if(!i?.length)return;let s=i[0];console.log("audioFile",s);let a=URL.createObjectURL(s),c=new Ho({url:a}).toDestination();yield Vl();let u=new Is(new It(7),new It(9)),l=Ms.fromData({name:"Partie bombarde",duration:"2m",initial:"B",key:u,chords:"| Gm F | Eb D |"}),d=Ms.fromData({name:"Couplet",duration:"2m",key:u,chords:"| Gm F | Eb D |"}),h=Ms.fromData({name:"Refrain",duration:"4m",key:u,chords:"| Bb | F | C | Gm |"}),f=[d,d],p=[l,l],g=[h],m=[...f,...f],v=[...p,...p],D=[...g,...g],I=new jl([...p,...p,...p,...m,...v,...m,...D,...v,...m,...v,...m,...D,...v]);tn.bpm.value=120,tn.loop=!0,tn.loopStart=0,tn.loopEnd=UC.toSeconds(),c.sync().start(0);let N=new Ja(C=>{LC.schedule(()=>{this.refresh(C)},C)},"16n").start(0);this.structure=I})}refresh(r){let o=s=>{let a=s.position.toString().split(":"),c=+a[0]+1,u=+a[1]+1,l=Math.floor(+a[2])+1;return`${c}:${u}:${l}`};this.progress=Math.min(Math.max(0,tn.progress),1)*100;let i=this.getWrappedPosition(tn.seconds);if(this.timecode=i?.toAbletonLiveBarsBeatsSixteenths(),this.structure&&i){let s=Pt.fromValue(0),a=i.add(s);this.currentPatternInStructure=this.structure.getPatternInStructureAt(a),this.currentChord=this.currentPatternInStructure?.getChordAt(a)}this.changeDetectorRef.detectChanges()}getWrappedPosition(r){if(r<Rn[0].secTime||r>Rn[Rn.length-1].secTime)return;let o=Rn.findIndex(f=>r<f.secTime),i=Rn[o-1],s=Rn[o],a=(r-i.secTime)/(s.secTime-i.secTime),c=i.beatTime+a*(s.beatTime-i.beatTime),u=Math.floor(c/4),l=Math.floor(c)-u*4,d=c%1*4,h=`${u}:${l}:${d}`;return new Pt(hn(h))}getWrappedTime(r){let o=r.toAbletonLiveBeatTime();if(o<Rn[0].beatTime||o>Rn[Rn.length-1].beatTime)return;let i=Rn.findIndex(l=>o<l.beatTime),s=Rn[i-1],a=Rn[i],c=(o-s.beatTime)/(a.beatTime-s.beatTime),u=s.secTime+c*(a.secTime-s.secTime);return new Pt(hn(u))}playSong(){return z(this,null,function*(){console.log("playSong"),yield Vl(),za(),tn.start()})}pauseSong(){return z(this,null,function*(){console.log("pauseSong"),yield Vl(),tn.pause()})}stopSong(){console.log("stopSong"),tn.stop()}onClickPatternInStructure(r){let o=this.getWrappedTime(r.startTime);if(o){let i=o.toSeconds()/UC.toSeconds();this.setProgressPercent(i*100)}}loopPattern(r){return z(this,null,function*(){let o=i=>{let s=["C","B","R"].indexOf(i);if(s===-1)return;let c=document.getElementsByTagName("input")?.[s].files?.[0];if(c)return console.log("file",c),URL.createObjectURL(c)}})}play(){return z(this,null,function*(){if(this.player){console.log("play");let r="https://drive.google.com/file/d/1DktZf_rGRaoRxoJEbo3NVWd9yYFX39aj/view?usp=sharing",o="https://drive.usercontent.google.com/u/0/uc?id=1DktZf_rGRaoRxoJEbo3NVWd9yYFX39aj&export=download",i="../assets/audio/Petit Papillon/Partie bombarde [2024-01-31 233921].wav";yield za(),this.player.start()}})}stop(){return z(this,null,function*(){this.player&&(yield za(),this.player.stop()),this.refresh()})}setProgress(r){let i=+r.target.value;this.setProgressPercent(i)}setProgressPercent(r){let o=new Pt(hn(r/100*+tn.loopEnd.valueOf(),"s"));tn.position=o.toBarsBeatsSixteenths(),this.refresh()}get playing(){return tn.state==="started"}};e.\u0275fac=function(o){return new(o||e)(Nt(Mr))},e.\u0275cmp=Qe({type:e,selectors:[["app-rythm-sandbox"]],standalone:!0,features:[lt],decls:2,vars:2,consts:[[4,"ngIf"],["type","file","accept",".wav,.mp3",3,"change"],[3,"click",4,"ngIf"],[3,"click"],["type","range","min","0","max","100","step","1",3,"value","change"],[3,"structure","currentPatternInStructure","clickPatternInStructure"],[3,"disabled","click"],[3,"lowestFret","fretsCount","key","currentNote"],[3,"number","events","timecode","addEvent","removeEvent"],[3,"lowestFret","fretsCount","key"],[3,"number","events","addEvent","removeEvent"]],template:function(o,i){o&1&&ct(0,iR,3,0,"ng-container",0)(1,hR,18,11,"ng-container",0),o&2&&(ue("ngIf",!i.structure),le(1),ue("ngIf",i.structure))},dependencies:[cx,dx,yt,Ni,nx,BC],styles:["[_nghost-%COMP%]{width:100%}input[type=range][_ngcontent-%COMP%]{width:100%}"]});let t=e;return t})();var $C=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=zt({type:e,bootstrap:[ox]}),e.\u0275inj=Gt({imports:[yt,u_,rx,J_.forRoot([{path:"",component:qC}])]});let t=e;return t})();c_().bootstrapModule($C).catch(t=>console.error(t));
